<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Rust Unstable Book</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="the-unstable-book.html">The Unstable Book</a></li><li class="chapter-item expanded "><a href="compiler-flags.html"><strong aria-hidden="true">1.</strong> Compiler flags</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="compiler-flags/codegen-backend.html"><strong aria-hidden="true">1.1.</strong> codegen_backend</a></li><li class="chapter-item expanded "><a href="compiler-flags/control-flow-guard.html"><strong aria-hidden="true">1.2.</strong> control_flow_guard</a></li><li class="chapter-item expanded "><a href="compiler-flags/emit-stack-sizes.html"><strong aria-hidden="true">1.3.</strong> emit_stack_sizes</a></li><li class="chapter-item expanded "><a href="compiler-flags/extern-location.html"><strong aria-hidden="true">1.4.</strong> extern_location</a></li><li class="chapter-item expanded "><a href="compiler-flags/force-warn.html"><strong aria-hidden="true">1.5.</strong> force_warn</a></li><li class="chapter-item expanded "><a href="compiler-flags/instrument-coverage.html"><strong aria-hidden="true">1.6.</strong> instrument_coverage</a></li><li class="chapter-item expanded "><a href="compiler-flags/move-size-limit.html"><strong aria-hidden="true">1.7.</strong> move_size_limit</a></li><li class="chapter-item expanded "><a href="compiler-flags/profile.html"><strong aria-hidden="true">1.8.</strong> profile</a></li><li class="chapter-item expanded "><a href="compiler-flags/report-time.html"><strong aria-hidden="true">1.9.</strong> report_time</a></li><li class="chapter-item expanded "><a href="compiler-flags/sanitizer.html"><strong aria-hidden="true">1.10.</strong> sanitizer</a></li><li class="chapter-item expanded "><a href="compiler-flags/self-profile.html"><strong aria-hidden="true">1.11.</strong> self_profile</a></li><li class="chapter-item expanded "><a href="compiler-flags/self-profile-events.html"><strong aria-hidden="true">1.12.</strong> self_profile_events</a></li><li class="chapter-item expanded "><a href="compiler-flags/source-based-code-coverage.html"><strong aria-hidden="true">1.13.</strong> source_based_code_coverage</a></li><li class="chapter-item expanded "><a href="compiler-flags/src-hash-algorithm.html"><strong aria-hidden="true">1.14.</strong> src_hash_algorithm</a></li><li class="chapter-item expanded "><a href="compiler-flags/strip.html"><strong aria-hidden="true">1.15.</strong> strip</a></li><li class="chapter-item expanded "><a href="compiler-flags/tls-model.html"><strong aria-hidden="true">1.16.</strong> tls_model</a></li><li class="chapter-item expanded "><a href="compiler-flags/unsound-mir-opts.html"><strong aria-hidden="true">1.17.</strong> unsound_mir_opts</a></li></ol></li><li class="chapter-item expanded "><a href="language-features.html"><strong aria-hidden="true">2.</strong> Language features</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="language-features/aarch64-target-feature.html"><strong aria-hidden="true">2.1.</strong> aarch64_target_feature</a></li><li class="chapter-item expanded "><a href="language-features/abi-amdgpu-kernel.html"><strong aria-hidden="true">2.2.</strong> abi_amdgpu_kernel</a></li><li class="chapter-item expanded "><a href="language-features/abi-avr-interrupt.html"><strong aria-hidden="true">2.3.</strong> abi_avr_interrupt</a></li><li class="chapter-item expanded "><a href="language-features/abi-c-cmse-nonsecure-call.html"><strong aria-hidden="true">2.4.</strong> abi_c_cmse_nonsecure_call</a></li><li class="chapter-item expanded "><a href="language-features/abi-efiapi.html"><strong aria-hidden="true">2.5.</strong> abi_efiapi</a></li><li class="chapter-item expanded "><a href="language-features/abi-msp430-interrupt.html"><strong aria-hidden="true">2.6.</strong> abi_msp430_interrupt</a></li><li class="chapter-item expanded "><a href="language-features/abi-ptx.html"><strong aria-hidden="true">2.7.</strong> abi_ptx</a></li><li class="chapter-item expanded "><a href="language-features/abi-thiscall.html"><strong aria-hidden="true">2.8.</strong> abi_thiscall</a></li><li class="chapter-item expanded "><a href="language-features/abi-unadjusted.html"><strong aria-hidden="true">2.9.</strong> abi_unadjusted</a></li><li class="chapter-item expanded "><a href="language-features/abi-vectorcall.html"><strong aria-hidden="true">2.10.</strong> abi_vectorcall</a></li><li class="chapter-item expanded "><a href="language-features/abi-x86-interrupt.html"><strong aria-hidden="true">2.11.</strong> abi_x86_interrupt</a></li><li class="chapter-item expanded "><a href="language-features/adx-target-feature.html"><strong aria-hidden="true">2.12.</strong> adx_target_feature</a></li><li class="chapter-item expanded "><a href="language-features/alloc-error-handler.html"><strong aria-hidden="true">2.13.</strong> alloc_error_handler</a></li><li class="chapter-item expanded "><a href="language-features/allocator-internals.html"><strong aria-hidden="true">2.14.</strong> allocator_internals</a></li><li class="chapter-item expanded "><a href="language-features/allow-fail.html"><strong aria-hidden="true">2.15.</strong> allow_fail</a></li><li class="chapter-item expanded "><a href="language-features/allow-internal-unsafe.html"><strong aria-hidden="true">2.16.</strong> allow_internal_unsafe</a></li><li class="chapter-item expanded "><a href="language-features/allow-internal-unstable.html"><strong aria-hidden="true">2.17.</strong> allow_internal_unstable</a></li><li class="chapter-item expanded "><a href="language-features/arbitrary-enum-discriminant.html"><strong aria-hidden="true">2.18.</strong> arbitrary_enum_discriminant</a></li><li class="chapter-item expanded "><a href="language-features/arbitrary-self-types.html"><strong aria-hidden="true">2.19.</strong> arbitrary_self_types</a></li><li class="chapter-item expanded "><a href="language-features/arm-target-feature.html"><strong aria-hidden="true">2.20.</strong> arm_target_feature</a></li><li class="chapter-item expanded "><a href="language-features/associated-type-bounds.html"><strong aria-hidden="true">2.21.</strong> associated_type_bounds</a></li><li class="chapter-item expanded "><a href="language-features/associated-type-defaults.html"><strong aria-hidden="true">2.22.</strong> associated_type_defaults</a></li><li class="chapter-item expanded "><a href="language-features/async-closure.html"><strong aria-hidden="true">2.23.</strong> async_closure</a></li><li class="chapter-item expanded "><a href="language-features/auto-traits.html"><strong aria-hidden="true">2.24.</strong> auto_traits</a></li><li class="chapter-item expanded "><a href="language-features/avx512-target-feature.html"><strong aria-hidden="true">2.25.</strong> avx512_target_feature</a></li><li class="chapter-item expanded "><a href="language-features/box-patterns.html"><strong aria-hidden="true">2.26.</strong> box_patterns</a></li><li class="chapter-item expanded "><a href="language-features/box-syntax.html"><strong aria-hidden="true">2.27.</strong> box_syntax</a></li><li class="chapter-item expanded "><a href="language-features/bpf-target-feature.html"><strong aria-hidden="true">2.28.</strong> bpf_target_feature</a></li><li class="chapter-item expanded "><a href="language-features/c-unwind.html"><strong aria-hidden="true">2.29.</strong> c_unwind</a></li><li class="chapter-item expanded "><a href="language-features/c-variadic.html"><strong aria-hidden="true">2.30.</strong> c_variadic</a></li><li class="chapter-item expanded "><a href="language-features/capture-disjoint-fields.html"><strong aria-hidden="true">2.31.</strong> capture_disjoint_fields</a></li><li class="chapter-item expanded "><a href="language-features/cfg-panic.html"><strong aria-hidden="true">2.32.</strong> cfg_panic</a></li><li class="chapter-item expanded "><a href="language-features/cfg-sanitize.html"><strong aria-hidden="true">2.33.</strong> cfg_sanitize</a></li><li class="chapter-item expanded "><a href="language-features/cfg-target-abi.html"><strong aria-hidden="true">2.34.</strong> cfg_target_abi</a></li><li class="chapter-item expanded "><a href="language-features/cfg-target-has-atomic.html"><strong aria-hidden="true">2.35.</strong> cfg_target_has_atomic</a></li><li class="chapter-item expanded "><a href="language-features/cfg-target-thread-local.html"><strong aria-hidden="true">2.36.</strong> cfg_target_thread_local</a></li><li class="chapter-item expanded "><a href="language-features/cfg-version.html"><strong aria-hidden="true">2.37.</strong> cfg_version</a></li><li class="chapter-item expanded "><a href="language-features/cmpxchg16b-target-feature.html"><strong aria-hidden="true">2.38.</strong> cmpxchg16b_target_feature</a></li><li class="chapter-item expanded "><a href="language-features/cmse-nonsecure-entry.html"><strong aria-hidden="true">2.39.</strong> cmse_nonsecure_entry</a></li><li class="chapter-item expanded "><a href="language-features/compiler-builtins.html"><strong aria-hidden="true">2.40.</strong> compiler_builtins</a></li><li class="chapter-item expanded "><a href="language-features/const-async-blocks.html"><strong aria-hidden="true">2.41.</strong> const_async_blocks</a></li><li class="chapter-item expanded "><a href="language-features/const-eval-limit.html"><strong aria-hidden="true">2.42.</strong> const_eval_limit</a></li><li class="chapter-item expanded "><a href="language-features/const-evaluatable-checked.html"><strong aria-hidden="true">2.43.</strong> const_evaluatable_checked</a></li><li class="chapter-item expanded "><a href="language-features/const-extern-fn.html"><strong aria-hidden="true">2.44.</strong> const_extern_fn</a></li><li class="chapter-item expanded "><a href="language-features/const-fn-floating-point-arithmetic.html"><strong aria-hidden="true">2.45.</strong> const_fn_floating_point_arithmetic</a></li><li class="chapter-item expanded "><a href="language-features/const-fn-fn-ptr-basics.html"><strong aria-hidden="true">2.46.</strong> const_fn_fn_ptr_basics</a></li><li class="chapter-item expanded "><a href="language-features/const-fn-trait-bound.html"><strong aria-hidden="true">2.47.</strong> const_fn_trait_bound</a></li><li class="chapter-item expanded "><a href="language-features/const-for.html"><strong aria-hidden="true">2.48.</strong> const_for</a></li><li class="chapter-item expanded "><a href="language-features/const-generics.html"><strong aria-hidden="true">2.49.</strong> const_generics</a></li><li class="chapter-item expanded "><a href="language-features/const-generics-defaults.html"><strong aria-hidden="true">2.50.</strong> const_generics_defaults</a></li><li class="chapter-item expanded "><a href="language-features/const-impl-trait.html"><strong aria-hidden="true">2.51.</strong> const_impl_trait</a></li><li class="chapter-item expanded "><a href="language-features/const-mut-refs.html"><strong aria-hidden="true">2.52.</strong> const_mut_refs</a></li><li class="chapter-item expanded "><a href="language-features/const-panic.html"><strong aria-hidden="true">2.53.</strong> const_panic</a></li><li class="chapter-item expanded "><a href="language-features/const-precise-live-drops.html"><strong aria-hidden="true">2.54.</strong> const_precise_live_drops</a></li><li class="chapter-item expanded "><a href="language-features/const-raw-ptr-deref.html"><strong aria-hidden="true">2.55.</strong> const_raw_ptr_deref</a></li><li class="chapter-item expanded "><a href="language-features/const-refs-to-cell.html"><strong aria-hidden="true">2.56.</strong> const_refs_to_cell</a></li><li class="chapter-item expanded "><a href="language-features/const-trait-bound-opt-out.html"><strong aria-hidden="true">2.57.</strong> const_trait_bound_opt_out</a></li><li class="chapter-item expanded "><a href="language-features/const-trait-impl.html"><strong aria-hidden="true">2.58.</strong> const_trait_impl</a></li><li class="chapter-item expanded "><a href="language-features/const-try.html"><strong aria-hidden="true">2.59.</strong> const_try</a></li><li class="chapter-item expanded "><a href="language-features/crate-visibility-modifier.html"><strong aria-hidden="true">2.60.</strong> crate_visibility_modifier</a></li><li class="chapter-item expanded "><a href="language-features/custom-inner-attributes.html"><strong aria-hidden="true">2.61.</strong> custom_inner_attributes</a></li><li class="chapter-item expanded "><a href="language-features/custom-test-frameworks.html"><strong aria-hidden="true">2.62.</strong> custom_test_frameworks</a></li><li class="chapter-item expanded "><a href="language-features/decl-macro.html"><strong aria-hidden="true">2.63.</strong> decl_macro</a></li><li class="chapter-item expanded "><a href="language-features/default-alloc-error-handler.html"><strong aria-hidden="true">2.64.</strong> default_alloc_error_handler</a></li><li class="chapter-item expanded "><a href="language-features/default-type-parameter-fallback.html"><strong aria-hidden="true">2.65.</strong> default_type_parameter_fallback</a></li><li class="chapter-item expanded "><a href="language-features/derive-default-enum.html"><strong aria-hidden="true">2.66.</strong> derive_default_enum</a></li><li class="chapter-item expanded "><a href="language-features/destructuring-assignment.html"><strong aria-hidden="true">2.67.</strong> destructuring_assignment</a></li><li class="chapter-item expanded "><a href="language-features/doc-cfg.html"><strong aria-hidden="true">2.68.</strong> doc_cfg</a></li><li class="chapter-item expanded "><a href="language-features/doc-keyword.html"><strong aria-hidden="true">2.69.</strong> doc_keyword</a></li><li class="chapter-item expanded "><a href="language-features/doc-masked.html"><strong aria-hidden="true">2.70.</strong> doc_masked</a></li><li class="chapter-item expanded "><a href="language-features/doc-notable-trait.html"><strong aria-hidden="true">2.71.</strong> doc_notable_trait</a></li><li class="chapter-item expanded "><a href="language-features/dropck-eyepatch.html"><strong aria-hidden="true">2.72.</strong> dropck_eyepatch</a></li><li class="chapter-item expanded "><a href="language-features/ermsb-target-feature.html"><strong aria-hidden="true">2.73.</strong> ermsb_target_feature</a></li><li class="chapter-item expanded "><a href="language-features/exclusive-range-pattern.html"><strong aria-hidden="true">2.74.</strong> exclusive_range_pattern</a></li><li class="chapter-item expanded "><a href="language-features/exhaustive-patterns.html"><strong aria-hidden="true">2.75.</strong> exhaustive_patterns</a></li><li class="chapter-item expanded "><a href="language-features/explicit-generic-args-with-impl-trait.html"><strong aria-hidden="true">2.76.</strong> explicit_generic_args_with_impl_trait</a></li><li class="chapter-item expanded "><a href="language-features/extern-types.html"><strong aria-hidden="true">2.77.</strong> extern_types</a></li><li class="chapter-item expanded "><a href="language-features/f16c-target-feature.html"><strong aria-hidden="true">2.78.</strong> f16c_target_feature</a></li><li class="chapter-item expanded "><a href="language-features/ffi-const.html"><strong aria-hidden="true">2.79.</strong> ffi_const</a></li><li class="chapter-item expanded "><a href="language-features/ffi-pure.html"><strong aria-hidden="true">2.80.</strong> ffi_pure</a></li><li class="chapter-item expanded "><a href="language-features/ffi-returns-twice.html"><strong aria-hidden="true">2.81.</strong> ffi_returns_twice</a></li><li class="chapter-item expanded "><a href="language-features/fn-align.html"><strong aria-hidden="true">2.82.</strong> fn_align</a></li><li class="chapter-item expanded "><a href="language-features/format-args-capture.html"><strong aria-hidden="true">2.83.</strong> format_args_capture</a></li><li class="chapter-item expanded "><a href="language-features/fundamental.html"><strong aria-hidden="true">2.84.</strong> fundamental</a></li><li class="chapter-item expanded "><a href="language-features/generators.html"><strong aria-hidden="true">2.85.</strong> generators</a></li><li class="chapter-item expanded "><a href="language-features/generic-arg-infer.html"><strong aria-hidden="true">2.86.</strong> generic_arg_infer</a></li><li class="chapter-item expanded "><a href="language-features/generic-associated-types.html"><strong aria-hidden="true">2.87.</strong> generic_associated_types</a></li><li class="chapter-item expanded "><a href="language-features/half-open-range-patterns.html"><strong aria-hidden="true">2.88.</strong> half_open_range_patterns</a></li><li class="chapter-item expanded "><a href="language-features/hexagon-target-feature.html"><strong aria-hidden="true">2.89.</strong> hexagon_target_feature</a></li><li class="chapter-item expanded "><a href="language-features/if-let-guard.html"><strong aria-hidden="true">2.90.</strong> if_let_guard</a></li><li class="chapter-item expanded "><a href="language-features/imported-main.html"><strong aria-hidden="true">2.91.</strong> imported_main</a></li><li class="chapter-item expanded "><a href="language-features/in-band-lifetimes.html"><strong aria-hidden="true">2.92.</strong> in_band_lifetimes</a></li><li class="chapter-item expanded "><a href="language-features/infer-static-outlives-requirements.html"><strong aria-hidden="true">2.93.</strong> infer_static_outlives_requirements</a></li><li class="chapter-item expanded "><a href="language-features/inherent-associated-types.html"><strong aria-hidden="true">2.94.</strong> inherent_associated_types</a></li><li class="chapter-item expanded "><a href="language-features/inline-const.html"><strong aria-hidden="true">2.95.</strong> inline_const</a></li><li class="chapter-item expanded "><a href="language-features/intra-doc-pointers.html"><strong aria-hidden="true">2.96.</strong> intra_doc_pointers</a></li><li class="chapter-item expanded "><a href="language-features/intrinsics.html"><strong aria-hidden="true">2.97.</strong> intrinsics</a></li><li class="chapter-item expanded "><a href="language-features/isa-attribute.html"><strong aria-hidden="true">2.98.</strong> isa_attribute</a></li><li class="chapter-item expanded "><a href="language-features/label-break-value.html"><strong aria-hidden="true">2.99.</strong> label_break_value</a></li><li class="chapter-item expanded "><a href="language-features/lang-items.html"><strong aria-hidden="true">2.100.</strong> lang_items</a></li><li class="chapter-item expanded "><a href="language-features/large-assignments.html"><strong aria-hidden="true">2.101.</strong> large_assignments</a></li><li class="chapter-item expanded "><a href="language-features/lazy-normalization-consts.html"><strong aria-hidden="true">2.102.</strong> lazy_normalization_consts</a></li><li class="chapter-item expanded "><a href="language-features/let-chains.html"><strong aria-hidden="true">2.103.</strong> let_chains</a></li><li class="chapter-item expanded "><a href="language-features/link-cfg.html"><strong aria-hidden="true">2.104.</strong> link_cfg</a></li><li class="chapter-item expanded "><a href="language-features/link-llvm-intrinsics.html"><strong aria-hidden="true">2.105.</strong> link_llvm_intrinsics</a></li><li class="chapter-item expanded "><a href="language-features/linkage.html"><strong aria-hidden="true">2.106.</strong> linkage</a></li><li class="chapter-item expanded "><a href="language-features/lint-reasons.html"><strong aria-hidden="true">2.107.</strong> lint_reasons</a></li><li class="chapter-item expanded "><a href="language-features/macro-attributes-in-derive-output.html"><strong aria-hidden="true">2.108.</strong> macro_attributes_in_derive_output</a></li><li class="chapter-item expanded "><a href="language-features/marker-trait-attr.html"><strong aria-hidden="true">2.109.</strong> marker_trait_attr</a></li><li class="chapter-item expanded "><a href="language-features/min-specialization.html"><strong aria-hidden="true">2.110.</strong> min_specialization</a></li><li class="chapter-item expanded "><a href="language-features/mips-target-feature.html"><strong aria-hidden="true">2.111.</strong> mips_target_feature</a></li><li class="chapter-item expanded "><a href="language-features/more-qualified-paths.html"><strong aria-hidden="true">2.112.</strong> more_qualified_paths</a></li><li class="chapter-item expanded "><a href="language-features/movbe-target-feature.html"><strong aria-hidden="true">2.113.</strong> movbe_target_feature</a></li><li class="chapter-item expanded "><a href="language-features/naked-functions.html"><strong aria-hidden="true">2.114.</strong> naked_functions</a></li><li class="chapter-item expanded "><a href="language-features/native-link-modifiers.html"><strong aria-hidden="true">2.115.</strong> native_link_modifiers</a></li><li class="chapter-item expanded "><a href="language-features/native-link-modifiers-as-needed.html"><strong aria-hidden="true">2.116.</strong> native_link_modifiers_as_needed</a></li><li class="chapter-item expanded "><a href="language-features/native-link-modifiers-bundle.html"><strong aria-hidden="true">2.117.</strong> native_link_modifiers_bundle</a></li><li class="chapter-item expanded "><a href="language-features/native-link-modifiers-verbatim.html"><strong aria-hidden="true">2.118.</strong> native_link_modifiers_verbatim</a></li><li class="chapter-item expanded "><a href="language-features/native-link-modifiers-whole-archive.html"><strong aria-hidden="true">2.119.</strong> native_link_modifiers_whole_archive</a></li><li class="chapter-item expanded "><a href="language-features/needs-panic-runtime.html"><strong aria-hidden="true">2.120.</strong> needs_panic_runtime</a></li><li class="chapter-item expanded "><a href="language-features/negative-impls.html"><strong aria-hidden="true">2.121.</strong> negative_impls</a></li><li class="chapter-item expanded "><a href="language-features/never-type.html"><strong aria-hidden="true">2.122.</strong> never_type</a></li><li class="chapter-item expanded "><a href="language-features/never-type-fallback.html"><strong aria-hidden="true">2.123.</strong> never_type_fallback</a></li><li class="chapter-item expanded "><a href="language-features/nll.html"><strong aria-hidden="true">2.124.</strong> nll</a></li><li class="chapter-item expanded "><a href="language-features/no-core.html"><strong aria-hidden="true">2.125.</strong> no_core</a></li><li class="chapter-item expanded "><a href="language-features/no-coverage.html"><strong aria-hidden="true">2.126.</strong> no_coverage</a></li><li class="chapter-item expanded "><a href="language-features/no-niche.html"><strong aria-hidden="true">2.127.</strong> no_niche</a></li><li class="chapter-item expanded "><a href="language-features/no-sanitize.html"><strong aria-hidden="true">2.128.</strong> no_sanitize</a></li><li class="chapter-item expanded "><a href="language-features/object-safe-for-dispatch.html"><strong aria-hidden="true">2.129.</strong> object_safe_for_dispatch</a></li><li class="chapter-item expanded "><a href="language-features/omit-gdb-pretty-printer-section.html"><strong aria-hidden="true">2.130.</strong> omit_gdb_pretty_printer_section</a></li><li class="chapter-item expanded "><a href="language-features/optimize-attribute.html"><strong aria-hidden="true">2.131.</strong> optimize_attribute</a></li><li class="chapter-item expanded "><a href="language-features/panic-runtime.html"><strong aria-hidden="true">2.132.</strong> panic_runtime</a></li><li class="chapter-item expanded "><a href="language-features/platform-intrinsics.html"><strong aria-hidden="true">2.133.</strong> platform_intrinsics</a></li><li class="chapter-item expanded "><a href="language-features/plugin.html"><strong aria-hidden="true">2.134.</strong> plugin</a></li><li class="chapter-item expanded "><a href="language-features/powerpc-target-feature.html"><strong aria-hidden="true">2.135.</strong> powerpc_target_feature</a></li><li class="chapter-item expanded "><a href="language-features/precise-pointer-size-matching.html"><strong aria-hidden="true">2.136.</strong> precise_pointer_size_matching</a></li><li class="chapter-item expanded "><a href="language-features/prelude-import.html"><strong aria-hidden="true">2.137.</strong> prelude_import</a></li><li class="chapter-item expanded "><a href="language-features/proc-macro-hygiene.html"><strong aria-hidden="true">2.138.</strong> proc_macro_hygiene</a></li><li class="chapter-item expanded "><a href="language-features/profiler-runtime.html"><strong aria-hidden="true">2.139.</strong> profiler_runtime</a></li><li class="chapter-item expanded "><a href="language-features/raw-dylib.html"><strong aria-hidden="true">2.140.</strong> raw_dylib</a></li><li class="chapter-item expanded "><a href="language-features/raw-ref-op.html"><strong aria-hidden="true">2.141.</strong> raw_ref_op</a></li><li class="chapter-item expanded "><a href="language-features/register-attr.html"><strong aria-hidden="true">2.142.</strong> register_attr</a></li><li class="chapter-item expanded "><a href="language-features/register-tool.html"><strong aria-hidden="true">2.143.</strong> register_tool</a></li><li class="chapter-item expanded "><a href="language-features/relaxed-struct-unsize.html"><strong aria-hidden="true">2.144.</strong> relaxed_struct_unsize</a></li><li class="chapter-item expanded "><a href="language-features/repr-simd.html"><strong aria-hidden="true">2.145.</strong> repr_simd</a></li><li class="chapter-item expanded "><a href="language-features/repr128.html"><strong aria-hidden="true">2.146.</strong> repr128</a></li><li class="chapter-item expanded "><a href="language-features/riscv-target-feature.html"><strong aria-hidden="true">2.147.</strong> riscv_target_feature</a></li><li class="chapter-item expanded "><a href="language-features/rtm-target-feature.html"><strong aria-hidden="true">2.148.</strong> rtm_target_feature</a></li><li class="chapter-item expanded "><a href="language-features/rustc-allow-const-fn-unstable.html"><strong aria-hidden="true">2.149.</strong> rustc_allow_const_fn_unstable</a></li><li class="chapter-item expanded "><a href="language-features/rustc-attrs.html"><strong aria-hidden="true">2.150.</strong> rustc_attrs</a></li><li class="chapter-item expanded "><a href="language-features/rustc-private.html"><strong aria-hidden="true">2.151.</strong> rustc_private</a></li><li class="chapter-item expanded "><a href="language-features/simd-ffi.html"><strong aria-hidden="true">2.152.</strong> simd_ffi</a></li><li class="chapter-item expanded "><a href="language-features/specialization.html"><strong aria-hidden="true">2.153.</strong> specialization</a></li><li class="chapter-item expanded "><a href="language-features/sse4a-target-feature.html"><strong aria-hidden="true">2.154.</strong> sse4a_target_feature</a></li><li class="chapter-item expanded "><a href="language-features/staged-api.html"><strong aria-hidden="true">2.155.</strong> staged_api</a></li><li class="chapter-item expanded "><a href="language-features/start.html"><strong aria-hidden="true">2.156.</strong> start</a></li><li class="chapter-item expanded "><a href="language-features/static-nobundle.html"><strong aria-hidden="true">2.157.</strong> static_nobundle</a></li><li class="chapter-item expanded "><a href="language-features/stmt-expr-attributes.html"><strong aria-hidden="true">2.158.</strong> stmt_expr_attributes</a></li><li class="chapter-item expanded "><a href="language-features/structural-match.html"><strong aria-hidden="true">2.159.</strong> structural_match</a></li><li class="chapter-item expanded "><a href="language-features/target-feature-11.html"><strong aria-hidden="true">2.160.</strong> target_feature_11</a></li><li class="chapter-item expanded "><a href="language-features/tbm-target-feature.html"><strong aria-hidden="true">2.161.</strong> tbm_target_feature</a></li><li class="chapter-item expanded "><a href="language-features/test-2018-feature.html"><strong aria-hidden="true">2.162.</strong> test_2018_feature</a></li><li class="chapter-item expanded "><a href="language-features/thread-local.html"><strong aria-hidden="true">2.163.</strong> thread_local</a></li><li class="chapter-item expanded "><a href="language-features/trait-alias.html"><strong aria-hidden="true">2.164.</strong> trait_alias</a></li><li class="chapter-item expanded "><a href="language-features/trait-upcasting.html"><strong aria-hidden="true">2.165.</strong> trait_upcasting</a></li><li class="chapter-item expanded "><a href="language-features/transparent-unions.html"><strong aria-hidden="true">2.166.</strong> transparent_unions</a></li><li class="chapter-item expanded "><a href="language-features/trivial-bounds.html"><strong aria-hidden="true">2.167.</strong> trivial_bounds</a></li><li class="chapter-item expanded "><a href="language-features/try-blocks.html"><strong aria-hidden="true">2.168.</strong> try_blocks</a></li><li class="chapter-item expanded "><a href="language-features/type-alias-impl-trait.html"><strong aria-hidden="true">2.169.</strong> type_alias_impl_trait</a></li><li class="chapter-item expanded "><a href="language-features/type-ascription.html"><strong aria-hidden="true">2.170.</strong> type_ascription</a></li><li class="chapter-item expanded "><a href="language-features/unboxed-closures.html"><strong aria-hidden="true">2.171.</strong> unboxed_closures</a></li><li class="chapter-item expanded "><a href="language-features/unnamed-fields.html"><strong aria-hidden="true">2.172.</strong> unnamed_fields</a></li><li class="chapter-item expanded "><a href="language-features/unsized-fn-params.html"><strong aria-hidden="true">2.173.</strong> unsized_fn_params</a></li><li class="chapter-item expanded "><a href="language-features/unsized-locals.html"><strong aria-hidden="true">2.174.</strong> unsized_locals</a></li><li class="chapter-item expanded "><a href="language-features/unsized-tuple-coercion.html"><strong aria-hidden="true">2.175.</strong> unsized_tuple_coercion</a></li><li class="chapter-item expanded "><a href="language-features/untagged-unions.html"><strong aria-hidden="true">2.176.</strong> untagged_unions</a></li><li class="chapter-item expanded "><a href="language-features/wasm-abi.html"><strong aria-hidden="true">2.177.</strong> wasm_abi</a></li><li class="chapter-item expanded "><a href="language-features/wasm-target-feature.html"><strong aria-hidden="true">2.178.</strong> wasm_target_feature</a></li></ol></li><li class="chapter-item expanded "><a href="library-features.html"><strong aria-hidden="true">3.</strong> Library Features</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="library-features/alloc-error-hook.html"><strong aria-hidden="true">3.1.</strong> alloc_error_hook</a></li><li class="chapter-item expanded "><a href="library-features/alloc-internals.html"><strong aria-hidden="true">3.2.</strong> alloc_internals</a></li><li class="chapter-item expanded "><a href="library-features/alloc-layout-extra.html"><strong aria-hidden="true">3.3.</strong> alloc_layout_extra</a></li><li class="chapter-item expanded "><a href="library-features/alloc-prelude.html"><strong aria-hidden="true">3.4.</strong> alloc_prelude</a></li><li class="chapter-item expanded "><a href="library-features/allocator-api.html"><strong aria-hidden="true">3.5.</strong> allocator_api</a></li><li class="chapter-item expanded "><a href="library-features/arc-new-cyclic.html"><strong aria-hidden="true">3.6.</strong> arc_new_cyclic</a></li><li class="chapter-item expanded "><a href="library-features/array-chunks.html"><strong aria-hidden="true">3.7.</strong> array_chunks</a></li><li class="chapter-item expanded "><a href="library-features/array-error-internals.html"><strong aria-hidden="true">3.8.</strong> array_error_internals</a></li><li class="chapter-item expanded "><a href="library-features/array-methods.html"><strong aria-hidden="true">3.9.</strong> array_methods</a></li><li class="chapter-item expanded "><a href="library-features/array-windows.html"><strong aria-hidden="true">3.10.</strong> array_windows</a></li><li class="chapter-item expanded "><a href="library-features/array-zip.html"><strong aria-hidden="true">3.11.</strong> array_zip</a></li><li class="chapter-item expanded "><a href="library-features/asm.html"><strong aria-hidden="true">3.12.</strong> asm</a></li><li class="chapter-item expanded "><a href="library-features/assert-matches.html"><strong aria-hidden="true">3.13.</strong> assert_matches</a></li><li class="chapter-item expanded "><a href="library-features/async-stream.html"><strong aria-hidden="true">3.14.</strong> async_stream</a></li><li class="chapter-item expanded "><a href="library-features/atomic-from-mut.html"><strong aria-hidden="true">3.15.</strong> atomic_from_mut</a></li><li class="chapter-item expanded "><a href="library-features/atomic-mut-ptr.html"><strong aria-hidden="true">3.16.</strong> atomic_mut_ptr</a></li><li class="chapter-item expanded "><a href="library-features/available-concurrency.html"><strong aria-hidden="true">3.17.</strong> available_concurrency</a></li><li class="chapter-item expanded "><a href="library-features/backtrace.html"><strong aria-hidden="true">3.18.</strong> backtrace</a></li><li class="chapter-item expanded "><a href="library-features/backtrace-frames.html"><strong aria-hidden="true">3.19.</strong> backtrace_frames</a></li><li class="chapter-item expanded "><a href="library-features/bench-black-box.html"><strong aria-hidden="true">3.20.</strong> bench_black_box</a></li><li class="chapter-item expanded "><a href="library-features/binary-heap-as-slice.html"><strong aria-hidden="true">3.21.</strong> binary_heap_as_slice</a></li><li class="chapter-item expanded "><a href="library-features/binary-heap-drain-sorted.html"><strong aria-hidden="true">3.22.</strong> binary_heap_drain_sorted</a></li><li class="chapter-item expanded "><a href="library-features/binary-heap-into-iter-sorted.html"><strong aria-hidden="true">3.23.</strong> binary_heap_into_iter_sorted</a></li><li class="chapter-item expanded "><a href="library-features/binary-heap-retain.html"><strong aria-hidden="true">3.24.</strong> binary_heap_retain</a></li><li class="chapter-item expanded "><a href="library-features/bool-to-option.html"><strong aria-hidden="true">3.25.</strong> bool_to_option</a></li><li class="chapter-item expanded "><a href="library-features/bound-as-ref.html"><strong aria-hidden="true">3.26.</strong> bound_as_ref</a></li><li class="chapter-item expanded "><a href="library-features/bound-map.html"><strong aria-hidden="true">3.27.</strong> bound_map</a></li><li class="chapter-item expanded "><a href="library-features/box-into-boxed-slice.html"><strong aria-hidden="true">3.28.</strong> box_into_boxed_slice</a></li><li class="chapter-item expanded "><a href="library-features/box-into-inner.html"><strong aria-hidden="true">3.29.</strong> box_into_inner</a></li><li class="chapter-item expanded "><a href="library-features/box-into-pin.html"><strong aria-hidden="true">3.30.</strong> box_into_pin</a></li><li class="chapter-item expanded "><a href="library-features/btree-drain-filter.html"><strong aria-hidden="true">3.31.</strong> btree_drain_filter</a></li><li class="chapter-item expanded "><a href="library-features/buf-read-has-data-left.html"><strong aria-hidden="true">3.32.</strong> buf_read_has_data_left</a></li><li class="chapter-item expanded "><a href="library-features/bufwriter-into-parts.html"><strong aria-hidden="true">3.33.</strong> bufwriter_into_parts</a></li><li class="chapter-item expanded "><a href="library-features/build-hasher-simple-hash-one.html"><strong aria-hidden="true">3.34.</strong> build_hasher_simple_hash_one</a></li><li class="chapter-item expanded "><a href="library-features/c-void-variant.html"><strong aria-hidden="true">3.35.</strong> c_void_variant</a></li><li class="chapter-item expanded "><a href="library-features/can-vector.html"><strong aria-hidden="true">3.36.</strong> can_vector</a></li><li class="chapter-item expanded "><a href="library-features/cell-filter-map.html"><strong aria-hidden="true">3.37.</strong> cell_filter_map</a></li><li class="chapter-item expanded "><a href="library-features/cell-leak.html"><strong aria-hidden="true">3.38.</strong> cell_leak</a></li><li class="chapter-item expanded "><a href="library-features/cell-update.html"><strong aria-hidden="true">3.39.</strong> cell_update</a></li><li class="chapter-item expanded "><a href="library-features/cfg-accessible.html"><strong aria-hidden="true">3.40.</strong> cfg_accessible</a></li><li class="chapter-item expanded "><a href="library-features/cfg-eval.html"><strong aria-hidden="true">3.41.</strong> cfg_eval</a></li><li class="chapter-item expanded "><a href="library-features/char-error-internals.html"><strong aria-hidden="true">3.42.</strong> char_error_internals</a></li><li class="chapter-item expanded "><a href="library-features/char-indices-offset.html"><strong aria-hidden="true">3.43.</strong> char_indices_offset</a></li><li class="chapter-item expanded "><a href="library-features/char-internals.html"><strong aria-hidden="true">3.44.</strong> char_internals</a></li><li class="chapter-item expanded "><a href="library-features/coerce-unsized.html"><strong aria-hidden="true">3.45.</strong> coerce_unsized</a></li><li class="chapter-item expanded "><a href="library-features/command-access.html"><strong aria-hidden="true">3.46.</strong> command_access</a></li><li class="chapter-item expanded "><a href="library-features/concat-idents.html"><strong aria-hidden="true">3.47.</strong> concat_idents</a></li><li class="chapter-item expanded "><a href="library-features/const-align-of-val.html"><strong aria-hidden="true">3.48.</strong> const_align_of_val</a></li><li class="chapter-item expanded "><a href="library-features/const-align-of-val-raw.html"><strong aria-hidden="true">3.49.</strong> const_align_of_val_raw</a></li><li class="chapter-item expanded "><a href="library-features/const-alloc-layout.html"><strong aria-hidden="true">3.50.</strong> const_alloc_layout</a></li><li class="chapter-item expanded "><a href="library-features/const-arguments-as-str.html"><strong aria-hidden="true">3.51.</strong> const_arguments_as_str</a></li><li class="chapter-item expanded "><a href="library-features/const-assert-type.html"><strong aria-hidden="true">3.52.</strong> const_assert_type</a></li><li class="chapter-item expanded "><a href="library-features/const-assume.html"><strong aria-hidden="true">3.53.</strong> const_assume</a></li><li class="chapter-item expanded "><a href="library-features/const-btree-new.html"><strong aria-hidden="true">3.54.</strong> const_btree_new</a></li><li class="chapter-item expanded "><a href="library-features/const-caller-location.html"><strong aria-hidden="true">3.55.</strong> const_caller_location</a></li><li class="chapter-item expanded "><a href="library-features/const-cell-into-inner.html"><strong aria-hidden="true">3.56.</strong> const_cell_into_inner</a></li><li class="chapter-item expanded "><a href="library-features/const-cow-is-borrowed.html"><strong aria-hidden="true">3.57.</strong> const_cow_is_borrowed</a></li><li class="chapter-item expanded "><a href="library-features/const-cstr-unchecked.html"><strong aria-hidden="true">3.58.</strong> const_cstr_unchecked</a></li><li class="chapter-item expanded "><a href="library-features/const-discriminant.html"><strong aria-hidden="true">3.59.</strong> const_discriminant</a></li><li class="chapter-item expanded "><a href="library-features/const-float-bits-conv.html"><strong aria-hidden="true">3.60.</strong> const_float_bits_conv</a></li><li class="chapter-item expanded "><a href="library-features/const-float-classify.html"><strong aria-hidden="true">3.61.</strong> const_float_classify</a></li><li class="chapter-item expanded "><a href="library-features/const-fmt-arguments-new.html"><strong aria-hidden="true">3.62.</strong> const_fmt_arguments_new</a></li><li class="chapter-item expanded "><a href="library-features/const-format-args.html"><strong aria-hidden="true">3.63.</strong> const_format_args</a></li><li class="chapter-item expanded "><a href="library-features/const-heap.html"><strong aria-hidden="true">3.64.</strong> const_heap</a></li><li class="chapter-item expanded "><a href="library-features/const-inherent-unchecked-arith.html"><strong aria-hidden="true">3.65.</strong> const_inherent_unchecked_arith</a></li><li class="chapter-item expanded "><a href="library-features/const-int-unchecked-arith.html"><strong aria-hidden="true">3.66.</strong> const_int_unchecked_arith</a></li><li class="chapter-item expanded "><a href="library-features/const-intrinsic-copy.html"><strong aria-hidden="true">3.67.</strong> const_intrinsic_copy</a></li><li class="chapter-item expanded "><a href="library-features/const-intrinsic-forget.html"><strong aria-hidden="true">3.68.</strong> const_intrinsic_forget</a></li><li class="chapter-item expanded "><a href="library-features/const-intrinsic-raw-eq.html"><strong aria-hidden="true">3.69.</strong> const_intrinsic_raw_eq</a></li><li class="chapter-item expanded "><a href="library-features/const-io-structs.html"><strong aria-hidden="true">3.70.</strong> const_io_structs</a></li><li class="chapter-item expanded "><a href="library-features/const-ip.html"><strong aria-hidden="true">3.71.</strong> const_ip</a></li><li class="chapter-item expanded "><a href="library-features/const-ipv4.html"><strong aria-hidden="true">3.72.</strong> const_ipv4</a></li><li class="chapter-item expanded "><a href="library-features/const-ipv6.html"><strong aria-hidden="true">3.73.</strong> const_ipv6</a></li><li class="chapter-item expanded "><a href="library-features/const-likely.html"><strong aria-hidden="true">3.74.</strong> const_likely</a></li><li class="chapter-item expanded "><a href="library-features/const-maybe-uninit-as-ptr.html"><strong aria-hidden="true">3.75.</strong> const_maybe_uninit_as_ptr</a></li><li class="chapter-item expanded "><a href="library-features/const-maybe-uninit-assume-init.html"><strong aria-hidden="true">3.76.</strong> const_maybe_uninit_assume_init</a></li><li class="chapter-item expanded "><a href="library-features/const-maybe-uninit-write.html"><strong aria-hidden="true">3.77.</strong> const_maybe_uninit_write</a></li><li class="chapter-item expanded "><a href="library-features/const-nonnull-slice-from-raw-parts.html"><strong aria-hidden="true">3.78.</strong> const_nonnull_slice_from_raw_parts</a></li><li class="chapter-item expanded "><a href="library-features/const-num-from-num.html"><strong aria-hidden="true">3.79.</strong> const_num_from_num</a></li><li class="chapter-item expanded "><a href="library-features/const-option.html"><strong aria-hidden="true">3.80.</strong> const_option</a></li><li class="chapter-item expanded "><a href="library-features/const-pin.html"><strong aria-hidden="true">3.81.</strong> const_pin</a></li><li class="chapter-item expanded "><a href="library-features/const-pref-align-of.html"><strong aria-hidden="true">3.82.</strong> const_pref_align_of</a></li><li class="chapter-item expanded "><a href="library-features/const-ptr-is-null.html"><strong aria-hidden="true">3.83.</strong> const_ptr_is_null</a></li><li class="chapter-item expanded "><a href="library-features/const-ptr-offset.html"><strong aria-hidden="true">3.84.</strong> const_ptr_offset</a></li><li class="chapter-item expanded "><a href="library-features/const-ptr-offset-from.html"><strong aria-hidden="true">3.85.</strong> const_ptr_offset_from</a></li><li class="chapter-item expanded "><a href="library-features/const-ptr-read.html"><strong aria-hidden="true">3.86.</strong> const_ptr_read</a></li><li class="chapter-item expanded "><a href="library-features/const-ptr-write.html"><strong aria-hidden="true">3.87.</strong> const_ptr_write</a></li><li class="chapter-item expanded "><a href="library-features/const-raw-ptr-comparison.html"><strong aria-hidden="true">3.88.</strong> const_raw_ptr_comparison</a></li><li class="chapter-item expanded "><a href="library-features/const-replace.html"><strong aria-hidden="true">3.89.</strong> const_replace</a></li><li class="chapter-item expanded "><a href="library-features/const-result.html"><strong aria-hidden="true">3.90.</strong> const_result</a></li><li class="chapter-item expanded "><a href="library-features/const-size-of-val.html"><strong aria-hidden="true">3.91.</strong> const_size_of_val</a></li><li class="chapter-item expanded "><a href="library-features/const-size-of-val-raw.html"><strong aria-hidden="true">3.92.</strong> const_size_of_val_raw</a></li><li class="chapter-item expanded "><a href="library-features/const-slice-first-last.html"><strong aria-hidden="true">3.93.</strong> const_slice_first_last</a></li><li class="chapter-item expanded "><a href="library-features/const-slice-from-raw-parts.html"><strong aria-hidden="true">3.94.</strong> const_slice_from_raw_parts</a></li><li class="chapter-item expanded "><a href="library-features/const-slice-ptr-len.html"><strong aria-hidden="true">3.95.</strong> const_slice_ptr_len</a></li><li class="chapter-item expanded "><a href="library-features/const-socketaddr.html"><strong aria-hidden="true">3.96.</strong> const_socketaddr</a></li><li class="chapter-item expanded "><a href="library-features/const-swap.html"><strong aria-hidden="true">3.97.</strong> const_swap</a></li><li class="chapter-item expanded "><a href="library-features/const-transmute-copy.html"><strong aria-hidden="true">3.98.</strong> const_transmute_copy</a></li><li class="chapter-item expanded "><a href="library-features/const-type-id.html"><strong aria-hidden="true">3.99.</strong> const_type_id</a></li><li class="chapter-item expanded "><a href="library-features/const-type-name.html"><strong aria-hidden="true">3.100.</strong> const_type_name</a></li><li class="chapter-item expanded "><a href="library-features/const-unreachable-unchecked.html"><strong aria-hidden="true">3.101.</strong> const_unreachable_unchecked</a></li><li class="chapter-item expanded "><a href="library-features/container-error-extra.html"><strong aria-hidden="true">3.102.</strong> container_error_extra</a></li><li class="chapter-item expanded "><a href="library-features/control-flow-enum.html"><strong aria-hidden="true">3.103.</strong> control_flow_enum</a></li><li class="chapter-item expanded "><a href="library-features/convert-float-to-int.html"><strong aria-hidden="true">3.104.</strong> convert_float_to_int</a></li><li class="chapter-item expanded "><a href="library-features/core-intrinsics.html"><strong aria-hidden="true">3.105.</strong> core_intrinsics</a></li><li class="chapter-item expanded "><a href="library-features/core-panic.html"><strong aria-hidden="true">3.106.</strong> core_panic</a></li><li class="chapter-item expanded "><a href="library-features/core-private-bignum.html"><strong aria-hidden="true">3.107.</strong> core_private_bignum</a></li><li class="chapter-item expanded "><a href="library-features/core-private-diy-float.html"><strong aria-hidden="true">3.108.</strong> core_private_diy_float</a></li><li class="chapter-item expanded "><a href="library-features/cow-is-borrowed.html"><strong aria-hidden="true">3.109.</strong> cow_is_borrowed</a></li><li class="chapter-item expanded "><a href="library-features/cstring-from-vec-with-nul.html"><strong aria-hidden="true">3.110.</strong> cstring_from_vec_with_nul</a></li><li class="chapter-item expanded "><a href="library-features/cursor-remaining.html"><strong aria-hidden="true">3.111.</strong> cursor_remaining</a></li><li class="chapter-item expanded "><a href="library-features/deadline-api.html"><strong aria-hidden="true">3.112.</strong> deadline_api</a></li><li class="chapter-item expanded "><a href="library-features/dec2flt.html"><strong aria-hidden="true">3.113.</strong> dec2flt</a></li><li class="chapter-item expanded "><a href="library-features/default-free-fn.html"><strong aria-hidden="true">3.114.</strong> default_free_fn</a></li><li class="chapter-item expanded "><a href="library-features/derive-clone-copy.html"><strong aria-hidden="true">3.115.</strong> derive_clone_copy</a></li><li class="chapter-item expanded "><a href="library-features/derive-eq.html"><strong aria-hidden="true">3.116.</strong> derive_eq</a></li><li class="chapter-item expanded "><a href="library-features/dir-entry-ext2.html"><strong aria-hidden="true">3.117.</strong> dir_entry_ext2</a></li><li class="chapter-item expanded "><a href="library-features/discriminant-kind.html"><strong aria-hidden="true">3.118.</strong> discriminant_kind</a></li><li class="chapter-item expanded "><a href="library-features/dispatch-from-dyn.html"><strong aria-hidden="true">3.119.</strong> dispatch_from_dyn</a></li><li class="chapter-item expanded "><a href="library-features/div-duration.html"><strong aria-hidden="true">3.120.</strong> div_duration</a></li><li class="chapter-item expanded "><a href="library-features/drain-filter.html"><strong aria-hidden="true">3.121.</strong> drain_filter</a></li><li class="chapter-item expanded "><a href="library-features/duration-checked-float.html"><strong aria-hidden="true">3.122.</strong> duration_checked_float</a></li><li class="chapter-item expanded "><a href="library-features/duration-constants.html"><strong aria-hidden="true">3.123.</strong> duration_constants</a></li><li class="chapter-item expanded "><a href="library-features/duration-consts-2.html"><strong aria-hidden="true">3.124.</strong> duration_consts_2</a></li><li class="chapter-item expanded "><a href="library-features/edition-panic.html"><strong aria-hidden="true">3.125.</strong> edition_panic</a></li><li class="chapter-item expanded "><a href="library-features/entry-insert.html"><strong aria-hidden="true">3.126.</strong> entry_insert</a></li><li class="chapter-item expanded "><a href="library-features/error-iter.html"><strong aria-hidden="true">3.127.</strong> error_iter</a></li><li class="chapter-item expanded "><a href="library-features/error-type-id.html"><strong aria-hidden="true">3.128.</strong> error_type_id</a></li><li class="chapter-item expanded "><a href="library-features/exact-size-is-empty.html"><strong aria-hidden="true">3.129.</strong> exact_size_is_empty</a></li><li class="chapter-item expanded "><a href="library-features/exit-status-error.html"><strong aria-hidden="true">3.130.</strong> exit_status_error</a></li><li class="chapter-item expanded "><a href="library-features/extend-one.html"><strong aria-hidden="true">3.131.</strong> extend_one</a></li><li class="chapter-item expanded "><a href="library-features/fd.html"><strong aria-hidden="true">3.132.</strong> fd</a></li><li class="chapter-item expanded "><a href="library-features/fd-read.html"><strong aria-hidden="true">3.133.</strong> fd_read</a></li><li class="chapter-item expanded "><a href="library-features/float-interpolation.html"><strong aria-hidden="true">3.134.</strong> float_interpolation</a></li><li class="chapter-item expanded "><a href="library-features/flt2dec.html"><strong aria-hidden="true">3.135.</strong> flt2dec</a></li><li class="chapter-item expanded "><a href="library-features/fmt-internals.html"><strong aria-hidden="true">3.136.</strong> fmt_internals</a></li><li class="chapter-item expanded "><a href="library-features/fn-traits.html"><strong aria-hidden="true">3.137.</strong> fn_traits</a></li><li class="chapter-item expanded "><a href="library-features/forget-unsized.html"><strong aria-hidden="true">3.138.</strong> forget_unsized</a></li><li class="chapter-item expanded "><a href="library-features/format-args-nl.html"><strong aria-hidden="true">3.139.</strong> format_args_nl</a></li><li class="chapter-item expanded "><a href="library-features/future-poll-fn.html"><strong aria-hidden="true">3.140.</strong> future_poll_fn</a></li><li class="chapter-item expanded "><a href="library-features/gen-future.html"><strong aria-hidden="true">3.141.</strong> gen_future</a></li><li class="chapter-item expanded "><a href="library-features/generator-trait.html"><strong aria-hidden="true">3.142.</strong> generator_trait</a></li><li class="chapter-item expanded "><a href="library-features/get-mut-unchecked.html"><strong aria-hidden="true">3.143.</strong> get_mut_unchecked</a></li><li class="chapter-item expanded "><a href="library-features/global-asm.html"><strong aria-hidden="true">3.144.</strong> global_asm</a></li><li class="chapter-item expanded "><a href="library-features/hash-drain-filter.html"><strong aria-hidden="true">3.145.</strong> hash_drain_filter</a></li><li class="chapter-item expanded "><a href="library-features/hash-raw-entry.html"><strong aria-hidden="true">3.146.</strong> hash_raw_entry</a></li><li class="chapter-item expanded "><a href="library-features/hash-set-entry.html"><strong aria-hidden="true">3.147.</strong> hash_set_entry</a></li><li class="chapter-item expanded "><a href="library-features/hashmap-internals.html"><strong aria-hidden="true">3.148.</strong> hashmap_internals</a></li><li class="chapter-item expanded "><a href="library-features/inherent-ascii-escape.html"><strong aria-hidden="true">3.149.</strong> inherent_ascii_escape</a></li><li class="chapter-item expanded "><a href="library-features/inplace-iteration.html"><strong aria-hidden="true">3.150.</strong> inplace_iteration</a></li><li class="chapter-item expanded "><a href="library-features/int-error-internals.html"><strong aria-hidden="true">3.151.</strong> int_error_internals</a></li><li class="chapter-item expanded "><a href="library-features/int-log.html"><strong aria-hidden="true">3.152.</strong> int_log</a></li><li class="chapter-item expanded "><a href="library-features/integer-atomics.html"><strong aria-hidden="true">3.153.</strong> integer_atomics</a></li><li class="chapter-item expanded "><a href="library-features/internal-output-capture.html"><strong aria-hidden="true">3.154.</strong> internal_output_capture</a></li><li class="chapter-item expanded "><a href="library-features/into-future.html"><strong aria-hidden="true">3.155.</strong> into_future</a></li><li class="chapter-item expanded "><a href="library-features/io-error-more.html"><strong aria-hidden="true">3.156.</strong> io_error_more</a></li><li class="chapter-item expanded "><a href="library-features/io-error-uncategorized.html"><strong aria-hidden="true">3.157.</strong> io_error_uncategorized</a></li><li class="chapter-item expanded "><a href="library-features/io-read-to-string.html"><strong aria-hidden="true">3.158.</strong> io_read_to_string</a></li><li class="chapter-item expanded "><a href="library-features/io-slice-advance.html"><strong aria-hidden="true">3.159.</strong> io_slice_advance</a></li><li class="chapter-item expanded "><a href="library-features/ip.html"><strong aria-hidden="true">3.160.</strong> ip</a></li><li class="chapter-item expanded "><a href="library-features/is-sorted.html"><strong aria-hidden="true">3.161.</strong> is_sorted</a></li><li class="chapter-item expanded "><a href="library-features/is-symlink.html"><strong aria-hidden="true">3.162.</strong> is_symlink</a></li><li class="chapter-item expanded "><a href="library-features/iter-advance-by.html"><strong aria-hidden="true">3.163.</strong> iter_advance_by</a></li><li class="chapter-item expanded "><a href="library-features/iter-intersperse.html"><strong aria-hidden="true">3.164.</strong> iter_intersperse</a></li><li class="chapter-item expanded "><a href="library-features/iter-is-partitioned.html"><strong aria-hidden="true">3.165.</strong> iter_is_partitioned</a></li><li class="chapter-item expanded "><a href="library-features/iter-map-while.html"><strong aria-hidden="true">3.166.</strong> iter_map_while</a></li><li class="chapter-item expanded "><a href="library-features/iter-order-by.html"><strong aria-hidden="true">3.167.</strong> iter_order_by</a></li><li class="chapter-item expanded "><a href="library-features/iter-partition-in-place.html"><strong aria-hidden="true">3.168.</strong> iter_partition_in_place</a></li><li class="chapter-item expanded "><a href="library-features/iter-zip.html"><strong aria-hidden="true">3.169.</strong> iter_zip</a></li><li class="chapter-item expanded "><a href="library-features/layout-for-ptr.html"><strong aria-hidden="true">3.170.</strong> layout_for_ptr</a></li><li class="chapter-item expanded "><a href="library-features/liballoc-internals.html"><strong aria-hidden="true">3.171.</strong> liballoc_internals</a></li><li class="chapter-item expanded "><a href="library-features/libstd-sys-internals.html"><strong aria-hidden="true">3.172.</strong> libstd_sys_internals</a></li><li class="chapter-item expanded "><a href="library-features/libstd-thread-internals.html"><strong aria-hidden="true">3.173.</strong> libstd_thread_internals</a></li><li class="chapter-item expanded "><a href="library-features/linked-list-cursors.html"><strong aria-hidden="true">3.174.</strong> linked_list_cursors</a></li><li class="chapter-item expanded "><a href="library-features/linked-list-remove.html"><strong aria-hidden="true">3.175.</strong> linked_list_remove</a></li><li class="chapter-item expanded "><a href="library-features/linux-pidfd.html"><strong aria-hidden="true">3.176.</strong> linux_pidfd</a></li><li class="chapter-item expanded "><a href="library-features/llvm-asm.html"><strong aria-hidden="true">3.177.</strong> llvm_asm</a></li><li class="chapter-item expanded "><a href="library-features/log-syntax.html"><strong aria-hidden="true">3.178.</strong> log_syntax</a></li><li class="chapter-item expanded "><a href="library-features/map-entry-replace.html"><strong aria-hidden="true">3.179.</strong> map_entry_replace</a></li><li class="chapter-item expanded "><a href="library-features/map-first-last.html"><strong aria-hidden="true">3.180.</strong> map_first_last</a></li><li class="chapter-item expanded "><a href="library-features/map-try-insert.html"><strong aria-hidden="true">3.181.</strong> map_try_insert</a></li><li class="chapter-item expanded "><a href="library-features/maybe-uninit-array-assume-init.html"><strong aria-hidden="true">3.182.</strong> maybe_uninit_array_assume_init</a></li><li class="chapter-item expanded "><a href="library-features/maybe-uninit-extra.html"><strong aria-hidden="true">3.183.</strong> maybe_uninit_extra</a></li><li class="chapter-item expanded "><a href="library-features/maybe-uninit-slice.html"><strong aria-hidden="true">3.184.</strong> maybe_uninit_slice</a></li><li class="chapter-item expanded "><a href="library-features/maybe-uninit-uninit-array.html"><strong aria-hidden="true">3.185.</strong> maybe_uninit_uninit_array</a></li><li class="chapter-item expanded "><a href="library-features/maybe-uninit-write-slice.html"><strong aria-hidden="true">3.186.</strong> maybe_uninit_write_slice</a></li><li class="chapter-item expanded "><a href="library-features/mutex-unlock.html"><strong aria-hidden="true">3.187.</strong> mutex_unlock</a></li><li class="chapter-item expanded "><a href="library-features/new-uninit.html"><strong aria-hidden="true">3.188.</strong> new_uninit</a></li><li class="chapter-item expanded "><a href="library-features/nonnull-slice-from-raw-parts.html"><strong aria-hidden="true">3.189.</strong> nonnull_slice_from_raw_parts</a></li><li class="chapter-item expanded "><a href="library-features/nonzero-is-power-of-two.html"><strong aria-hidden="true">3.190.</strong> nonzero_is_power_of_two</a></li><li class="chapter-item expanded "><a href="library-features/nonzero-ops.html"><strong aria-hidden="true">3.191.</strong> nonzero_ops</a></li><li class="chapter-item expanded "><a href="library-features/numfmt.html"><strong aria-hidden="true">3.192.</strong> numfmt</a></li><li class="chapter-item expanded "><a href="library-features/once-cell.html"><strong aria-hidden="true">3.193.</strong> once_cell</a></li><li class="chapter-item expanded "><a href="library-features/option-get-or-insert-default.html"><strong aria-hidden="true">3.194.</strong> option_get_or_insert_default</a></li><li class="chapter-item expanded "><a href="library-features/option-result-contains.html"><strong aria-hidden="true">3.195.</strong> option_result_contains</a></li><li class="chapter-item expanded "><a href="library-features/option-result-unwrap-unchecked.html"><strong aria-hidden="true">3.196.</strong> option_result_unwrap_unchecked</a></li><li class="chapter-item expanded "><a href="library-features/option-zip.html"><strong aria-hidden="true">3.197.</strong> option_zip</a></li><li class="chapter-item expanded "><a href="library-features/panic-abort.html"><strong aria-hidden="true">3.198.</strong> panic_abort</a></li><li class="chapter-item expanded "><a href="library-features/panic-always-abort.html"><strong aria-hidden="true">3.199.</strong> panic_always_abort</a></li><li class="chapter-item expanded "><a href="library-features/panic-info-message.html"><strong aria-hidden="true">3.200.</strong> panic_info_message</a></li><li class="chapter-item expanded "><a href="library-features/panic-internals.html"><strong aria-hidden="true">3.201.</strong> panic_internals</a></li><li class="chapter-item expanded "><a href="library-features/panic-unwind.html"><strong aria-hidden="true">3.202.</strong> panic_unwind</a></li><li class="chapter-item expanded "><a href="library-features/path-try-exists.html"><strong aria-hidden="true">3.203.</strong> path_try_exists</a></li><li class="chapter-item expanded "><a href="library-features/pattern.html"><strong aria-hidden="true">3.204.</strong> pattern</a></li><li class="chapter-item expanded "><a href="library-features/peer-credentials-unix-socket.html"><strong aria-hidden="true">3.205.</strong> peer_credentials_unix_socket</a></li><li class="chapter-item expanded "><a href="library-features/pin-deref-mut.html"><strong aria-hidden="true">3.206.</strong> pin_deref_mut</a></li><li class="chapter-item expanded "><a href="library-features/pin-static-ref.html"><strong aria-hidden="true">3.207.</strong> pin_static_ref</a></li><li class="chapter-item expanded "><a href="library-features/print-internals.html"><strong aria-hidden="true">3.208.</strong> print_internals</a></li><li class="chapter-item expanded "><a href="library-features/proc-macro-def-site.html"><strong aria-hidden="true">3.209.</strong> proc_macro_def_site</a></li><li class="chapter-item expanded "><a href="library-features/proc-macro-diagnostic.html"><strong aria-hidden="true">3.210.</strong> proc_macro_diagnostic</a></li><li class="chapter-item expanded "><a href="library-features/proc-macro-internals.html"><strong aria-hidden="true">3.211.</strong> proc_macro_internals</a></li><li class="chapter-item expanded "><a href="library-features/proc-macro-is-available.html"><strong aria-hidden="true">3.212.</strong> proc_macro_is_available</a></li><li class="chapter-item expanded "><a href="library-features/proc-macro-quote.html"><strong aria-hidden="true">3.213.</strong> proc_macro_quote</a></li><li class="chapter-item expanded "><a href="library-features/proc-macro-span.html"><strong aria-hidden="true">3.214.</strong> proc_macro_span</a></li><li class="chapter-item expanded "><a href="library-features/proc-macro-tracked-env.html"><strong aria-hidden="true">3.215.</strong> proc_macro_tracked_env</a></li><li class="chapter-item expanded "><a href="library-features/process-exitcode-placeholder.html"><strong aria-hidden="true">3.216.</strong> process_exitcode_placeholder</a></li><li class="chapter-item expanded "><a href="library-features/process-internals.html"><strong aria-hidden="true">3.217.</strong> process_internals</a></li><li class="chapter-item expanded "><a href="library-features/profiler-runtime-lib.html"><strong aria-hidden="true">3.218.</strong> profiler_runtime_lib</a></li><li class="chapter-item expanded "><a href="library-features/ptr-as-uninit.html"><strong aria-hidden="true">3.219.</strong> ptr_as_uninit</a></li><li class="chapter-item expanded "><a href="library-features/ptr-internals.html"><strong aria-hidden="true">3.220.</strong> ptr_internals</a></li><li class="chapter-item expanded "><a href="library-features/ptr-metadata.html"><strong aria-hidden="true">3.221.</strong> ptr_metadata</a></li><li class="chapter-item expanded "><a href="library-features/raw-os-nonzero.html"><strong aria-hidden="true">3.222.</strong> raw_os_nonzero</a></li><li class="chapter-item expanded "><a href="library-features/raw-vec-internals.html"><strong aria-hidden="true">3.223.</strong> raw_vec_internals</a></li><li class="chapter-item expanded "><a href="library-features/read-initializer.html"><strong aria-hidden="true">3.224.</strong> read_initializer</a></li><li class="chapter-item expanded "><a href="library-features/receiver-trait.html"><strong aria-hidden="true">3.225.</strong> receiver_trait</a></li><li class="chapter-item expanded "><a href="library-features/restricted-std.html"><strong aria-hidden="true">3.226.</strong> restricted_std</a></li><li class="chapter-item expanded "><a href="library-features/result-cloned.html"><strong aria-hidden="true">3.227.</strong> result_cloned</a></li><li class="chapter-item expanded "><a href="library-features/result-contains-err.html"><strong aria-hidden="true">3.228.</strong> result_contains_err</a></li><li class="chapter-item expanded "><a href="library-features/result-copied.html"><strong aria-hidden="true">3.229.</strong> result_copied</a></li><li class="chapter-item expanded "><a href="library-features/result-flattening.html"><strong aria-hidden="true">3.230.</strong> result_flattening</a></li><li class="chapter-item expanded "><a href="library-features/result-into-ok-or-err.html"><strong aria-hidden="true">3.231.</strong> result_into_ok_or_err</a></li><li class="chapter-item expanded "><a href="library-features/rt.html"><strong aria-hidden="true">3.232.</strong> rt</a></li><li class="chapter-item expanded "><a href="library-features/sealed.html"><strong aria-hidden="true">3.233.</strong> sealed</a></li><li class="chapter-item expanded "><a href="library-features/seek-stream-len.html"><strong aria-hidden="true">3.234.</strong> seek_stream_len</a></li><li class="chapter-item expanded "><a href="library-features/set-ptr-value.html"><strong aria-hidden="true">3.235.</strong> set_ptr_value</a></li><li class="chapter-item expanded "><a href="library-features/setgroups.html"><strong aria-hidden="true">3.236.</strong> setgroups</a></li><li class="chapter-item expanded "><a href="library-features/sgx-platform.html"><strong aria-hidden="true">3.237.</strong> sgx_platform</a></li><li class="chapter-item expanded "><a href="library-features/slice-as-chunks.html"><strong aria-hidden="true">3.238.</strong> slice_as_chunks</a></li><li class="chapter-item expanded "><a href="library-features/slice-concat-ext.html"><strong aria-hidden="true">3.239.</strong> slice_concat_ext</a></li><li class="chapter-item expanded "><a href="library-features/slice-concat-trait.html"><strong aria-hidden="true">3.240.</strong> slice_concat_trait</a></li><li class="chapter-item expanded "><a href="library-features/slice-group-by.html"><strong aria-hidden="true">3.241.</strong> slice_group_by</a></li><li class="chapter-item expanded "><a href="library-features/slice-index-methods.html"><strong aria-hidden="true">3.242.</strong> slice_index_methods</a></li><li class="chapter-item expanded "><a href="library-features/slice-internals.html"><strong aria-hidden="true">3.243.</strong> slice_internals</a></li><li class="chapter-item expanded "><a href="library-features/slice-partition-at-index.html"><strong aria-hidden="true">3.244.</strong> slice_partition_at_index</a></li><li class="chapter-item expanded "><a href="library-features/slice-partition-dedup.html"><strong aria-hidden="true">3.245.</strong> slice_partition_dedup</a></li><li class="chapter-item expanded "><a href="library-features/slice-pattern.html"><strong aria-hidden="true">3.246.</strong> slice_pattern</a></li><li class="chapter-item expanded "><a href="library-features/slice-ptr-get.html"><strong aria-hidden="true">3.247.</strong> slice_ptr_get</a></li><li class="chapter-item expanded "><a href="library-features/slice-ptr-len.html"><strong aria-hidden="true">3.248.</strong> slice_ptr_len</a></li><li class="chapter-item expanded "><a href="library-features/slice-range.html"><strong aria-hidden="true">3.249.</strong> slice_range</a></li><li class="chapter-item expanded "><a href="library-features/slice-split-at-unchecked.html"><strong aria-hidden="true">3.250.</strong> slice_split_at_unchecked</a></li><li class="chapter-item expanded "><a href="library-features/sort-internals.html"><strong aria-hidden="true">3.251.</strong> sort_internals</a></li><li class="chapter-item expanded "><a href="library-features/std-internals.html"><strong aria-hidden="true">3.252.</strong> std_internals</a></li><li class="chapter-item expanded "><a href="library-features/stdin-forwarders.html"><strong aria-hidden="true">3.253.</strong> stdin_forwarders</a></li><li class="chapter-item expanded "><a href="library-features/stdio-locked.html"><strong aria-hidden="true">3.254.</strong> stdio_locked</a></li><li class="chapter-item expanded "><a href="library-features/stdsimd.html"><strong aria-hidden="true">3.255.</strong> stdsimd</a></li><li class="chapter-item expanded "><a href="library-features/step-trait.html"><strong aria-hidden="true">3.256.</strong> step_trait</a></li><li class="chapter-item expanded "><a href="library-features/str-internals.html"><strong aria-hidden="true">3.257.</strong> str_internals</a></li><li class="chapter-item expanded "><a href="library-features/str-split-as-str.html"><strong aria-hidden="true">3.258.</strong> str_split_as_str</a></li><li class="chapter-item expanded "><a href="library-features/str-split-inclusive-as-str.html"><strong aria-hidden="true">3.259.</strong> str_split_inclusive_as_str</a></li><li class="chapter-item expanded "><a href="library-features/str-split-whitespace-as-str.html"><strong aria-hidden="true">3.260.</strong> str_split_whitespace_as_str</a></li><li class="chapter-item expanded "><a href="library-features/stream-from-iter.html"><strong aria-hidden="true">3.261.</strong> stream_from_iter</a></li><li class="chapter-item expanded "><a href="library-features/string-extend-from-within.html"><strong aria-hidden="true">3.262.</strong> string_extend_from_within</a></li><li class="chapter-item expanded "><a href="library-features/string-remove-matches.html"><strong aria-hidden="true">3.263.</strong> string_remove_matches</a></li><li class="chapter-item expanded "><a href="library-features/termination-trait-lib.html"><strong aria-hidden="true">3.264.</strong> termination_trait_lib</a></li><li class="chapter-item expanded "><a href="library-features/test.html"><strong aria-hidden="true">3.265.</strong> test</a></li><li class="chapter-item expanded "><a href="library-features/thread-id-value.html"><strong aria-hidden="true">3.266.</strong> thread_id_value</a></li><li class="chapter-item expanded "><a href="library-features/thread-local-const-init.html"><strong aria-hidden="true">3.267.</strong> thread_local_const_init</a></li><li class="chapter-item expanded "><a href="library-features/thread-local-internals.html"><strong aria-hidden="true">3.268.</strong> thread_local_internals</a></li><li class="chapter-item expanded "><a href="library-features/thread-spawn-unchecked.html"><strong aria-hidden="true">3.269.</strong> thread_spawn_unchecked</a></li><li class="chapter-item expanded "><a href="library-features/toowned-clone-into.html"><strong aria-hidden="true">3.270.</strong> toowned_clone_into</a></li><li class="chapter-item expanded "><a href="library-features/total-cmp.html"><strong aria-hidden="true">3.271.</strong> total_cmp</a></li><li class="chapter-item expanded "><a href="library-features/trace-macros.html"><strong aria-hidden="true">3.272.</strong> trace_macros</a></li><li class="chapter-item expanded "><a href="library-features/track-path.html"><strong aria-hidden="true">3.273.</strong> track_path</a></li><li class="chapter-item expanded "><a href="library-features/trusted-len.html"><strong aria-hidden="true">3.274.</strong> trusted_len</a></li><li class="chapter-item expanded "><a href="library-features/trusted-random-access.html"><strong aria-hidden="true">3.275.</strong> trusted_random_access</a></li><li class="chapter-item expanded "><a href="library-features/trusted-step.html"><strong aria-hidden="true">3.276.</strong> trusted_step</a></li><li class="chapter-item expanded "><a href="library-features/try-find.html"><strong aria-hidden="true">3.277.</strong> try_find</a></li><li class="chapter-item expanded "><a href="library-features/try-reserve.html"><strong aria-hidden="true">3.278.</strong> try_reserve</a></li><li class="chapter-item expanded "><a href="library-features/try-reserve-kind.html"><strong aria-hidden="true">3.279.</strong> try_reserve_kind</a></li><li class="chapter-item expanded "><a href="library-features/try-trait-transition.html"><strong aria-hidden="true">3.280.</strong> try_trait_transition</a></li><li class="chapter-item expanded "><a href="library-features/try-trait-v2.html"><strong aria-hidden="true">3.281.</strong> try_trait_v2</a></li><li class="chapter-item expanded "><a href="library-features/type-name-of-val.html"><strong aria-hidden="true">3.282.</strong> type_name_of_val</a></li><li class="chapter-item expanded "><a href="library-features/unchecked-math.html"><strong aria-hidden="true">3.283.</strong> unchecked_math</a></li><li class="chapter-item expanded "><a href="library-features/unicode-internals.html"><strong aria-hidden="true">3.284.</strong> unicode_internals</a></li><li class="chapter-item expanded "><a href="library-features/unix-chroot.html"><strong aria-hidden="true">3.285.</strong> unix_chroot</a></li><li class="chapter-item expanded "><a href="library-features/unix-process-wait-more.html"><strong aria-hidden="true">3.286.</strong> unix_process_wait_more</a></li><li class="chapter-item expanded "><a href="library-features/unix-socket-ancillary-data.html"><strong aria-hidden="true">3.287.</strong> unix_socket_ancillary_data</a></li><li class="chapter-item expanded "><a href="library-features/unix-socket-peek.html"><strong aria-hidden="true">3.288.</strong> unix_socket_peek</a></li><li class="chapter-item expanded "><a href="library-features/unsafe-cell-raw-get.html"><strong aria-hidden="true">3.289.</strong> unsafe_cell_raw_get</a></li><li class="chapter-item expanded "><a href="library-features/unsize.html"><strong aria-hidden="true">3.290.</strong> unsize</a></li><li class="chapter-item expanded "><a href="library-features/unwrap-infallible.html"><strong aria-hidden="true">3.291.</strong> unwrap_infallible</a></li><li class="chapter-item expanded "><a href="library-features/unzip-option.html"><strong aria-hidden="true">3.292.</strong> unzip_option</a></li><li class="chapter-item expanded "><a href="library-features/update-panic-count.html"><strong aria-hidden="true">3.293.</strong> update_panic_count</a></li><li class="chapter-item expanded "><a href="library-features/variant-count.html"><strong aria-hidden="true">3.294.</strong> variant_count</a></li><li class="chapter-item expanded "><a href="library-features/vec-into-raw-parts.html"><strong aria-hidden="true">3.295.</strong> vec_into_raw_parts</a></li><li class="chapter-item expanded "><a href="library-features/vec-spare-capacity.html"><strong aria-hidden="true">3.296.</strong> vec_spare_capacity</a></li><li class="chapter-item expanded "><a href="library-features/vec-split-at-spare.html"><strong aria-hidden="true">3.297.</strong> vec_split_at_spare</a></li><li class="chapter-item expanded "><a href="library-features/wasi-ext.html"><strong aria-hidden="true">3.298.</strong> wasi_ext</a></li><li class="chapter-item expanded "><a href="library-features/windows-by-handle.html"><strong aria-hidden="true">3.299.</strong> windows_by_handle</a></li><li class="chapter-item expanded "><a href="library-features/windows-c.html"><strong aria-hidden="true">3.300.</strong> windows_c</a></li><li class="chapter-item expanded "><a href="library-features/windows-file-type-ext.html"><strong aria-hidden="true">3.301.</strong> windows_file_type_ext</a></li><li class="chapter-item expanded "><a href="library-features/windows-handle.html"><strong aria-hidden="true">3.302.</strong> windows_handle</a></li><li class="chapter-item expanded "><a href="library-features/windows-net.html"><strong aria-hidden="true">3.303.</strong> windows_net</a></li><li class="chapter-item expanded "><a href="library-features/windows-process-extensions-force-quotes.html"><strong aria-hidden="true">3.304.</strong> windows_process_extensions_force_quotes</a></li><li class="chapter-item expanded "><a href="library-features/windows-process-extensions-raw-arg.html"><strong aria-hidden="true">3.305.</strong> windows_process_extensions_raw_arg</a></li><li class="chapter-item expanded "><a href="library-features/windows-stdio.html"><strong aria-hidden="true">3.306.</strong> windows_stdio</a></li><li class="chapter-item expanded "><a href="library-features/with-options.html"><strong aria-hidden="true">3.307.</strong> with_options</a></li><li class="chapter-item expanded "><a href="library-features/wrapping-int-impl.html"><strong aria-hidden="true">3.308.</strong> wrapping_int_impl</a></li><li class="chapter-item expanded "><a href="library-features/wrapping-next-power-of-two.html"><strong aria-hidden="true">3.309.</strong> wrapping_next_power_of_two</a></li><li class="chapter-item expanded "><a href="library-features/write-all-vectored.html"><strong aria-hidden="true">3.310.</strong> write_all_vectored</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust Unstable Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rust-lang/rust/tree/master/src/doc/unstable-book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="the-unstable-book"><a class="header" href="#the-unstable-book">The Unstable Book</a></h1>
<p>Welcome to the Unstable Book! This book consists of a number of chapters,
each one organized by a &quot;feature flag.&quot; That is, when using an unstable
feature of Rust, you must use a flag, like this:</p>
<pre><pre class="playground"><code class="language-rust">#![feature(box_syntax)]

fn main() {
    let five = box 5;
}
</code></pre></pre>
<p>The <code>box_syntax</code> feature <a href="language-features/box-syntax.html">has a chapter</a> describing how to use it.</p>
<p>Because this documentation relates to unstable features, we make no guarantees
that what is contained here is accurate or up to date. It's developed on a
best-effort basis. Each page will have a link to its tracking issue with the
latest developments; you might want to check those as well.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="compiler-flags"><a class="header" href="#compiler-flags">Compiler flags</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="codegen-backend"><a class="header" href="#codegen-backend"><code>codegen-backend</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/77933">#77933</a>.</p>
<hr />
<p>This feature allows you to specify a path to a dynamic library to use as rustc's
code generation backend at runtime.</p>
<p>Set the <code>-Zcodegen-backend=&lt;path&gt;</code> compiler flag to specify the location of the
backend. The library must be of crate type <code>dylib</code> and must contain a function
named <code>__rustc_codegen_backend</code> with a signature of <code>fn() -&gt; Box&lt;dyn rustc_codegen_ssa::traits::CodegenBackend&gt;</code>.</p>
<h2 id="example"><a class="header" href="#example">Example</a></h2>
<p>See also the <a href="https://github.com/rust-lang/rust/tree/master/src/test/run-make-fulldeps/hotplug_codegen_backend"><code>hotplug_codegen_backend</code></a> test
for a full example.</p>
<pre><code class="language-rust ignore (partial-example)">use rustc_codegen_ssa::traits::CodegenBackend;

struct MyBackend;

impl CodegenBackend for MyBackend {
   // Implement codegen methods
}

#[no_mangle]
pub fn __rustc_codegen_backend() -&gt; Box&lt;dyn CodegenBackend&gt; {
    Box::new(MyBackend)
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="control-flow-guard"><a class="header" href="#control-flow-guard"><code>control-flow-guard</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/68793">#68793</a>.</p>
<hr />
<p>The rustc flag <code>-Z control-flow-guard</code> enables the Windows <a href="https://docs.microsoft.com/en-us/windows/win32/secbp/control-flow-guard">Control Flow Guard</a> (CFG) platform security feature.</p>
<p>CFG is an exploit mitigation designed to enforce control-flow integrity for software running on supported <a href="https://docs.microsoft.com/en-us/windows/win32/secbp/control-flow-guard">Windows platforms (Windows 8.1 onwards)</a>. Specifically, CFG uses runtime checks to validate the target address of every indirect call/jump before allowing the call to complete.</p>
<p>During compilation, the compiler identifies all indirect calls/jumps and adds CFG checks. It also emits metadata containing the relative addresses of all address-taken functions. At runtime, if the binary is run on a CFG-aware operating system, the loader uses the CFG metadata to generate a bitmap of the address space and marks those addresses that contain valid targets. On each indirect call, the inserted check determines whether the target address is marked in this bitmap. If the target is not valid, the process is terminated.</p>
<p>In terms of interoperability:</p>
<ul>
<li>Code compiled with CFG enabled can be linked with libraries and object files that are not compiled with CFG. In this case, a CFG-aware linker can identify address-taken functions in the non-CFG libraries.</li>
<li>Libraries compiled with CFG can linked into non-CFG programs. In this case, the CFG runtime checks in the libraries are not used (i.e. the mitigation is completely disabled).</li>
</ul>
<p>CFG functionality is completely implemented in the LLVM backend and is supported for X86 (32-bit and 64-bit), ARM, and Aarch64 targets. The rustc flag adds the relevant LLVM module flags to enable the feature. This flag will be ignored for all non-Windows targets.</p>
<h2 id="when-to-use-control-flow-guard"><a class="header" href="#when-to-use-control-flow-guard">When to use Control Flow Guard</a></h2>
<p>The primary motivation for enabling CFG in Rust is to enhance security when linking against non-Rust code, especially C/C++ code. To achieve full CFG protection, all indirect calls (including any from Rust code) must have the appropriate CFG checks, as added by this flag. CFG can also improve security for Rust code that uses the <code>unsafe</code> keyword.</p>
<p>Another motivation behind CFG is to harden programs against <a href="https://en.wikipedia.org/wiki/Return-oriented_programming">return-oriented programming (ROP)</a> attacks. CFG disallows an attacker from taking advantage of the program's own instructions while redirecting control flow in unexpected ways.</p>
<h2 id="overhead-of-control-flow-guard"><a class="header" href="#overhead-of-control-flow-guard">Overhead of Control Flow Guard</a></h2>
<p>The CFG checks and metadata can potentially increase binary size and runtime overhead. The magnitude of any increase depends on the number and frequency of indirect calls. For example, enabling CFG for the Rust standard library increases binary size by approximately 0.14%. Enabling CFG in the SPEC CPU 2017 Integer Speed benchmark suite (compiled with Clang/LLVM) incurs approximate runtime overheads of between 0% and 8%, with a geometric mean of 2.9%.</p>
<h2 id="testing-control-flow-guard"><a class="header" href="#testing-control-flow-guard">Testing Control Flow Guard</a></h2>
<p>The rustc flag <code>-Z control-flow-guard=nochecks</code> instructs LLVM to emit the list of valid call targets without inserting runtime checks. This flag should only be used for testing purposes as it does not provide security enforcement.</p>
<h2 id="control-flow-guard-in-libraries"><a class="header" href="#control-flow-guard-in-libraries">Control Flow Guard in libraries</a></h2>
<p>It is strongly recommended to also enable CFG checks for all linked libraries, including the standard library.</p>
<p>To enable CFG in the standard library, use the <a href="https://doc.rust-lang.org/nightly/cargo/reference/unstable.html#build-std">cargo <code>-Z build-std</code> functionality</a> to recompile the standard library with the same configuration options as the main program.</p>
<p>For example:</p>
<pre><code class="language-cmd">rustup toolchain install --force nightly
rustup component add rust-src
SET RUSTFLAGS=-Z control-flow-guard
cargo +nightly build -Z build-std --target x86_64-pc-windows-msvc
</code></pre>
<pre><code class="language-PowerShell">rustup toolchain install --force nightly
rustup component add rust-src
$Env:RUSTFLAGS = &quot;-Z control-flow-guard&quot;
cargo +nightly build -Z build-std --target x86_64-pc-windows-msvc
</code></pre>
<p>Alternatively, if you are building the standard library from source, you can set <code>control-flow-guard = true</code> in the config.toml file.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="emit-stack-sizes"><a class="header" href="#emit-stack-sizes"><code>emit-stack-sizes</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/54192">#54192</a></p>
<hr />
<p>The rustc flag <code>-Z emit-stack-sizes</code> makes LLVM emit stack size metadata.</p>
<blockquote>
<p><strong>NOTE</strong>: This LLVM feature only supports the ELF object format as of LLVM
8.0. Using this flag with targets that use other object formats (e.g. macOS
and Windows) will result in it being ignored.</p>
</blockquote>
<p>Consider this crate:</p>
<pre><code>#![crate_type = &quot;lib&quot;]

use std::ptr;

pub fn foo() {
    // this function doesn't use the stack
}

pub fn bar() {
    let xs = [0u32; 2];

    // force LLVM to allocate `xs` on the stack
    unsafe { ptr::read_volatile(&amp;xs.as_ptr()); }
}
</code></pre>
<p>Using the <code>-Z emit-stack-sizes</code> flag produces extra linker sections in the
output <em>object file</em>.</p>
<pre><code class="language-console">$ rustc -C opt-level=3 --emit=obj foo.rs

$ size -A foo.o
foo.o  :
section                                 size   addr
.text                                      0      0
.text._ZN3foo3foo17he211d7b4a3a0c16eE      1      0
.text._ZN3foo3bar17h1acb594305f70c2eE     22      0
.note.GNU-stack                            0      0
.eh_frame                                 72      0
Total                                     95

$ rustc -C opt-level=3 --emit=obj -Z emit-stack-sizes foo.rs

$ size -A foo.o
foo.o  :
section                                 size   addr
.text                                      0      0
.text._ZN3foo3foo17he211d7b4a3a0c16eE      1      0
.stack_sizes                               9      0
.text._ZN3foo3bar17h1acb594305f70c2eE     22      0
.stack_sizes                               9      0
.note.GNU-stack                            0      0
.eh_frame                                 72      0
Total                                    113
</code></pre>
<p>As of LLVM 7.0 the data will be written into a section named <code>.stack_sizes</code> and
the format is &quot;an array of pairs of function symbol values (pointer size) and
stack sizes (unsigned LEB128)&quot;.</p>
<pre><code class="language-console">$ objdump -d foo.o

foo.o:     file format elf64-x86-64

Disassembly of section .text._ZN3foo3foo17he211d7b4a3a0c16eE:

0000000000000000 &lt;_ZN3foo3foo17he211d7b4a3a0c16eE&gt;:
   0:   c3                      retq

Disassembly of section .text._ZN3foo3bar17h1acb594305f70c2eE:

0000000000000000 &lt;_ZN3foo3bar17h1acb594305f70c2eE&gt;:
   0:   48 83 ec 10             sub    $0x10,%rsp
   4:   48 8d 44 24 08          lea    0x8(%rsp),%rax
   9:   48 89 04 24             mov    %rax,(%rsp)
   d:   48 8b 04 24             mov    (%rsp),%rax
  11:   48 83 c4 10             add    $0x10,%rsp
  15:   c3                      retq

$ objdump -s -j .stack_sizes foo.o

foo.o:     file format elf64-x86-64

Contents of section .stack_sizes:
 0000 00000000 00000000 00                 .........
Contents of section .stack_sizes:
 0000 00000000 00000000 10                 .........
</code></pre>
<p>It's important to note that linkers will discard this linker section by default.
To preserve the section you can use a linker script like the one shown below.</p>
<pre><code class="language-text">/* file: keep-stack-sizes.x */
SECTIONS
{
  /* `INFO` makes the section not allocatable so it won't be loaded into memory */
  .stack_sizes (INFO) :
  {
    KEEP(*(.stack_sizes));
  }
}
</code></pre>
<p>The linker script must be passed to the linker using a rustc flag like <code>-C link-arg</code>.</p>
<pre><code>// file: src/main.rs
use std::ptr;

#[inline(never)]
fn main() {
    let xs = [0u32; 2];

    // force LLVM to allocate `xs` on the stack
    unsafe { ptr::read_volatile(&amp;xs.as_ptr()); }
}
</code></pre>
<pre><code class="language-console">$ RUSTFLAGS=&quot;-Z emit-stack-sizes&quot; cargo build --release

$ size -A target/release/hello | grep stack_sizes || echo section was not found
section was not found

$ RUSTFLAGS=&quot;-Z emit-stack-sizes&quot; cargo rustc --release -- \
    -C link-arg=-Wl,-Tkeep-stack-sizes.x \
    -C link-arg=-N

$ size -A target/release/hello | grep stack_sizes
.stack_sizes                               90   176272

$ # non-allocatable section (flags don't contain the &quot;A&quot; (alloc) flag)
$ readelf -S target/release/hello
Section Headers:
  [Nr]   Name              Type             Address           Offset
       Size              EntSize            Flags  Link  Info  Align
(..)
  [1031] .stack_sizes      PROGBITS         000000000002b090  0002b0f0
       000000000000005a  0000000000000000   L       5     0     1

$ objdump -s -j .stack_sizes target/release/hello

target/release/hello:     file format elf64-x86-64

Contents of section .stack_sizes:
 2b090 c0040000 00000000 08f00400 00000000  ................
 2b0a0 00080005 00000000 00000810 05000000  ................
 2b0b0 00000000 20050000 00000000 10400500  .... ........@..
 2b0c0 00000000 00087005 00000000 00000080  ......p.........
 2b0d0 05000000 00000000 90050000 00000000  ................
 2b0e0 00a00500 00000000 0000               ..........
</code></pre>
<blockquote>
<p>Author note: I'm not entirely sure why, in <em>this</em> case, <code>-N</code> is required in
addition to <code>-Tkeep-stack-sizes.x</code>. For example, it's not required when
producing statically linked files for the ARM Cortex-M architecture.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="extern-location"><a class="header" href="#extern-location"><code>extern-location</code></a></h1>
<p>MCP for this feature: <a href="https://github.com/rust-lang/compiler-team/issues/303">#303</a></p>
<hr />
<p>The <code>unused-extern-crates</code> lint reports when a crate was specified on the rustc
command-line with <code>--extern name=path</code> but no symbols were referenced in it.
This is useful to know, but it's hard to map that back to a specific place a user
or tool could fix (ie, to remove the unused dependency).</p>
<p>The <code>--extern-location</code> flag allows the build system to associate a location with
the <code>--extern</code> option, which is then emitted as part of the diagnostics. This location
is abstract and just round-tripped through rustc; the compiler never attempts to
interpret it in any way.</p>
<p>There are two supported forms of location: a bare string, or a blob of json:</p>
<ul>
<li><code>--extern-location foo=raw:Makefile:123</code> would associate the raw string <code>Makefile:123</code></li>
<li><code>--extern-location 'bar=json:{&quot;target&quot;:&quot;//my_project:library&quot;,&quot;dep&quot;:&quot;//common:serde&quot;}</code> would
associate the json structure with <code>--extern bar=&lt;path&gt;</code>, indicating which dependency of
which rule introduced the unused extern crate.</li>
</ul>
<p>This primarily intended to be used with tooling - for example a linter which can automatically
remove unused dependencies - rather than being directly presented to users.</p>
<p><code>raw</code> locations are presented as part of the normal rendered diagnostics and included in
the json form. <code>json</code> locations are only included in the json form of diagnostics,
as a <code>tool_metadata</code> field. For <code>raw</code> locations <code>tool_metadata</code> is simply a json string,
whereas <code>json</code> allows the rustc invoker to fully control its form and content.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="force-warn"><a class="header" href="#force-warn"><code>force-warn</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/85512">#85512</a>.</p>
<hr />
<p>This feature allows you to cause any lint to produce a warning even if the lint has a different level by default or another level is set somewhere else. For instance, the <code>force-warn</code> option can be used to make a lint (e.g., <code>dead_code</code>) produce a warning even if that lint is allowed in code with <code>#![allow(dead_code)]</code>.</p>
<h2 id="example-1"><a class="header" href="#example-1">Example</a></h2>
<pre><code class="language-rust ignore (partial-example)">#![allow(dead_code)]

fn dead_function() {}
// This would normally not produce a warning even though the
// function is not used, because dead code is being allowed

fn main() {}
</code></pre>
<p>We can force a warning to be produced by providing <code>--force-warn dead_code</code> to rustc.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="instrument-coverage"><a class="header" href="#instrument-coverage"><code>instrument-coverage</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/79121">#79121</a>.</p>
<hr />
<h2 id="introduction"><a class="header" href="#introduction">Introduction</a></h2>
<p>The Rust compiler includes two code coverage implementations:</p>
<ul>
<li>A GCC-compatible, gcov-based coverage implementation, enabled with <code>-Z profile</code>, which derives coverage data based on DebugInfo.</li>
<li>A source-based code coverage implementation, enabled with <code>-Z instrument-coverage</code>, which uses LLVM's native, efficient coverage instrumentation to generate very precise coverage data.</li>
</ul>
<p>This document describes how to enable and use the LLVM instrumentation-based coverage, via the <code>-Z instrument-coverage</code> compiler flag.</p>
<h2 id="how-it-works"><a class="header" href="#how-it-works">How it works</a></h2>
<p>When <code>-Z instrument-coverage</code> is enabled, the Rust compiler enhances rust-based libraries and binaries by:</p>
<ul>
<li>Automatically injecting calls to an LLVM intrinsic (<a href="https://llvm.org/docs/LangRef.html#llvm-instrprof-increment-intrinsic"><code>llvm.instrprof.increment</code></a>), at functions and branches in compiled code, to increment counters when conditional sections of code are executed.</li>
<li>Embedding additional information in the data section of each library and binary (using the <a href="https://llvm.org/docs/CoverageMappingFormat.html">LLVM Code Coverage Mapping Format</a> <em>Version 4</em>, supported <em>only</em> in LLVM 11 and up), to define the code regions (start and end positions in the source code) being counted.</li>
</ul>
<p>When running a coverage-instrumented program, the counter values are written to a <code>profraw</code> file at program termination. LLVM bundles tools that read the counter results, combine those results with the coverage map (embedded in the program binary), and generate coverage reports in multiple formats.</p>
<blockquote>
<p><strong>Note</strong>: <code>-Z instrument-coverage</code> also automatically enables <code>-Z symbol-mangling-version=v0</code> (tracking issue <a href="https://github.com/rust-lang/rust/issues/60705">#60705</a>). The <code>v0</code> symbol mangler is strongly recommended, but be aware that this demangler is also experimental. The <code>v0</code> demangler can be overridden by explicitly adding <code>-Z symbol-mangling-version=legacy</code>.</p>
</blockquote>
<h2 id="enable-coverage-profiling-in-the-rust-compiler"><a class="header" href="#enable-coverage-profiling-in-the-rust-compiler">Enable coverage profiling in the Rust compiler</a></h2>
<p>Rust's source-based code coverage requires the Rust &quot;profiler runtime&quot;. Without it, compiling with <code>-Z instrument-coverage</code> generates an error that the profiler runtime is missing.</p>
<p>The Rust <code>nightly</code> distribution channel includes the profiler runtime, by default.</p>
<blockquote>
<p><strong>Important</strong>: If you are building the Rust compiler from the source distribution, the profiler runtime is <em>not</em> enabled in the default <code>config.toml.example</code>. Edit your <code>config.toml</code> file and ensure the <code>profiler</code> feature is set it to <code>true</code> (either under the <code>[build]</code> section, or under the settings for an individual <code>[target.&lt;triple&gt;]</code>):</p>
<pre><code class="language-toml"># Build the profiler runtime (required when compiling with options that depend
# on this runtime, such as `-C profile-generate` or `-Z  instrument-coverage`).
profiler = true
</code></pre>
</blockquote>
<h3 id="building-the-demangler"><a class="header" href="#building-the-demangler">Building the demangler</a></h3>
<p>LLVM coverage reporting tools generate results that can include function names and other symbol references, and the raw coverage results report symbols using the compiler's &quot;mangled&quot; version of the symbol names, which can be difficult to interpret. To work around this issue, LLVM coverage tools also support a user-specified symbol name demangler.</p>
<p>One option for a Rust demangler is <a href="https://crates.io/crates/rustfilt"><code>rustfilt</code></a>, which can be installed with:</p>
<pre><code class="language-shell">cargo install rustfilt
</code></pre>
<p>Another option, if you are building from the Rust compiler source distribution, is to use the <code>rust-demangler</code> tool included in the Rust source distribution, which can be built with:</p>
<pre><code class="language-shell">$ ./x.py build rust-demangler
</code></pre>
<h2 id="compiling-with-coverage-enabled"><a class="header" href="#compiling-with-coverage-enabled">Compiling with coverage enabled</a></h2>
<p>Set the <code>-Z instrument-coverage</code> compiler flag in order to enable LLVM source-based code coverage profiling.</p>
<p>The default option generates coverage for all functions, including unused (never called) functions and generics. The compiler flag supports an optional value to tailor this behavior. (See <a href="compiler-flags/instrument-coverage.html#-z-instrument-coverageoptions"><code>-Z instrument-coverage=&lt;options&gt;</code></a>, below.)</p>
<p>With <code>cargo</code>, you can instrument your program binary <em>and</em> dependencies at the same time.</p>
<p>For example (if your project's Cargo.toml builds a binary by default):</p>
<pre><code class="language-shell">$ cd your-project
$ cargo clean
$ RUSTFLAGS=&quot;-Z instrument-coverage&quot; cargo build
</code></pre>
<p>If <code>cargo</code> is not configured to use your <code>profiler</code>-enabled version of <code>rustc</code>, set the path explicitly via the <code>RUSTC</code> environment variable. Here is another example, using a <code>stage1</code> build of <code>rustc</code> to compile an <code>example</code> binary (from the <a href="https://crates.io/crates/json5format"><code>json5format</code></a> crate):</p>
<pre><code class="language-shell">$ RUSTC=$HOME/rust/build/x86_64-unknown-linux-gnu/stage1/bin/rustc \
    RUSTFLAGS=&quot;-Z instrument-coverage&quot; \
    cargo build --example formatjson5
</code></pre>
<blockquote>
<p><strong>Note</strong>: that some compiler options, combined with <code>-Z instrument-coverage</code>, can produce LLVM IR and/or linked binaries that are incompatible with LLVM coverage maps. For example, coverage requires references to actual functions in LLVM IR. If any covered function is optimized out, the coverage tools may not be able to process the coverage results. If you need to pass additional options, with coverage enabled, test them early, to confirm you will get the coverage results you expect.</p>
</blockquote>
<h2 id="running-the-instrumented-binary-to-generate-raw-coverage-profiling-data"><a class="header" href="#running-the-instrumented-binary-to-generate-raw-coverage-profiling-data">Running the instrumented binary to generate raw coverage profiling data</a></h2>
<p>In the previous example, <code>cargo</code> generated the coverage-instrumented binary <code>formatjson5</code>:</p>
<pre><code class="language-shell">$ echo &quot;{some: 'thing'}&quot; | target/debug/examples/formatjson5 -
</code></pre>
<pre><code class="language-json5">{
    some: &quot;thing&quot;,
}
</code></pre>
<p>After running this program, a new file, <code>default.profraw</code>, should be in the current working directory. It's often preferable to set a specific file name or path. You can change the output file using the environment variable <code>LLVM_PROFILE_FILE</code>:</p>
<pre><code class="language-shell">$ echo &quot;{some: 'thing'}&quot; \
    | LLVM_PROFILE_FILE=&quot;formatjson5.profraw&quot; target/debug/examples/formatjson5 -
...
$ ls formatjson5.profraw
formatjson5.profraw
</code></pre>
<p>If <code>LLVM_PROFILE_FILE</code> contains a path to a non-existent directory, the missing directory structure will be created. Additionally, the following special pattern strings are rewritten:</p>
<ul>
<li><code>%p</code> - The process ID.</li>
<li><code>%h</code> - The hostname of the machine running the program.</li>
<li><code>%t</code> - The value of the TMPDIR environment variable.</li>
<li><code>%Nm</code> - the instrumented binarys signature: The runtime creates a pool of N raw profiles, used for on-line profile merging. The runtime takes care of selecting a raw profile from the pool, locking it, and updating it before the program exits. <code>N</code> must be between <code>1</code> and <code>9</code>, and defaults to <code>1</code> if omitted (with simply <code>%m</code>).</li>
<li><code>%c</code> - Does not add anything to the filename, but enables a mode (on some platforms, including Darwin) in which profile counter updates are continuously synced to a file. This means that if the instrumented program crashes, or is killed by a signal, perfect coverage information can still be recovered.</li>
</ul>
<h2 id="installing-llvm-coverage-tools"><a class="header" href="#installing-llvm-coverage-tools">Installing LLVM coverage tools</a></h2>
<p>LLVM's supplies two tools<code>llvm-profdata</code> and <code>llvm-cov</code>that process coverage data and generate reports. There are several ways to find and/or install these tools, but note that the coverage mapping data generated by the Rust compiler requires LLVM version 11 or higher. (<code>llvm-cov --version</code> typically shows the tool's LLVM version number.):</p>
<ul>
<li>The LLVM tools may be installed (or installable) directly to your OS (such as via <code>apt-get</code>, for Linux).</li>
<li>If you are building the Rust compiler from source, you can optionally use the bundled LLVM tools, built from source. Those tool binaries can typically be found in your build platform directory at something like: <code>rust/build/x86_64-unknown-linux-gnu/llvm/bin/llvm-*</code>.</li>
<li>You can install compatible versions of these tools via <code>rustup</code>.</li>
</ul>
<p>The <code>rustup</code> option is guaranteed to install a compatible version of the LLVM tools, but they can be hard to find. We recommend <a href="https://crates.io/crates/cargo-binutils"><code>cargo-binutils</code></a>, which installs Rust-specific wrappers around these and other LLVM tools, so you can invoke them via <code>cargo</code> commands!</p>
<pre><code class="language-shell">$ rustup component add llvm-tools-preview
$ cargo install cargo-binutils
$ cargo profdata -- --help  # note the additional &quot;--&quot; preceding the tool-specific arguments
</code></pre>
<h2 id="creating-coverage-reports"><a class="header" href="#creating-coverage-reports">Creating coverage reports</a></h2>
<p>Raw profiles have to be indexed before they can be used to generate coverage reports. This is done using <a href="https://llvm.org/docs/CommandGuide/llvm-profdata.html#profdata-merge"><code>llvm-profdata merge</code></a> (or <code>cargo profdata -- merge</code>), which can combine multiple raw profiles and index them at the same time:</p>
<pre><code class="language-shell">$ llvm-profdata merge -sparse formatjson5.profraw -o formatjson5.profdata
</code></pre>
<p>Finally, the <code>.profdata</code> file is used, in combination with the coverage map (from the program binary) to generate coverage reports using <a href="https://llvm.org/docs/CommandGuide/llvm-cov.html#llvm-cov-report"><code>llvm-cov report</code></a> (or <code>cargo cov -- report</code>), for a coverage summaries; and <a href="https://llvm.org/docs/CommandGuide/llvm-cov.html#llvm-cov-show"><code>llvm-cov show</code></a> (or <code>cargo cov -- show</code>), to see detailed coverage of lines and regions (character ranges) overlaid on the original source code.</p>
<p>These commands have several display and filtering options. For example:</p>
<pre><code class="language-shell">$ llvm-cov show -Xdemangler=rustfilt target/debug/examples/formatjson5 \
    -instr-profile=formatjson5.profdata \
    -show-line-counts-or-regions \
    -show-instantiations \
    -name=add_quoted_string
</code></pre>
<img alt="Screenshot of sample `llvm-cov show` result, for function add_quoted_string" src="compiler-flags/img/llvm-cov-show-01.png" class="center"/>
<br/>
<br/>
<p>Some of the more notable options in this example include:</p>
<ul>
<li><code>--Xdemangler=rustfilt</code> - the command name or path used to demangle Rust symbols (<code>rustfilt</code> in the example, but this could also be a path to the <code>rust-demangler</code> tool)</li>
<li><code>target/debug/examples/formatjson5</code> - the instrumented binary (from which to extract the coverage map)</li>
<li><code>--instr-profile=&lt;path-to-file&gt;.profdata</code> - the location of the <code>.profdata</code> file created by <code>llvm-profdata merge</code> (from the <code>.profraw</code> file generated by the instrumented binary)</li>
<li><code>--name=&lt;exact-function-name&gt;</code> - to show coverage for a specific function (or, consider using another filter option, such as <code>--name-regex=&lt;pattern&gt;</code>)</li>
</ul>
<blockquote>
<p><strong>Note</strong>: Coverage can also be disabled on an individual function by annotating the function with the <a href="compiler-flags/../language-features/no-coverage.html"><code>no_coverage</code> attribute</a> (which requires the feature flag <code>#![feature(no_coverage)]</code>).</p>
</blockquote>
<h2 id="interpreting-reports"><a class="header" href="#interpreting-reports">Interpreting reports</a></h2>
<p>There are four statistics tracked in a coverage summary:</p>
<ul>
<li>Function coverage is the percentage of functions that have been executed at least once. A function is considered to be executed if any of its instantiations are executed.</li>
<li>Instantiation coverage is the percentage of function instantiations that have been executed at least once. Generic functions and functions generated from macros are two kinds of functions that may have multiple instantiations.</li>
<li>Line coverage is the percentage of code lines that have been executed at least once. Only executable lines within function bodies are considered to be code lines.</li>
<li>Region coverage is the percentage of code regions that have been executed at least once. A code region may span multiple lines: for example, in a large function body with no control flow. In other cases, a single line can contain multiple code regions: <code>return x || (y &amp;&amp; z)</code> has countable code regions for <code>x</code> (which may resolve the expression, if <code>x</code> is <code>true</code>), <code>|| (y &amp;&amp; z)</code> (executed only if <code>x</code> was <code>false</code>), and <code>return</code> (executed in either situation).</li>
</ul>
<p>Of these four statistics, function coverage is usually the least granular while region coverage is the most granular. The project-wide totals for each statistic are listed in the summary.</p>
<h2 id="test-coverage"><a class="header" href="#test-coverage">Test coverage</a></h2>
<p>A typical use case for coverage analysis is test coverage. Rust's source-based coverage tools can both measure your tests' code coverage as percentage, and pinpoint functions and branches not tested.</p>
<p>The following example (using the <a href="https://crates.io/crates/json5format"><code>json5format</code></a> crate, for demonstration purposes) show how to generate and analyze coverage results for all tests in a crate.</p>
<p>Since <code>cargo test</code> both builds and runs the tests, we set both the additional <code>RUSTFLAGS</code>, to add the <code>-Z instrument-coverage</code> flag, and <code>LLVM_PROFILE_FILE</code>, to set a custom filename for the raw profiling data generated during the test runs. Since there may be more than one test binary, apply <code>%m</code> in the filename pattern. This generates unique names for each test binary. (Otherwise, each executed test binary would overwrite the coverage results from the previous binary.)</p>
<pre><code class="language-shell">$ RUSTFLAGS=&quot;-Z instrument-coverage&quot; \
    LLVM_PROFILE_FILE=&quot;json5format-%m.profraw&quot; \
    cargo test --tests
</code></pre>
<p>Make note of the test binary file paths, displayed after the word &quot;<code>Running</code>&quot; in the test output:</p>
<pre><code class="language-text">   ...
   Compiling json5format v0.1.3 ($HOME/json5format)
    Finished test [unoptimized + debuginfo] target(s) in 14.60s

     Running target/debug/deps/json5format-fececd4653271682
running 25 tests
...
test result: ok. 25 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out

     Running target/debug/deps/lib-30768f9c53506dc5
running 31 tests
...
test result: ok. 31 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out
</code></pre>
<p>You should have one or more <code>.profraw</code> files now, one for each test binary. Run the <code>profdata</code> tool to merge them:</p>
<pre><code class="language-shell">$ cargo profdata -- merge \
    -sparse json5format-*.profraw -o json5format.profdata
</code></pre>
<p>Then run the <code>cov</code> tool, with the <code>profdata</code> file and all test binaries:</p>
<pre><code class="language-shell">$ cargo cov -- report \
    --use-color --ignore-filename-regex='/.cargo/registry' \
    --instr-profile=json5format.profdata \
    --object target/debug/deps/lib-30768f9c53506dc5 \
    --object target/debug/deps/json5format-fececd4653271682
$ cargo cov -- show \
    --use-color --ignore-filename-regex='/.cargo/registry' \
    --instr-profile=json5format.profdata \
    --object target/debug/deps/lib-30768f9c53506dc5 \
    --object target/debug/deps/json5format-fececd4653271682 \
    --show-instantiations --show-line-counts-or-regions \
    --Xdemangler=rustfilt | less -R
</code></pre>
<blockquote>
<p><strong>Note</strong>: The command line option <code>--ignore-filename-regex=/.cargo/registry</code>, which excludes the sources for dependencies from the coverage results._</p>
</blockquote>
<h3 id="tips-for-listing-the-binaries-automatically"><a class="header" href="#tips-for-listing-the-binaries-automatically">Tips for listing the binaries automatically</a></h3>
<p>For <code>bash</code> users, one suggested way to automatically complete the <code>cov</code> command with the list of binaries is with a command like:</p>
<pre><code class="language-bash">$ cargo cov -- report \
    $( \
      for file in \
        $( \
          RUSTFLAGS=&quot;-Z instrument-coverage&quot; \
            cargo test --tests --no-run --message-format=json \
              | jq -r &quot;select(.profile.test == true) | .filenames[]&quot; \
              | grep -v dSYM - \
        ); \
      do \
        printf &quot;%s %s &quot; -object $file; \
      done \
    ) \
  --instr-profile=json5format.profdata --summary-only # and/or other options
</code></pre>
<p>Adding <code>--no-run --message-format=json</code> to the <em>same</em> <code>cargo test</code> command used to run
the tests (including the same environment variables and flags) generates output in a JSON
format that <code>jq</code> can easily query.</p>
<p>The <code>printf</code> command takes this list and generates the <code>--object &lt;binary&gt;</code> arguments
for each listed test binary.</p>
<h3 id="including-doc-tests"><a class="header" href="#including-doc-tests">Including doc tests</a></h3>
<p>The previous examples run <code>cargo test</code> with <code>--tests</code>, which excludes doc tests.<sup class="footnote-reference"><a href="#79417">1</a></sup></p>
<p>To include doc tests in the coverage results, drop the <code>--tests</code> flag, and apply the
<code>-Z instrument-coverage</code> flag, and some doc-test-specific options in the
<code>RUSTDOCFLAGS</code> environment variable. (The <code>cargo profdata</code> command does not change.)</p>
<pre><code class="language-bash">$ RUSTFLAGS=&quot;-Z instrument-coverage&quot; \
  RUSTDOCFLAGS=&quot;-Z instrument-coverage -Z unstable-options --persist-doctests target/debug/doctestbins&quot; \
  LLVM_PROFILE_FILE=&quot;json5format-%m.profraw&quot; \
    cargo test
$ cargo profdata -- merge \
    -sparse json5format-*.profraw -o json5format.profdata
</code></pre>
<p>The <code>-Z unstable-options --persist-doctests</code> flag is required, to save the test binaries
(with their coverage maps) for <code>llvm-cov</code>.</p>
<pre><code class="language-bash">$ cargo cov -- report \
    $( \
      for file in \
        $( \
          RUSTFLAGS=&quot;-Z instrument-coverage&quot; \
          RUSTDOCFLAGS=&quot;-Z instrument-coverage -Z unstable-options --persist-doctests target/debug/doctestbins&quot; \
            cargo test --no-run --message-format=json \
              | jq -r &quot;select(.profile.test == true) | .filenames[]&quot; \
              | grep -v dSYM - \
        ) \
        target/debug/doctestbins/*/rust_out; \
      do \
        [[ -x $file ]] &amp;&amp; printf &quot;%s %s &quot; -object $file; \
      done \
    ) \
  --instr-profile=json5format.profdata --summary-only # and/or other options
</code></pre>
<blockquote>
<p><strong>Note</strong>: The differences in this <code>cargo cov</code> command, compared with the version without
doc tests, include:</p>
</blockquote>
<ul>
<li>The <code>cargo test ... --no-run</code> command is updated with the same environment variables
and flags used to <em>build</em> the tests, <em>including</em> the doc tests. (<code>LLVM_PROFILE_FILE</code>
is only used when <em>running</em> the tests.)</li>
<li>The file glob pattern <code>target/debug/doctestbins/*/rust_out</code> adds the <code>rust_out</code>
binaries generated for doc tests (note, however, that some <code>rust_out</code> files may not
be executable binaries).</li>
<li><code>[[ -x $file ]] &amp;&amp;</code> filters the files passed on to the <code>printf</code>, to include only
executable binaries.</li>
</ul>
<div class="footnote-definition" id="79417"><sup class="footnote-definition-label">1</sup>
<pre><code>There is ongoing work to resolve a known issue
[(#79417)](https://github.com/rust-lang/rust/issues/79417) that doc test coverage
generates incorrect source line numbers in `llvm-cov show` results.
</code></pre>
<h2 id="-z-instrument-coverageoptions"><a class="header" href="#-z-instrument-coverageoptions"><code>-Z instrument-coverage=&lt;options&gt;</code></a></h2>
</div>
<ul>
<li><code>-Z instrument-coverage=all</code>: Instrument all functions, including unused functions and unused generics. (This is the same as <code>-Z instrument-coverage</code>, with no value.)</li>
<li><code>-Z instrument-coverage=except-unused-generics</code>: Instrument all functions except unused generics.</li>
<li><code>-Z instrument-coverage=except-unused-functions</code>: Instrument only used (called) functions and instantiated generic functions.</li>
<li><code>-Z instrument-coverage=off</code>: Do not instrument any functions. (This is the same as simply not including the <code>-Z instrument-coverage</code> option.)</li>
</ul>
<h2 id="other-references"><a class="header" href="#other-references">Other references</a></h2>
<p>Rust's implementation and workflow for source-based code coverage is based on the same library and tools used to implement <a href="https://clang.llvm.org/docs/SourceBasedCodeCoverage.html">source-based code coverage in Clang</a>. (This document is partially based on the Clang guide.)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="move_size_limit"><a class="header" href="#move_size_limit"><code>move_size_limit</code></a></h1>
<hr />
<p>The <code>-Zmove-size-limit=N</code> compiler flag enables <code>large_assignments</code> lints which
will warn when moving objects whose size exceeds <code>N</code> bytes.</p>
<p>Lint warns only about moves in functions that participate in code generation.
Consequently it will be ineffective for compiler invocatation that emit
metadata only, i.e., <code>cargo check</code> like workflows.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="profile"><a class="header" href="#profile"><code>profile</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/42524">#42524</a>.</p>
<hr />
<p>This feature allows the generation of code coverage reports.</p>
<p>Set the <code>-Zprofile</code> compiler flag in order to enable gcov profiling.</p>
<p>For example:</p>
<pre><code class="language-Bash">cargo new testgcov --bin
cd testgcov
export RUSTFLAGS=&quot;-Zprofile -Ccodegen-units=1 -Copt-level=0 -Clink-dead-code -Coverflow-checks=off -Zpanic_abort_tests -Cpanic=abort&quot;
export CARGO_INCREMENTAL=0
cargo build
cargo run
</code></pre>
<p>Once you've built and run your program, files with the <code>gcno</code> (after build) and <code>gcda</code> (after execution) extensions will be created.
You can parse them with <a href="https://llvm.org/docs/CommandGuide/llvm-cov.html#llvm-cov-gcov">llvm-cov gcov</a> or <a href="https://github.com/mozilla/grcov">grcov</a>.</p>
<p>Please note that <code>RUSTFLAGS</code> by default applies to everything that cargo builds and runs during a build!
When the <code>--target</code> flag is explicitly passed to cargo, the <code>RUSTFLAGS</code> no longer apply to build scripts and procedural macros.
For more fine-grained control consider passing a <code>RUSTC_WRAPPER</code> program to cargo that only adds the profiling flags to
rustc for the specific crates you want to profile.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="report-time"><a class="header" href="#report-time"><code>report-time</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/64888">#64888</a></p>
<hr />
<p>The <code>report-time</code> feature adds a possibility to report execution time of the
tests generated via <code>libtest</code>.</p>
<p>This is unstable feature, so you have to provide <code>-Zunstable-options</code> to get
this feature working.</p>
<p>Sample usage command:</p>
<pre><code class="language-sh">./test_executable -Zunstable-options --report-time
</code></pre>
<p>Available options:</p>
<pre><code class="language-sh">--report-time [plain|colored]
                Show execution time of each test. Available values:
                plain = do not colorize the execution time (default);
                colored = colorize output according to the `color`
                parameter value;
                Threshold values for colorized output can be
                configured via
                `RUST_TEST_TIME_UNIT`, `RUST_TEST_TIME_INTEGRATION`
                and
                `RUST_TEST_TIME_DOCTEST` environment variables.
                Expected format of environment variable is
                `VARIABLE=WARN_TIME,CRITICAL_TIME`.
                Not available for --format=terse
--ensure-time
                Treat excess of the test execution time limit as
                error.
                Threshold values for this option can be configured via
                `RUST_TEST_TIME_UNIT`, `RUST_TEST_TIME_INTEGRATION`
                and
                `RUST_TEST_TIME_DOCTEST` environment variables.
                Expected format of environment variable is
                `VARIABLE=WARN_TIME,CRITICAL_TIME`.
                `CRITICAL_TIME` here means the limit that should not be
                exceeded by test.
</code></pre>
<p>Example of the environment variable format:</p>
<pre><code class="language-sh">RUST_TEST_TIME_UNIT=100,200
</code></pre>
<p>where 100 stands for warn time, and 200 stands for critical time.</p>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<pre><code class="language-sh">cargo test --tests -- -Zunstable-options --report-time
    Finished dev [unoptimized + debuginfo] target(s) in 0.02s
     Running target/debug/deps/example-27fb188025bec02c

running 3 tests
test tests::unit_test_quick ... ok &lt;0.000s&gt;
test tests::unit_test_warn ... ok &lt;0.055s&gt;
test tests::unit_test_critical ... ok &lt;0.110s&gt;

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out

     Running target/debug/deps/tests-cedb06f6526d15d9

running 3 tests
test unit_test_quick ... ok &lt;0.000s&gt;
test unit_test_warn ... ok &lt;0.550s&gt;
test unit_test_critical ... ok &lt;1.100s&gt;

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sanitizer"><a class="header" href="#sanitizer"><code>sanitizer</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/39699">#39699</a>.</p>
<hr />
<p>This feature allows for use of one of following sanitizers:</p>
<ul>
<li><a href="https://clang.llvm.org/docs/AddressSanitizer.html">AddressSanitizer</a> a fast memory error detector.</li>
<li><a href="https://clang.llvm.org/docs/HardwareAssistedAddressSanitizerDesign.html">HWAddressSanitizer</a> a memory error detector similar to
AddressSanitizer, but based on partial hardware assistance.</li>
<li><a href="https://clang.llvm.org/docs/LeakSanitizer.html">LeakSanitizer</a> a run-time memory leak detector.</li>
<li><a href="https://clang.llvm.org/docs/MemorySanitizer.html">MemorySanitizer</a> a detector of uninitialized reads.</li>
<li><a href="https://clang.llvm.org/docs/ThreadSanitizer.html">ThreadSanitizer</a> a fast data race detector.</li>
</ul>
<p>To enable a sanitizer compile with <code>-Zsanitizer=address</code>,
<code>-Zsanitizer=hwaddress</code>, <code>-Zsanitizer=leak</code>, <code>-Zsanitizer=memory</code> or
<code>-Zsanitizer=thread</code>.</p>
<h1 id="addresssanitizer"><a class="header" href="#addresssanitizer">AddressSanitizer</a></h1>
<p>AddressSanitizer is a memory error detector. It can detect the following types
of bugs:</p>
<ul>
<li>Out of bound accesses to heap, stack and globals</li>
<li>Use after free</li>
<li>Use after return (runtime flag <code>ASAN_OPTIONS=detect_stack_use_after_return=1</code>)</li>
<li>Use after scope</li>
<li>Double-free, invalid free</li>
<li>Memory leaks</li>
</ul>
<p>The memory leak detection is enabled by default on Linux, and can be enabled
with runtime flag <code>ASAN_OPTIONS=detect_leaks=1</code> on macOS.</p>
<p>AddressSanitizer is supported on the following targets:</p>
<ul>
<li><code>aarch64-apple-darwin</code></li>
<li><code>aarch64-fuchsia</code></li>
<li><code>aarch64-unknown-linux-gnu</code></li>
<li><code>x86_64-apple-darwin</code></li>
<li><code>x86_64-fuchsia</code></li>
<li><code>x86_64-unknown-freebsd</code></li>
<li><code>x86_64-unknown-linux-gnu</code></li>
</ul>
<p>AddressSanitizer works with non-instrumented code although it will impede its
ability to detect some bugs.  It is not expected to produce false positive
reports.</p>
<h2 id="examples-1"><a class="header" href="#examples-1">Examples</a></h2>
<p>Stack buffer overflow:</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let xs = [0, 1, 2, 3];
    let _y = unsafe { *xs.as_ptr().offset(4) };
}
</code></pre></pre>
<pre><code class="language-shell">$ export RUSTFLAGS=-Zsanitizer=address RUSTDOCFLAGS=-Zsanitizer=address
$ cargo run -Zbuild-std --target x86_64-unknown-linux-gnu
==37882==ERROR: AddressSanitizer: stack-buffer-overflow on address 0x7ffe400e6250 at pc 0x5609a841fb20 bp 0x7ffe400e6210 sp 0x7ffe400e6208
READ of size 4 at 0x7ffe400e6250 thread T0
    #0 0x5609a841fb1f in example::main::h628ffc6626ed85b2 /.../src/main.rs:3:23
    ...

Address 0x7ffe400e6250 is located in stack of thread T0 at offset 48 in frame
    #0 0x5609a841f8af in example::main::h628ffc6626ed85b2 /.../src/main.rs:1

  This frame has 1 object(s):
    [32, 48) 'xs' (line 2) &lt;== Memory access at offset 48 overflows this variable
HINT: this may be a false positive if your program uses some custom stack unwind mechanism, swapcontext or vfork
      (longjmp and C++ exceptions *are* supported)
SUMMARY: AddressSanitizer: stack-buffer-overflow /.../src/main.rs:3:23 in example::main::h628ffc6626ed85b2
Shadow bytes around the buggy address:
  0x100048014bf0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x100048014c00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x100048014c10: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x100048014c20: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x100048014c30: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
=&gt;0x100048014c40: 00 00 00 00 f1 f1 f1 f1 00 00[f3]f3 00 00 00 00
  0x100048014c50: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x100048014c60: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x100048014c70: f1 f1 f1 f1 00 00 f3 f3 00 00 00 00 00 00 00 00
  0x100048014c80: 00 00 00 00 00 00 00 00 00 00 00 00 f1 f1 f1 f1
  0x100048014c90: 00 00 f3 f3 00 00 00 00 00 00 00 00 00 00 00 00
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
  Shadow gap:              cc
==37882==ABORTING
</code></pre>
<p>Use of a stack object after its scope has already ended:</p>
<pre><pre class="playground"><code class="language-rust">static mut P: *mut usize = std::ptr::null_mut();

fn main() {
    unsafe {
        {
            let mut x = 0;
            P = &amp;mut x;
        }
        std::ptr::write_volatile(P, 123);
    }
}
</code></pre></pre>
<pre><code class="language-shell">$ export RUSTFLAGS=-Zsanitizer=address RUSTDOCFLAGS=-Zsanitizer=address
$ cargo run -Zbuild-std --target x86_64-unknown-linux-gnu
=================================================================
==39249==ERROR: AddressSanitizer: stack-use-after-scope on address 0x7ffc7ed3e1a0 at pc 0x55c98b262a8e bp 0x7ffc7ed3e050 sp 0x7ffc7ed3e048
WRITE of size 8 at 0x7ffc7ed3e1a0 thread T0
    #0 0x55c98b262a8d in core::ptr::write_volatile::he21f1df5a82f329a /.../src/rust/src/libcore/ptr/mod.rs:1048:5
    #1 0x55c98b262cd2 in example::main::h628ffc6626ed85b2 /.../src/main.rs:9:9
    ...

Address 0x7ffc7ed3e1a0 is located in stack of thread T0 at offset 32 in frame
    #0 0x55c98b262bdf in example::main::h628ffc6626ed85b2 /.../src/main.rs:3

  This frame has 1 object(s):
    [32, 40) 'x' (line 6) &lt;== Memory access at offset 32 is inside this variable
HINT: this may be a false positive if your program uses some custom stack unwind mechanism, swapcontext or vfork
      (longjmp and C++ exceptions *are* supported)
SUMMARY: AddressSanitizer: stack-use-after-scope /.../src/rust/src/libcore/ptr/mod.rs:1048:5 in core::ptr::write_volatile::he21f1df5a82f329a
Shadow bytes around the buggy address:
  0x10000fd9fbe0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x10000fd9fbf0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x10000fd9fc00: 00 00 00 00 00 00 00 00 00 00 00 00 f1 f1 f1 f1
  0x10000fd9fc10: f8 f8 f3 f3 00 00 00 00 00 00 00 00 00 00 00 00
  0x10000fd9fc20: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
=&gt;0x10000fd9fc30: f1 f1 f1 f1[f8]f3 f3 f3 00 00 00 00 00 00 00 00
  0x10000fd9fc40: 00 00 00 00 00 00 00 00 00 00 00 00 f1 f1 f1 f1
  0x10000fd9fc50: 00 00 f3 f3 00 00 00 00 00 00 00 00 00 00 00 00
  0x10000fd9fc60: 00 00 00 00 00 00 00 00 f1 f1 f1 f1 00 00 f3 f3
  0x10000fd9fc70: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x10000fd9fc80: 00 00 00 00 f1 f1 f1 f1 00 00 f3 f3 00 00 00 00
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
  Shadow gap:              cc
==39249==ABORTING
</code></pre>
<h1 id="hwaddresssanitizer"><a class="header" href="#hwaddresssanitizer">HWAddressSanitizer</a></h1>
<p>HWAddressSanitizer is a newer variant of AddressSanitizer that consumes much
less memory.</p>
<p>HWAddressSanitizer is supported on the following targets:</p>
<ul>
<li><code>aarch64-linux-android</code></li>
<li><code>aarch64-unknown-linux-gnu</code></li>
</ul>
<p>HWAddressSanitizer requires <code>tagged-globals</code> target feature to instrument
globals. To enable this target feature compile with <code>-C target-feature=+tagged-globals</code></p>
<h2 id="example-2"><a class="header" href="#example-2">Example</a></h2>
<p>Heap buffer overflow:</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let xs = vec![0, 1, 2, 3];
    let _y = unsafe { *xs.as_ptr().offset(4) };
}
</code></pre></pre>
<pre><code class="language-shell">$ rustc main.rs -Zsanitizer=hwaddress -C target-feature=+tagged-globals -C
linker=aarch64-linux-gnu-gcc -C link-arg=-fuse-ld=lld --target
aarch64-unknown-linux-gnu
</code></pre>
<pre><code class="language-shell">$ ./main
==241==ERROR: HWAddressSanitizer: tag-mismatch on address 0xefdeffff0050 at pc 0xaaaae0ae4a98
READ of size 4 at 0xefdeffff0050 tags: 2c/00 (ptr/mem) in thread T0
    #0 0xaaaae0ae4a94  (/.../main+0x54a94)
    ...

[0xefdeffff0040,0xefdeffff0060) is a small allocated heap chunk; size: 32 offset: 16
0xefdeffff0050 is located 0 bytes to the right of 16-byte region [0xefdeffff0040,0xefdeffff0050)
allocated here:
    #0 0xaaaae0acb80c  (/.../main+0x3b80c)
    ...

Thread: T0 0xeffe00002000 stack: [0xffffc28ad000,0xffffc30ad000) sz: 8388608 tls: [0xffffaa10a020,0xffffaa10a7d0)
Memory tags around the buggy address (one tag corresponds to 16 bytes):
  0xfefcefffef80: 00  00  00  00  00  00  00  00  00  00  00  00  00  00  00  00
  0xfefcefffef90: 00  00  00  00  00  00  00  00  00  00  00  00  00  00  00  00
  0xfefcefffefa0: 00  00  00  00  00  00  00  00  00  00  00  00  00  00  00  00
  0xfefcefffefb0: 00  00  00  00  00  00  00  00  00  00  00  00  00  00  00  00
  0xfefcefffefc0: 00  00  00  00  00  00  00  00  00  00  00  00  00  00  00  00
  0xfefcefffefd0: 00  00  00  00  00  00  00  00  00  00  00  00  00  00  00  00
  0xfefcefffefe0: 00  00  00  00  00  00  00  00  00  00  00  00  00  00  00  00
  0xfefcefffeff0: 00  00  00  00  00  00  00  00  00  00  00  00  00  00  00  00
=&gt;0xfefceffff000: d7  d7  05  00  2c [00] 00  00  00  00  00  00  00  00  00  00
  0xfefceffff010: 00  00  00  00  00  00  00  00  00  00  00  00  00  00  00  00
  0xfefceffff020: 00  00  00  00  00  00  00  00  00  00  00  00  00  00  00  00
  0xfefceffff030: 00  00  00  00  00  00  00  00  00  00  00  00  00  00  00  00
  0xfefceffff040: 00  00  00  00  00  00  00  00  00  00  00  00  00  00  00  00
  0xfefceffff050: 00  00  00  00  00  00  00  00  00  00  00  00  00  00  00  00
  0xfefceffff060: 00  00  00  00  00  00  00  00  00  00  00  00  00  00  00  00
  0xfefceffff070: 00  00  00  00  00  00  00  00  00  00  00  00  00  00  00  00
  0xfefceffff080: 00  00  00  00  00  00  00  00  00  00  00  00  00  00  00  00
Tags for short granules around the buggy address (one tag corresponds to 16 bytes):
  0xfefcefffeff0: ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..
=&gt;0xfefceffff000: ..  ..  8c  ..  .. [..] ..  ..  ..  ..  ..  ..  ..  ..  ..  ..
  0xfefceffff010: ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..  ..
See https://clang.llvm.org/docs/HardwareAssistedAddressSanitizerDesign.html#short-granules for a description of short granule tags
Registers where the failure occurred (pc 0xaaaae0ae4a98):
    x0  2c00efdeffff0050  x1  0000000000000004  x2  0000000000000004  x3  0000000000000000
    x4  0000fffefc30ac37  x5  000000000000005d  x6  00000ffffc30ac37  x7  0000efff00000000
    x8  2c00efdeffff0050  x9  0200efff00000000  x10 0000000000000000  x11 0200efff00000000
    x12 0200effe00000310  x13 0200effe00000310  x14 0000000000000008  x15 5d00ffffc30ac360
    x16 0000aaaae0ad062c  x17 0000000000000003  x18 0000000000000001  x19 0000ffffc30ac658
    x20 4e00ffffc30ac6e0  x21 0000aaaae0ac5e10  x22 0000000000000000  x23 0000000000000000
    x24 0000000000000000  x25 0000000000000000  x26 0000000000000000  x27 0000000000000000
    x28 0000000000000000  x29 0000ffffc30ac5a0  x30 0000aaaae0ae4a98
SUMMARY: HWAddressSanitizer: tag-mismatch (/.../main+0x54a94)
</code></pre>
<h1 id="leaksanitizer"><a class="header" href="#leaksanitizer">LeakSanitizer</a></h1>
<p>LeakSanitizer is run-time memory leak detector.</p>
<p>LeakSanitizer is supported on the following targets:</p>
<ul>
<li><code>aarch64-apple-darwin</code></li>
<li><code>aarch64-unknown-linux-gnu</code></li>
<li><code>x86_64-apple-darwin</code></li>
<li><code>x86_64-unknown-linux-gnu</code></li>
</ul>
<h1 id="memorysanitizer"><a class="header" href="#memorysanitizer">MemorySanitizer</a></h1>
<p>MemorySanitizer is detector of uninitialized reads.</p>
<p>MemorySanitizer is supported on the following targets:</p>
<ul>
<li><code>aarch64-unknown-linux-gnu</code></li>
<li><code>x86_64-unknown-freebsd</code></li>
<li><code>x86_64-unknown-linux-gnu</code></li>
</ul>
<p>MemorySanitizer requires all program code to be instrumented. C/C++ dependencies
need to be recompiled using Clang with <code>-fsanitize=memory</code> option. Failing to
achieve that will result in false positive reports.</p>
<h2 id="example-3"><a class="header" href="#example-3">Example</a></h2>
<p>Detecting the use of uninitialized memory. The <code>-Zbuild-std</code> flag rebuilds and
instruments the standard library, and is strictly necessary for the correct
operation of the tool. The <code>-Zsanitizer-memory-track-origins</code> enables tracking
of the origins of uninitialized memory:</p>
<pre><pre class="playground"><code class="language-rust">use std::mem::MaybeUninit;

fn main() {
    unsafe {
        let a = MaybeUninit::&lt;[usize; 4]&gt;::uninit();
        let a = a.assume_init();
        println!(&quot;{}&quot;, a[2]);
    }
}
</code></pre></pre>
<pre><code class="language-shell">$ export \
  RUSTFLAGS='-Zsanitizer=memory -Zsanitizer-memory-track-origins' \
  RUSTDOCFLAGS='-Zsanitizer=memory -Zsanitizer-memory-track-origins'
$ cargo clean
$ cargo run -Zbuild-std --target x86_64-unknown-linux-gnu
==9416==WARNING: MemorySanitizer: use-of-uninitialized-value
    #0 0x560c04f7488a in core::fmt::num::imp::fmt_u64::haa293b0b098501ca $RUST/build/x86_64-unknown-linux-gnu/stage1/lib/rustlib/src/rust/src/libcore/fmt/num.rs:202:16
...
  Uninitialized value was stored to memory at
    #0 0x560c04ae898a in __msan_memcpy.part.0 $RUST/src/llvm-project/compiler-rt/lib/msan/msan_interceptors.cc:1558:3
    #1 0x560c04b2bf88 in memory::main::hd2333c1899d997f5 $CWD/src/main.rs:6:16

  Uninitialized value was created by an allocation of 'a' in the stack frame of function '_ZN6memory4main17hd2333c1899d997f5E'
    #0 0x560c04b2bc50 in memory::main::hd2333c1899d997f5 $CWD/src/main.rs:3
</code></pre>
<h1 id="threadsanitizer"><a class="header" href="#threadsanitizer">ThreadSanitizer</a></h1>
<p>ThreadSanitizer is a data race detection tool. It is supported on the following
targets:</p>
<ul>
<li><code>aarch64-apple-darwin</code></li>
<li><code>aarch64-unknown-linux-gnu</code></li>
<li><code>x86_64-apple-darwin</code></li>
<li><code>x86_64-unknown-freebsd</code></li>
<li><code>x86_64-unknown-linux-gnu</code></li>
</ul>
<p>To work correctly ThreadSanitizer needs to be &quot;aware&quot; of all synchronization
operations in a program. It generally achieves that through combination of
library interception (for example synchronization performed through
<code>pthread_mutex_lock</code> / <code>pthread_mutex_unlock</code>) and compile time instrumentation
(e.g. atomic operations). Using it without instrumenting all the program code
can lead to false positive reports.</p>
<p>ThreadSanitizer does not support atomic fences <code>std::sync::atomic::fence</code>,
nor synchronization performed using inline assembly code.</p>
<h2 id="example-4"><a class="header" href="#example-4">Example</a></h2>
<pre><pre class="playground"><code class="language-rust">static mut A: usize = 0;

fn main() {
    let t = std::thread::spawn(|| {
        unsafe { A += 1 };
    });
    unsafe { A += 1 };

    t.join().unwrap();
}
</code></pre></pre>
<pre><code class="language-shell">$ export RUSTFLAGS=-Zsanitizer=thread RUSTDOCFLAGS=-Zsanitizer=thread
$ cargo run -Zbuild-std --target x86_64-unknown-linux-gnu
==================
WARNING: ThreadSanitizer: data race (pid=10574)
  Read of size 8 at 0x5632dfe3d030 by thread T1:
    #0 example::main::_$u7b$$u7b$closure$u7d$$u7d$::h23f64b0b2f8c9484 ../src/main.rs:5:18 (example+0x86cec)
    ...

  Previous write of size 8 at 0x5632dfe3d030 by main thread:
    #0 example::main::h628ffc6626ed85b2 /.../src/main.rs:7:14 (example+0x868c8)
    ...
    #11 main &lt;null&gt; (example+0x86a1a)

  Location is global 'example::A::h43ac149ddf992709' of size 8 at 0x5632dfe3d030 (example+0x000000bd9030)
</code></pre>
<h1 id="instrumentation-of-external-dependencies-and-std"><a class="header" href="#instrumentation-of-external-dependencies-and-std">Instrumentation of external dependencies and std</a></h1>
<p>The sanitizers to varying degrees work correctly with partially instrumented
code. On the one extreme is LeakSanitizer that doesn't use any compile time
instrumentation, on the other is MemorySanitizer that requires that all program
code to be instrumented (failing to achieve that will inevitably result in
false positives).</p>
<p>It is strongly recommended to combine sanitizers with recompiled and
instrumented standard library, for example using <a href="https://doc.rust-lang.org/nightly/cargo/reference/unstable.html#build-std">cargo <code>-Zbuild-std</code>
functionality</a>.</p>
<h1 id="build-scripts-and-procedural-macros"><a class="header" href="#build-scripts-and-procedural-macros">Build scripts and procedural macros</a></h1>
<p>Use of sanitizers together with build scripts and procedural macros is
technically possible, but in almost all cases it would be best avoided.  This
is especially true for procedural macros which would require an instrumented
version of rustc.</p>
<p>In more practical terms when using cargo always remember to pass <code>--target</code>
flag, so that rustflags will not be applied to build scripts and procedural
macros.</p>
<h1 id="symbolizing-the-reports"><a class="header" href="#symbolizing-the-reports">Symbolizing the Reports</a></h1>
<p>Sanitizers produce symbolized stacktraces when llvm-symbolizer binary is in <code>PATH</code>.</p>
<h1 id="additional-information"><a class="header" href="#additional-information">Additional Information</a></h1>
<ul>
<li><a href="https://github.com/google/sanitizers/wiki/">Sanitizers project page</a></li>
<li><a href="https://clang.llvm.org/docs/AddressSanitizer.html">AddressSanitizer in Clang</a></li>
<li><a href="https://clang.llvm.org/docs/HardwareAssistedAddressSanitizerDesign.html">HWAddressSanitizer in Clang</a></li>
<li><a href="https://clang.llvm.org/docs/LeakSanitizer.html">LeakSanitizer in Clang</a></li>
<li><a href="https://clang.llvm.org/docs/MemorySanitizer.html">MemorySanitizer in Clang</a></li>
<li><a href="https://clang.llvm.org/docs/ThreadSanitizer.html">ThreadSanitizer in Clang</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="self-profile"><a class="header" href="#self-profile"><code>self-profile</code></a></h1>
<hr />
<p>The <code>-Zself-profile</code> compiler flag enables rustc's internal profiler.
When enabled, the compiler will output three binary files in the specified directory (or the current working directory if no directory is specified).
These files can be analyzed by using the tools in the <a href="https://github.com/rust-lang/measureme.git"><code>measureme</code></a> repository.</p>
<p>To control the data recorded in the trace files, use the <code>-Zself-profile-events</code> flag.</p>
<p>For example:</p>
<p>First, run a compilation session and provide the <code>-Zself-profile</code> flag:</p>
<pre><code class="language-console">$ rustc --crate-name foo -Zself-profile
</code></pre>
<p>This will generate three files in the working directory such as:</p>
<ul>
<li><code>foo-1234.events</code></li>
<li><code>foo-1234.string_data</code></li>
<li><code>foo-1234.string_index</code></li>
</ul>
<p>Where <code>foo</code> is the name of the crate and <code>1234</code> is the process id of the rustc process.</p>
<p>To get a summary of where the compiler is spending its time:</p>
<pre><code class="language-console">$ ../measureme/target/release/summarize summarize foo-1234
</code></pre>
<p>To generate a flamegraph of the same data:</p>
<pre><code class="language-console">$ ../measureme/target/release/inferno foo-1234
</code></pre>
<p>To dump the event data in a Chromium-profiler compatible format:</p>
<pre><code class="language-console">$ ../measureme/target/release/crox foo-1234
</code></pre>
<p>For more information, consult the <a href="https://github.com/rust-lang/measureme.git"><code>measureme</code></a> documentation.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="self-profile-events"><a class="header" href="#self-profile-events"><code>self-profile-events</code></a></h1>
<hr />
<p>The <code>-Zself-profile-events</code> compiler flag controls what events are recorded by the self-profiler when it is enabled via the <code>-Zself-profile</code> flag.</p>
<p>This flag takes a comma delimited list of event types to record.</p>
<p>For example:</p>
<pre><code class="language-console">$ rustc -Zself-profile -Zself-profile-events=default,args
</code></pre>
<h2 id="event-types"><a class="header" href="#event-types">Event types</a></h2>
<ul>
<li>
<p><code>query-provider</code></p>
<ul>
<li>Traces each query used internally by the compiler.</li>
</ul>
</li>
<li>
<p><code>generic-activity</code></p>
<ul>
<li>Traces other parts of the compiler not covered by the query system.</li>
</ul>
</li>
<li>
<p><code>query-cache-hit</code></p>
<ul>
<li>Adds tracing information that records when the in-memory query cache is &quot;hit&quot; and does not need to re-execute a query which has been cached.</li>
<li>Disabled by default because this significantly increases the trace file size.</li>
</ul>
</li>
<li>
<p><code>query-blocked</code></p>
<ul>
<li>Tracks time that a query tries to run but is blocked waiting on another thread executing the same query to finish executing.</li>
<li>Query blocking only occurs when the compiler is built with parallel mode support.</li>
</ul>
</li>
<li>
<p><code>incr-cache-load</code></p>
<ul>
<li>Tracks time that is spent loading and deserializing query results from the incremental compilation on-disk cache.</li>
</ul>
</li>
<li>
<p><code>query-keys</code></p>
<ul>
<li>Adds a serialized representation of each query's query key to the tracing data.</li>
<li>Disabled by default because this significantly increases the trace file size.</li>
</ul>
</li>
<li>
<p><code>function-args</code></p>
<ul>
<li>Adds additional tracing data to some <code>generic-activity</code> events.</li>
<li>Disabled by default for parity with <code>query-keys</code>.</li>
</ul>
</li>
<li>
<p><code>llvm</code></p>
<ul>
<li>Adds tracing information about LLVM passes and codegeneration.</li>
<li>Disabled by default because this only works when <code>-Znew-llvm-pass-manager</code> is enabled.</li>
</ul>
</li>
</ul>
<h2 id="event-synonyms"><a class="header" href="#event-synonyms">Event synonyms</a></h2>
<ul>
<li>
<p><code>none</code></p>
<ul>
<li>Disables all events.
Equivalent to the self-profiler being disabled.</li>
</ul>
</li>
<li>
<p><code>default</code></p>
<ul>
<li>The default set of events which stikes a balance between providing detailed tracing data and adding additional overhead to the compilation.</li>
</ul>
</li>
<li>
<p><code>args</code></p>
<ul>
<li>Equivalent to <code>query-keys</code> and <code>function-args</code>.</li>
</ul>
</li>
<li>
<p><code>all</code></p>
<ul>
<li>Enables all events.</li>
</ul>
</li>
</ul>
<h2 id="examples-2"><a class="header" href="#examples-2">Examples</a></h2>
<p>Enable the profiler and capture the default set of events (both invocations are equivalent):</p>
<pre><code class="language-console">$ rustc -Zself-profile
$ rustc -Zself-profile -Zself-profile-events=default
</code></pre>
<p>Enable the profiler and capture the default events and their arguments:</p>
<pre><code class="language-console">$ rustc -Zself-profile -Zself-profile-events=default,args
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="source-based-code-coverage"><a class="header" href="#source-based-code-coverage"><code>source-based-code-coverage</code></a></h1>
<p>See compiler flag <a href="compiler-flags/./instrument-coverage.html"><code>-Z instrument-coverage</code></a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="src-hash-algorithm"><a class="header" href="#src-hash-algorithm"><code>src-hash-algorithm</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/70401">#70401</a>.</p>
<hr />
<p>The <code>-Z src-hash-algorithm</code> compiler flag controls which algorithm is used when hashing each source file. The hash is stored in the debug info and can be used by a debugger to verify the source code matches the executable.</p>
<p>Supported hash algorithms are: <code>md5</code>, <code>sha1</code>, and <code>sha256</code>. Note that not all hash algorithms are supported by all debug info formats.</p>
<p>By default, the compiler chooses the hash algorithm based on the target specification.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="strip"><a class="header" href="#strip"><code>strip</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/72110">#72110</a>.</p>
<hr />
<p>Option <code>-Z strip=val</code> controls stripping of debuginfo and similar auxiliary data from binaries
during linking.</p>
<p>Supported values for this option are:</p>
<ul>
<li><code>none</code> - debuginfo and symbols (if they exist) are copied to the produced binary or separate files
depending on the target (e.g. <code>.pdb</code> files in case of MSVC).</li>
<li><code>debuginfo</code> - debuginfo sections and debuginfo symbols from the symbol table section
are stripped at link time and are not copied to the produced binary or separate files.</li>
<li><code>symbols</code> - same as <code>debuginfo</code>, but the rest of the symbol table section is stripped as well
if the linker supports it.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tls_model"><a class="header" href="#tls_model"><code>tls_model</code></a></h1>
<p>The tracking issue for this feature is: None.</p>
<hr />
<p>Option <code>-Z tls-model</code> controls <a href="https://www.akkadia.org/drepper/tls.pdf">TLS model</a> used to
generate code for accessing <code>#[thread_local]</code> <code>static</code> items.</p>
<p>Supported values for this option are:</p>
<ul>
<li><code>global-dynamic</code> - General Dynamic TLS Model (alternatively called Global Dynamic) is the most
general option usable in all circumstances, even if the TLS data is defined in a shared library
loaded at runtime and is accessed from code outside of that library.
This is the default for most targets.</li>
<li><code>local-dynamic</code> - model usable if the TLS data is only accessed from the shared library or
executable it is defined in. The TLS data may be in a library loaded after startup (via <code>dlopen</code>).</li>
<li><code>initial-exec</code> - model usable if the TLS data is defined in the executable or in a shared library
loaded at program startup.
The TLS data must not be in a library loaded after startup (via <code>dlopen</code>).</li>
<li><code>local-exec</code> - model usable only if the TLS data is defined directly in the executable,
but not in a shared library, and is accessed only from that executable.</li>
</ul>
<p><code>rustc</code> and LLVM may use a more optimized model than specified if they know that we are producing
an executable rather than a library, or that the <code>static</code> item is private enough.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="unsound-mir-opts"><a class="header" href="#unsound-mir-opts"><code>unsound-mir-opts</code></a></h1>
<hr />
<p>The <code>-Zunsound-mir-opts</code> compiler flag enables <a href="https://rustc-dev-guide.rust-lang.org/mir/optimizations.html">MIR optimization passes</a> which can cause unsound behavior.
This flag should only be used by MIR optimization tests in the rustc test suite.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="language-features"><a class="header" href="#language-features">Language features</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="aarch64_target_feature"><a class="header" href="#aarch64_target_feature"><code>aarch64_target_feature</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44839">#44839</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="abi_amdgpu_kernel"><a class="header" href="#abi_amdgpu_kernel"><code>abi_amdgpu_kernel</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/51575">#51575</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="abi_avr_interrupt"><a class="header" href="#abi_avr_interrupt"><code>abi_avr_interrupt</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/69664">#69664</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="abi_c_cmse_nonsecure_call"><a class="header" href="#abi_c_cmse_nonsecure_call"><code>abi_c_cmse_nonsecure_call</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/81391">#81391</a></p>
<hr />
<p>The <a href="https://developer.arm.com/documentation/100690/latest/">TrustZone-M
feature</a> is available
for targets with the Armv8-M architecture profile (<code>thumbv8m</code> in their target
name).
LLVM, the Rust compiler and the linker are providing
<a href="https://developer.arm.com/documentation/ecm0359818/latest/">support</a> for the
TrustZone-M feature.</p>
<p>One of the things provided, with this unstable feature, is the
<code>C-cmse-nonsecure-call</code> function ABI. This ABI is used on function pointers to
non-secure code to mark a non-secure function call (see <a href="https://developer.arm.com/documentation/ecm0359818/latest/">section
5.5</a> for details).</p>
<p>With this ABI, the compiler will do the following to perform the call:</p>
<ul>
<li>save registers needed after the call to Secure memory</li>
<li>clear all registers that might contain confidential information</li>
<li>clear the Least Significant Bit of the function address</li>
<li>branches using the BLXNS instruction</li>
</ul>
<p>To avoid using the non-secure stack, the compiler will constrain the number and
type of parameters/return value.</p>
<p>The <code>extern &quot;C-cmse-nonsecure-call&quot;</code> ABI is otherwise equivalent to the
<code>extern &quot;C&quot;</code> ABI.</p>
<!-- NOTE(ignore) this example is specific to thumbv8m targets -->
<pre><code class="language-rust ignore">#![no_std]
#![feature(abi_c_cmse_nonsecure_call)]

#[no_mangle]
pub fn call_nonsecure_function(addr: usize) -&gt; u32 {
    let non_secure_function =
        unsafe { core::mem::transmute::&lt;usize, extern &quot;C-cmse-nonsecure-call&quot; fn() -&gt; u32&gt;(addr) };
    non_secure_function()
}
</code></pre>
<pre><code class="language-text">$ rustc --emit asm --crate-type lib --target thumbv8m.main-none-eabi function.rs

call_nonsecure_function:
        .fnstart
        .save   {r7, lr}
        push    {r7, lr}
        .setfp  r7, sp
        mov     r7, sp
        .pad    #16
        sub     sp, #16
        str     r0, [sp, #12]
        ldr     r0, [sp, #12]
        str     r0, [sp, #8]
        b       .LBB0_1
.LBB0_1:
        ldr     r0, [sp, #8]
        push.w  {r4, r5, r6, r7, r8, r9, r10, r11}
        bic     r0, r0, #1
        mov     r1, r0
        mov     r2, r0
        mov     r3, r0
        mov     r4, r0
        mov     r5, r0
        mov     r6, r0
        mov     r7, r0
        mov     r8, r0
        mov     r9, r0
        mov     r10, r0
        mov     r11, r0
        mov     r12, r0
        msr     apsr_nzcvq, r0
        blxns   r0
        pop.w   {r4, r5, r6, r7, r8, r9, r10, r11}
        str     r0, [sp, #4]
        b       .LBB0_2
.LBB0_2:
        ldr     r0, [sp, #4]
        add     sp, #16
        pop     {r7, pc}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="abi_efiapi"><a class="header" href="#abi_efiapi"><code>abi_efiapi</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/65815">#65815</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="abi_msp430_interrupt"><a class="header" href="#abi_msp430_interrupt"><code>abi_msp430_interrupt</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/38487">#38487</a></p>
<hr />
<p>In the MSP430 architecture, interrupt handlers have a special calling
convention. You can use the <code>&quot;msp430-interrupt&quot;</code> ABI to make the compiler apply
the right calling convention to the interrupt handlers you define.</p>
<!-- NOTE(ignore) this example is specific to the msp430 target -->
<pre><code class="language-rust ignore">#![feature(abi_msp430_interrupt)]
#![no_std]

// Place the interrupt handler at the appropriate memory address
// (Alternatively, you can use `#[used]` and remove `pub` and `#[no_mangle]`)
#[link_section = &quot;__interrupt_vector_10&quot;]
#[no_mangle]
pub static TIM0_VECTOR: extern &quot;msp430-interrupt&quot; fn() = tim0;

// The interrupt handler
extern &quot;msp430-interrupt&quot; fn tim0() {
    // ..
}
</code></pre>
<pre><code class="language-text">$ msp430-elf-objdump -CD ./target/msp430/release/app
Disassembly of section __interrupt_vector_10:

0000fff2 &lt;TIM0_VECTOR&gt;:
    fff2:       00 c0           interrupt service routine at 0xc000

Disassembly of section .text:

0000c000 &lt;int::tim0&gt;:
    c000:       00 13           reti
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="abi_ptx"><a class="header" href="#abi_ptx"><code>abi_ptx</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/38788">#38788</a></p>
<hr />
<p>When emitting PTX code, all vanilla Rust functions (<code>fn</code>) get translated to
&quot;device&quot; functions. These functions are <em>not</em> callable from the host via the
CUDA API so a crate with only device functions is not too useful!</p>
<p>OTOH, &quot;global&quot; functions <em>can</em> be called by the host; you can think of them
as the real public API of your crate. To produce a global function use the
<code>&quot;ptx-kernel&quot;</code> ABI.</p>
<!-- NOTE(ignore) this example is specific to the nvptx targets -->
<pre><code class="language-rust ignore">#![feature(abi_ptx)]
#![no_std]

pub unsafe extern &quot;ptx-kernel&quot; fn global_function() {
    device_function();
}

pub fn device_function() {
    // ..
}
</code></pre>
<pre><code class="language-text">$ xargo rustc --target nvptx64-nvidia-cuda --release -- --emit=asm

$ cat $(find -name '*.s')
//
// Generated by LLVM NVPTX Back-End
//

.version 3.2
.target sm_20
.address_size 64

        // .globl       _ZN6kernel15global_function17h46111ebe6516b382E

.visible .entry _ZN6kernel15global_function17h46111ebe6516b382E()
{


        ret;
}

        // .globl       _ZN6kernel15device_function17hd6a0e4993bbf3f78E
.visible .func _ZN6kernel15device_function17hd6a0e4993bbf3f78E()
{


        ret;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="abi_thiscall"><a class="header" href="#abi_thiscall"><code>abi_thiscall</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/42202">#42202</a></p>
<hr />
<p>The MSVC ABI on x86 Windows uses the <code>thiscall</code> calling convention for C++
instance methods by default; it is identical to the usual (C) calling
convention on x86 Windows except that the first parameter of the method,
the <code>this</code> pointer, is passed in the ECX register.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="abi_unadjusted"><a class="header" href="#abi_unadjusted"><code>abi_unadjusted</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="abi_vectorcall"><a class="header" href="#abi_vectorcall"><code>abi_vectorcall</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="abi_x86_interrupt"><a class="header" href="#abi_x86_interrupt"><code>abi_x86_interrupt</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/40180">#40180</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="adx_target_feature"><a class="header" href="#adx_target_feature"><code>adx_target_feature</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44839">#44839</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="alloc_error_handler"><a class="header" href="#alloc_error_handler"><code>alloc_error_handler</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/51540">#51540</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="allocator_internals"><a class="header" href="#allocator_internals"><code>allocator_internals</code></a></h1>
<p>This feature does not have a tracking issue, it is an unstable implementation
detail of the <code>global_allocator</code> feature not intended for use outside the
compiler.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="allow_fail"><a class="header" href="#allow_fail"><code>allow_fail</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/46488">#46488</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="allow_internal_unsafe"><a class="header" href="#allow_internal_unsafe"><code>allow_internal_unsafe</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="allow_internal_unstable"><a class="header" href="#allow_internal_unstable"><code>allow_internal_unstable</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="arbitrary_enum_discriminant"><a class="header" href="#arbitrary_enum_discriminant"><code>arbitrary_enum_discriminant</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/60553">#60553</a></p>
<hr />
<p>The <code>arbitrary_enum_discriminant</code> feature permits tuple-like and
struct-like enum variants with <code>#[repr(&lt;int-type&gt;)]</code> to have explicit discriminants.</p>
<h2 id="examples-3"><a class="header" href="#examples-3">Examples</a></h2>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(arbitrary_enum_discriminant)]

<span class="boring">fn main() {
</span>#[allow(dead_code)]
#[repr(u8)]
enum Enum {
    Unit = 3,
    Tuple(u16) = 2,
    Struct {
        a: u8,
        b: u16,
    } = 1,
}

impl Enum {
    fn tag(&amp;self) -&gt; u8 {
        unsafe { *(self as *const Self as *const u8) }
    }
}

assert_eq!(3, Enum::Unit.tag());
assert_eq!(2, Enum::Tuple(5).tag());
assert_eq!(1, Enum::Struct{a: 7, b: 11}.tag());
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="arbitrary_self_types"><a class="header" href="#arbitrary_self_types"><code>arbitrary_self_types</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44874">#44874</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="arm_target_feature"><a class="header" href="#arm_target_feature"><code>arm_target_feature</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44839">#44839</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="associated_type_bounds"><a class="header" href="#associated_type_bounds"><code>associated_type_bounds</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/52662">#52662</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="associated_type_defaults"><a class="header" href="#associated_type_defaults"><code>associated_type_defaults</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/29661">#29661</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="async_closure"><a class="header" href="#async_closure"><code>async_closure</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/62290">#62290</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="auto_traits"><a class="header" href="#auto_traits"><code>auto_traits</code></a></h1>
<p>The tracking issue for this feature is <a href="https://github.com/rust-lang/rust/issues/13231">#13231</a></p>
<hr />
<p>The <code>auto_traits</code> feature gate allows you to define auto traits.</p>
<p>Auto traits, like <a href="https://doc.rust-lang.org/std/marker/trait.Send.html"><code>Send</code></a> or <a href="https://doc.rust-lang.org/std/marker/trait.Sync.html"><code>Sync</code></a> in the standard library, are marker traits
that are automatically implemented for every type, unless the type, or a type it contains,
has explicitly opted out via a negative impl. (Negative impls are separately controlled
by the <code>negative_impls</code> feature.)</p>
<pre><code class="language-rust ignore (partial-example)">impl !Trait for Type {}
</code></pre>
<p>Example:</p>
<pre><pre class="playground"><code class="language-rust">#![feature(negative_impls)]
#![feature(auto_traits)]

auto trait Valid {}

struct True;
struct False;

impl !Valid for False {}

struct MaybeValid&lt;T&gt;(T);

fn must_be_valid&lt;T: Valid&gt;(_t: T) { }

fn main() {
    // works
    must_be_valid( MaybeValid(True) );

    // compiler error - trait bound not satisfied
    // must_be_valid( MaybeValid(False) );
}
</code></pre></pre>
<h2 id="automatic-trait-implementations"><a class="header" href="#automatic-trait-implementations">Automatic trait implementations</a></h2>
<p>When a type is declared as an <code>auto trait</code>, we will automatically
create impls for every struct/enum/union, unless an explicit impl is
provided. These automatic impls contain a where clause for each field
of the form <code>T: AutoTrait</code>, where <code>T</code> is the type of the field and
<code>AutoTrait</code> is the auto trait in question. As an example, consider the
struct <code>List</code> and the auto trait <code>Send</code>:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct List&lt;T&gt; {
  data: T,
  next: Option&lt;Box&lt;List&lt;T&gt;&gt;&gt;,
}
<span class="boring">}
</span></code></pre></pre>
<p>Presuming that there is no explicit impl of <code>Send</code> for <code>List</code>, the
compiler will supply an automatic impl of the form:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct List&lt;T&gt; {
  data: T,
  next: Option&lt;Box&lt;List&lt;T&gt;&gt;&gt;,
}

unsafe impl&lt;T&gt; Send for List&lt;T&gt;
where
  T: Send, // from the field `data`
  Option&lt;Box&lt;List&lt;T&gt;&gt;&gt;: Send, // from the field `next`
{ }
<span class="boring">}
</span></code></pre></pre>
<p>Explicit impls may be either positive or negative. They take the form:</p>
<pre><code class="language-rust ignore (partial-example)">impl&lt;...&gt; AutoTrait for StructName&lt;..&gt; { }
impl&lt;...&gt; !AutoTrait for StructName&lt;..&gt; { }
</code></pre>
<h2 id="coinduction-auto-traits-permit-cyclic-matching"><a class="header" href="#coinduction-auto-traits-permit-cyclic-matching">Coinduction: Auto traits permit cyclic matching</a></h2>
<p>Unlike ordinary trait matching, auto traits are <strong>coinductive</strong>. This
means, in short, that cycles which occur in trait matching are
considered ok. As an example, consider the recursive struct <code>List</code>
introduced in the previous section. In attempting to determine whether
<code>List: Send</code>, we would wind up in a cycle: to apply the impl, we must
show that <code>Option&lt;Box&lt;List&gt;&gt;: Send</code>, which will in turn require
<code>Box&lt;List&gt;: Send</code> and then finally <code>List: Send</code> again. Under ordinary
trait matching, this cycle would be an error, but for an auto trait it
is considered a successful match.</p>
<h2 id="items"><a class="header" href="#items">Items</a></h2>
<p>Auto traits cannot have any trait items, such as methods or associated types. This ensures that we can generate default implementations.</p>
<h2 id="supertraits"><a class="header" href="#supertraits">Supertraits</a></h2>
<p>Auto traits cannot have supertraits. This is for soundness reasons, as the interaction of coinduction with implied bounds is difficult to reconcile.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="avx512_target_feature"><a class="header" href="#avx512_target_feature"><code>avx512_target_feature</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44839">#44839</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="box_patterns"><a class="header" href="#box_patterns"><code>box_patterns</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/29641">#29641</a></p>
<p>See also <a href="language-features/box-syntax.html"><code>box_syntax</code></a></p>
<hr />
<p>Box patterns let you match on <code>Box&lt;T&gt;</code>s:</p>
<pre><pre class="playground"><code class="language-rust">#![feature(box_patterns)]

fn main() {
    let b = Some(Box::new(5));
    match b {
        Some(box n) if n &lt; 0 =&gt; {
            println!(&quot;Box contains negative number {}&quot;, n);
        },
        Some(box n) if n &gt;= 0 =&gt; {
            println!(&quot;Box contains non-negative number {}&quot;, n);
        },
        None =&gt; {
            println!(&quot;No box&quot;);
        },
        _ =&gt; unreachable!()
    }
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="box_syntax"><a class="header" href="#box_syntax"><code>box_syntax</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/49733">#49733</a></p>
<p>See also <a href="language-features/box-patterns.html"><code>box_patterns</code></a></p>
<hr />
<p>Currently the only stable way to create a <code>Box</code> is via the <code>Box::new</code> method.
Also it is not possible in stable Rust to destructure a <code>Box</code> in a match
pattern. The unstable <code>box</code> keyword can be used to create a <code>Box</code>. An example
usage would be:</p>
<pre><pre class="playground"><code class="language-rust">#![feature(box_syntax)]

fn main() {
    let b = box 5;
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bpf_target_feature"><a class="header" href="#bpf_target_feature"><code>bpf_target_feature</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44839">#44839</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="c_unwind"><a class="header" href="#c_unwind"><code>c_unwind</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/74990">#74990</a></p>
<hr />
<p>Introduces four new ABI strings: &quot;C-unwind&quot;, &quot;stdcall-unwind&quot;,
&quot;thiscall-unwind&quot;, and &quot;system-unwind&quot;. These enable unwinding from other
languages (such as C++) into Rust frames and from Rust into other languages.</p>
<p>See <a href="https://github.com/rust-lang/rfcs/blob/master/text/2945-c-unwind-abi.md">RFC 2945</a> for more information.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="c_variadic"><a class="header" href="#c_variadic"><code>c_variadic</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44930">#44930</a></p>
<hr />
<p>The <code>c_variadic</code> language feature enables C-variadic functions to be
defined in Rust. The may be called both from within Rust and via FFI.</p>
<h2 id="examples-4"><a class="header" href="#examples-4">Examples</a></h2>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(c_variadic)]

<span class="boring">fn main() {
</span>pub unsafe extern &quot;C&quot; fn add(n: usize, mut args: ...) -&gt; usize {
    let mut sum = 0;
    for _ in 0..n {
        sum += args.arg::&lt;usize&gt;();
    }
    sum
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="capture_disjoint_fields"><a class="header" href="#capture_disjoint_fields"><code>capture_disjoint_fields</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/53488">#53488</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="cfg_panic"><a class="header" href="#cfg_panic"><code>cfg_panic</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/77443">#77443</a></p>
<hr />
<p>The <code>cfg_panic</code> feature makes it possible to execute different code
depending on the panic strategy.</p>
<p>Possible values at the moment are <code>&quot;unwind&quot;</code> or <code>&quot;abort&quot;</code>, although
it is possible that new panic strategies may be added to Rust in the
future.</p>
<h2 id="examples-5"><a class="header" href="#examples-5">Examples</a></h2>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(cfg_panic)]

<span class="boring">fn main() {
</span>#[cfg(panic = &quot;unwind&quot;)]
fn a() {
    // ...
}

#[cfg(not(panic = &quot;unwind&quot;))]
fn a() {
    // ...
}

fn b() {
    if cfg!(panic = &quot;abort&quot;) {
        // ...
    } else {
        // ...
    }
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cfg_sanitize"><a class="header" href="#cfg_sanitize"><code>cfg_sanitize</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/39699">#39699</a></p>
<hr />
<p>The <code>cfg_sanitize</code> feature makes it possible to execute different code
depending on whether a particular sanitizer is enabled or not.</p>
<h2 id="examples-6"><a class="header" href="#examples-6">Examples</a></h2>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(cfg_sanitize)]

<span class="boring">fn main() {
</span>#[cfg(sanitize = &quot;thread&quot;)]
fn a() {
    // ...
}

#[cfg(not(sanitize = &quot;thread&quot;))]
fn a() {
    // ...
}

fn b() {
    if cfg!(sanitize = &quot;leak&quot;) {
        // ...
    } else {
        // ...
    }
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cfg_target_abi"><a class="header" href="#cfg_target_abi"><code>cfg_target_abi</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/80970">#80970</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="cfg_target_has_atomic"><a class="header" href="#cfg_target_has_atomic"><code>cfg_target_has_atomic</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/32976">#32976</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="cfg_target_thread_local"><a class="header" href="#cfg_target_thread_local"><code>cfg_target_thread_local</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/29594">#29594</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="cfg_version"><a class="header" href="#cfg_version"><code>cfg_version</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/64796">#64796</a></p>
<hr />
<p>The <code>cfg_version</code> feature makes it possible to execute different code
depending on the compiler version. It will return true if the compiler
version is greater than or equal to the specified version.</p>
<h2 id="examples-7"><a class="header" href="#examples-7">Examples</a></h2>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(cfg_version)]

<span class="boring">fn main() {
</span>#[cfg(version(&quot;1.42&quot;))] // 1.42 and above
fn a() {
    // ...
}

#[cfg(not(version(&quot;1.42&quot;)))] // 1.41 and below
fn a() {
    // ...
}

fn b() {
    if cfg!(version(&quot;1.42&quot;)) {
        // ...
    } else {
        // ...
    }
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cmpxchg16b_target_feature"><a class="header" href="#cmpxchg16b_target_feature"><code>cmpxchg16b_target_feature</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44839">#44839</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="cmse_nonsecure_entry"><a class="header" href="#cmse_nonsecure_entry"><code>cmse_nonsecure_entry</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/75835">#75835</a></p>
<hr />
<p>The <a href="https://developer.arm.com/documentation/100690/latest/">TrustZone-M
feature</a> is available
for targets with the Armv8-M architecture profile (<code>thumbv8m</code> in their target
name).
LLVM, the Rust compiler and the linker are providing
<a href="https://developer.arm.com/documentation/ecm0359818/latest/">support</a> for the
TrustZone-M feature.</p>
<p>One of the things provided, with this unstable feature, is the
<code>cmse_nonsecure_entry</code> attribute.  This attribute marks a Secure function as an
entry function (see <a href="https://developer.arm.com/documentation/ecm0359818/latest/">section
5.4</a> for details).
With this attribute, the compiler will do the following:</p>
<ul>
<li>add a special symbol on the function which is the <code>__acle_se_</code> prefix and the
standard function name</li>
<li>constrain the number of parameters to avoid using the Non-Secure stack</li>
<li>before returning from the function, clear registers that might contain Secure
information</li>
<li>use the <code>BXNS</code> instruction to return</li>
</ul>
<p>Because the stack can not be used to pass parameters, there will be compilation
errors if:</p>
<ul>
<li>the total size of all parameters is too big (for example more than four 32
bits integers)</li>
<li>the entry function is not using a C ABI</li>
</ul>
<p>The special symbol <code>__acle_se_</code> will be used by the linker to generate a secure
gateway veneer.</p>
<!-- NOTE(ignore) this example is specific to thumbv8m targets -->
<pre><code class="language-rust ignore">#![feature(cmse_nonsecure_entry)]

#[no_mangle]
#[cmse_nonsecure_entry]
pub extern &quot;C&quot; fn entry_function(input: u32) -&gt; u32 {
    input + 6
}
</code></pre>
<pre><code class="language-text">$ rustc --emit obj --crate-type lib --target thumbv8m.main-none-eabi function.rs
$ arm-none-eabi-objdump -D function.o

00000000 &lt;entry_function&gt;:
   0:   b580            push    {r7, lr}
   2:   466f            mov     r7, sp
   4:   b082            sub     sp, #8
   6:   9001            str     r0, [sp, #4]
   8:   1d81            adds    r1, r0, #6
   a:   460a            mov     r2, r1
   c:   4281            cmp     r1, r0
   e:   9200            str     r2, [sp, #0]
  10:   d30b            bcc.n   2a &lt;entry_function+0x2a&gt;
  12:   e7ff            b.n     14 &lt;entry_function+0x14&gt;
  14:   9800            ldr     r0, [sp, #0]
  16:   b002            add     sp, #8
  18:   e8bd 4080       ldmia.w sp!, {r7, lr}
  1c:   4671            mov     r1, lr
  1e:   4672            mov     r2, lr
  20:   4673            mov     r3, lr
  22:   46f4            mov     ip, lr
  24:   f38e 8800       msr     CPSR_f, lr
  28:   4774            bxns    lr
  2a:   f240 0000       movw    r0, #0
  2e:   f2c0 0000       movt    r0, #0
  32:   f240 0200       movw    r2, #0
  36:   f2c0 0200       movt    r2, #0
  3a:   211c            movs    r1, #28
  3c:   f7ff fffe       bl      0 &lt;_ZN4core9panicking5panic17h5c028258ca2fb3f5E&gt;
  40:   defe            udf     #254    ; 0xfe
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="compiler_builtins"><a class="header" href="#compiler_builtins"><code>compiler_builtins</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_async_blocks"><a class="header" href="#const_async_blocks"><code>const_async_blocks</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/85368">#85368</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_eval_limit"><a class="header" href="#const_eval_limit"><code>const_eval_limit</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/67217">#67217</a></p>
<p>The <code>const_eval_limit</code> allows someone to limit the evaluation steps the CTFE undertakes to evaluate a <code>const fn</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_evaluatable_checked"><a class="header" href="#const_evaluatable_checked"><code>const_evaluatable_checked</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/76560">#76560</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_extern_fn"><a class="header" href="#const_extern_fn"><code>const_extern_fn</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/64926">#64926</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_fn_floating_point_arithmetic"><a class="header" href="#const_fn_floating_point_arithmetic"><code>const_fn_floating_point_arithmetic</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/57241">#57241</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_fn_fn_ptr_basics"><a class="header" href="#const_fn_fn_ptr_basics"><code>const_fn_fn_ptr_basics</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/57563">#57563</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_fn_trait_bound"><a class="header" href="#const_fn_trait_bound"><code>const_fn_trait_bound</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/57563">#57563</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_for"><a class="header" href="#const_for"><code>const_for</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/87575">#87575</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_generics"><a class="header" href="#const_generics"><code>const_generics</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44580">#44580</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_generics_defaults"><a class="header" href="#const_generics_defaults"><code>const_generics_defaults</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44580">#44580</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_impl_trait"><a class="header" href="#const_impl_trait"><code>const_impl_trait</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/77463">#77463</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_mut_refs"><a class="header" href="#const_mut_refs"><code>const_mut_refs</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/57349">#57349</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_panic"><a class="header" href="#const_panic"><code>const_panic</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/51999">#51999</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_precise_live_drops"><a class="header" href="#const_precise_live_drops"><code>const_precise_live_drops</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/73255">#73255</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_raw_ptr_deref"><a class="header" href="#const_raw_ptr_deref"><code>const_raw_ptr_deref</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/51911">#51911</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_refs_to_cell"><a class="header" href="#const_refs_to_cell"><code>const_refs_to_cell</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/80384">#80384</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_trait_bound_opt_out"><a class="header" href="#const_trait_bound_opt_out"><code>const_trait_bound_opt_out</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/67794">#67794</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_trait_impl"><a class="header" href="#const_trait_impl"><code>const_trait_impl</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/67792">#67792</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_try"><a class="header" href="#const_try"><code>const_try</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/74935">#74935</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="crate_visibility_modifier"><a class="header" href="#crate_visibility_modifier"><code>crate_visibility_modifier</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/53120">#53120</a></p>
<hr />
<p>The <code>crate_visibility_modifier</code> feature allows the <code>crate</code> keyword to be used
as a visibility modifier synonymous to <code>pub(crate)</code>, indicating that a type
(function, <em>&amp;c.</em>) is to be visible to the entire enclosing crate, but not to
other crates.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(crate_visibility_modifier)]

<span class="boring">fn main() {
</span>crate struct Foo {
    bar: usize,
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="custom_inner_attributes"><a class="header" href="#custom_inner_attributes"><code>custom_inner_attributes</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/54726">#54726</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="custom_test_frameworks"><a class="header" href="#custom_test_frameworks"><code>custom_test_frameworks</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/50297">#50297</a></p>
<hr />
<p>The <code>custom_test_frameworks</code> feature allows the use of <code>#[test_case]</code> and <code>#![test_runner]</code>.
Any function, const, or static can be annotated with <code>#[test_case]</code> causing it to be aggregated (like <code>#[test]</code>)
and be passed to the test runner determined by the <code>#![test_runner]</code> crate attribute.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(custom_test_frameworks)]
#![test_runner(my_runner)]

<span class="boring">fn main() {
</span>fn my_runner(tests: &amp;[&amp;i32]) {
    for t in tests {
        if **t == 0 {
            println!(&quot;PASSED&quot;);
        } else {
            println!(&quot;FAILED&quot;);
        }
    }
}

#[test_case]
const WILL_PASS: i32 = 0;

#[test_case]
const WILL_FAIL: i32 = 4;
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="decl_macro"><a class="header" href="#decl_macro"><code>decl_macro</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/39412">#39412</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="default_alloc_error_handler"><a class="header" href="#default_alloc_error_handler"><code>default_alloc_error_handler</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/66741">#66741</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="default_type_parameter_fallback"><a class="header" href="#default_type_parameter_fallback"><code>default_type_parameter_fallback</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/27336">#27336</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="derive_default_enum"><a class="header" href="#derive_default_enum"><code>derive_default_enum</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/86985">#86985</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="destructuring_assignment"><a class="header" href="#destructuring_assignment"><code>destructuring_assignment</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/71126">#71126</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="doc_cfg"><a class="header" href="#doc_cfg"><code>doc_cfg</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/43781">#43781</a></p>
<hr />
<p>The <code>doc_cfg</code> feature allows an API be documented as only available in some specific platforms.
This attribute has two effects:</p>
<ol>
<li>
<p>In the annotated item's documentation, there will be a message saying &quot;This is supported on
(platform) only&quot;.</p>
</li>
<li>
<p>The item's doc-tests will only run on the specific platform.</p>
</li>
</ol>
<p>In addition to allowing the use of the <code>#[doc(cfg)]</code> attribute, this feature enables the use of a
special conditional compilation flag, <code>#[cfg(doc)]</code>, set whenever building documentation on your
crate.</p>
<p>This feature was introduced as part of PR <a href="https://github.com/rust-lang/rust/issues/43348">#43348</a> to allow the platform-specific parts of the
standard library be documented.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(doc_cfg)]

<span class="boring">fn main() {
</span>#[cfg(any(windows, doc))]
#[doc(cfg(windows))]
/// The application's icon in the notification area (a.k.a. system tray).
///
/// # Examples
///
/// ```no_run
/// extern crate my_awesome_ui_library;
/// use my_awesome_ui_library::current_app;
/// use my_awesome_ui_library::windows::notification;
///
/// let icon = current_app().get::&lt;notification::Icon&gt;();
/// icon.show();
/// icon.show_message(&quot;Hello&quot;);
/// ```
pub struct Icon {
    // ...
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="doc_keyword"><a class="header" href="#doc_keyword"><code>doc_keyword</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/51315">#51315</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="doc_masked"><a class="header" href="#doc_masked"><code>doc_masked</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/pull/44027">#44027</a></p>
<hr />
<p>The <code>doc_masked</code> feature allows a crate to exclude types from a given crate from appearing in lists
of trait implementations. The specifics of the feature are as follows:</p>
<ol>
<li>
<p>When rustdoc encounters an <code>extern crate</code> statement annotated with a <code>#[doc(masked)]</code> attribute,
it marks the crate as being masked.</p>
</li>
<li>
<p>When listing traits a given type implements, rustdoc ensures that traits from masked crates are
not emitted into the documentation.</p>
</li>
<li>
<p>When listing types that implement a given trait, rustdoc ensures that types from masked crates
are not emitted into the documentation.</p>
</li>
</ol>
<p>This feature was introduced in PR <a href="https://github.com/rust-lang/rust/pull/44026">#44026</a> to ensure that compiler-internal and
implementation-specific types and traits were not included in the standard library's documentation.
Such types would introduce broken links into the documentation.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="doc_notable_trait"><a class="header" href="#doc_notable_trait"><code>doc_notable_trait</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/45040">#45040</a></p>
<p>The <code>doc_notable_trait</code> feature allows the use of the <code>#[doc(notable_trait)]</code>
attribute, which will display the trait in a &quot;Notable traits&quot; dialog for
functions returning types that implement the trait. For example, this attribute
is applied to the <code>Iterator</code>, <code>Future</code>, <code>io::Read</code>, and <code>io::Write</code> traits in
the standard library.</p>
<p>You can do this on your own traits like so:</p>
<pre><code>#![feature(doc_notable_trait)]

#[doc(notable_trait)]
pub trait MyTrait {}

pub struct MyStruct;
impl MyTrait for MyStruct {}

/// The docs for this function will have a button that displays a dialog about
/// `MyStruct` implementing `MyTrait`.
pub fn my_fn() -&gt; MyStruct { MyStruct }
</code></pre>
<p>This feature was originally implemented in PR <a href="https://github.com/rust-lang/rust/pull/45039">#45039</a>.</p>
<p>See also its documentation in <a href="language-features/../../rustdoc/unstable-features.html#adding-your-trait-to-the-notable-traits-dialog">the rustdoc book</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dropck_eyepatch"><a class="header" href="#dropck_eyepatch"><code>dropck_eyepatch</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/34761">#34761</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="ermsb_target_feature"><a class="header" href="#ermsb_target_feature"><code>ermsb_target_feature</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44839">#44839</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="exclusive_range_pattern"><a class="header" href="#exclusive_range_pattern"><code>exclusive_range_pattern</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/37854">#37854</a>.</p>
<hr />
<p>The <code>exclusive_range_pattern</code> feature allows non-inclusive range
patterns (<code>0..10</code>) to be used in appropriate pattern matching
contexts. It also can be combined with <code>#![feature(half_open_range_patterns]</code>
to be able to use RangeTo patterns (<code>..10</code>).</p>
<p>It also enabled RangeFrom patterns but that has since been
stabilized.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(exclusive_range_pattern)]
<span class="boring">fn main() {
</span>    let x = 5;
    match x {
        0..10 =&gt; println!(&quot;single digit&quot;),
        10 =&gt; println!(&quot;ten isn't part of the above range&quot;),
        _ =&gt; println!(&quot;nor is everything else.&quot;)
    }
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exhaustive_patterns"><a class="header" href="#exhaustive_patterns"><code>exhaustive_patterns</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/51085">#51085</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="explicit_generic_args_with_impl_trait"><a class="header" href="#explicit_generic_args_with_impl_trait"><code>explicit_generic_args_with_impl_trait</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/83701">#83701</a></p>
<hr />
<p>The <code>explicit_generic_args_with_impl_trait</code> feature gate lets you specify generic arguments even
when <code>impl Trait</code> is used in argument position.</p>
<p>A simple example is:</p>
<pre><pre class="playground"><code class="language-rust">#![feature(explicit_generic_args_with_impl_trait)]

fn foo&lt;T: ?Sized&gt;(_f: impl AsRef&lt;T&gt;) {}

fn main() {
    foo::&lt;str&gt;(&quot;&quot;.to_string());
}
</code></pre></pre>
<p>This is currently rejected:</p>
<pre><code class="language-text">error[E0632]: cannot provide explicit generic arguments when `impl Trait` is used in argument position
 --&gt; src/main.rs:6:11
  |
6 |     foo::&lt;str&gt;(&quot;&quot;.to_string());
  |           ^^^ explicit generic argument not allowed

</code></pre>
<p>However it would compile if <code>explicit_generic_args_with_impl_trait</code> is enabled.</p>
<p>Note that the synthetic type parameters from <code>impl Trait</code> are still implicit and you
cannot explicitly specify these:</p>
<pre><pre class="playground"><code class="language-rust compile_fail">#![feature(explicit_generic_args_with_impl_trait)]

fn foo&lt;T: ?Sized&gt;(_f: impl AsRef&lt;T&gt;) {}
fn bar&lt;T: ?Sized, F: AsRef&lt;T&gt;&gt;(_f: F) {}

fn main() {
    bar::&lt;str, _&gt;(&quot;&quot;.to_string()); // Okay
    bar::&lt;str, String&gt;(&quot;&quot;.to_string()); // Okay

    foo::&lt;str&gt;(&quot;&quot;.to_string()); // Okay
    foo::&lt;str, String&gt;(&quot;&quot;.to_string()); // Error, you cannot specify `impl Trait` explicitly
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="extern_types"><a class="header" href="#extern_types"><code>extern_types</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/43467">#43467</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="f16c_target_feature"><a class="header" href="#f16c_target_feature"><code>f16c_target_feature</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44839">#44839</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="ffi_const"><a class="header" href="#ffi_const"><code>ffi_const</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/58328">#58328</a></p>
<hr />
<p>The <code>#[ffi_const]</code> attribute applies clang's <code>const</code> attribute to foreign
functions declarations.</p>
<p>That is, <code>#[ffi_const]</code> functions shall have no effects except for its return
value, which can only depend on the values of the function parameters, and is
not affected by changes to the observable state of the program.</p>
<p>Applying the <code>#[ffi_const]</code> attribute to a function that violates these
requirements is undefined behaviour.</p>
<p>This attribute enables Rust to perform common optimizations, like sub-expression
elimination, and it can avoid emitting some calls in repeated invocations of the
function with the same argument values regardless of other operations being
performed in between these functions calls (as opposed to <code>#[ffi_pure]</code>
functions).</p>
<h2 id="pitfalls"><a class="header" href="#pitfalls">Pitfalls</a></h2>
<p>A <code>#[ffi_const]</code> function can only read global memory that would not affect
its return value for the whole execution of the program (e.g. immutable global
memory). <code>#[ffi_const]</code> functions are referentially-transparent and therefore
more strict than <code>#[ffi_pure]</code> functions.</p>
<p>A common pitfall involves applying the <code>#[ffi_const]</code> attribute to a
function that reads memory through pointer arguments which do not necessarily
point to immutable global memory.</p>
<p>A <code>#[ffi_const]</code> function that returns unit has no effect on the abstract
machine's state, and a <code>#[ffi_const]</code> function cannot be <code>#[ffi_pure]</code>.</p>
<p>A <code>#[ffi_const]</code> function must not diverge, neither via a side effect (e.g. a
call to <code>abort</code>) nor by infinite loops.</p>
<p>When translating C headers to Rust FFI, it is worth verifying for which targets
the <code>const</code> attribute is enabled in those headers, and using the appropriate
<code>cfg</code> macros in the Rust side to match those definitions. While the semantics of
<code>const</code> are implemented identically by many C and C++ compilers, e.g., clang,
<a href="https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-const-function-attribute">GCC</a>, <a href="http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0491c/Cacgigch.html">ARM C/C++ compiler</a>, <a href="https://www.ibm.com/support/knowledgecenter/fr/ssw_ibm_i_71/rzarg/fn_attrib_const.htm">IBM ILE C/C++</a>, etc. they are not necessarily
implemented in this way on all of them. It is therefore also worth verifying
that the semantics of the C toolchain used to compile the binary being linked
against are compatible with those of the <code>#[ffi_const]</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ffi_pure"><a class="header" href="#ffi_pure"><code>ffi_pure</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/58329">#58329</a></p>
<hr />
<p>The <code>#[ffi_pure]</code> attribute applies clang's <code>pure</code> attribute to foreign
functions declarations.</p>
<p>That is, <code>#[ffi_pure]</code> functions shall have no effects except for its return
value, which shall not change across two consecutive function calls with
the same parameters.</p>
<p>Applying the <code>#[ffi_pure]</code> attribute to a function that violates these
requirements is undefined behavior.</p>
<p>This attribute enables Rust to perform common optimizations, like sub-expression
elimination and loop optimizations. Some common examples of pure functions are
<code>strlen</code> or <code>memcmp</code>.</p>
<p>These optimizations are only applicable when the compiler can prove that no
program state observable by the <code>#[ffi_pure]</code> function has changed between calls
of the function, which could alter the result. See also the <code>#[ffi_const]</code>
attribute, which provides stronger guarantees regarding the allowable behavior
of a function, enabling further optimization.</p>
<h2 id="pitfalls-1"><a class="header" href="#pitfalls-1">Pitfalls</a></h2>
<p>A <code>#[ffi_pure]</code> function can read global memory through the function
parameters (e.g. pointers), globals, etc. <code>#[ffi_pure]</code> functions are not
referentially-transparent, and are therefore more relaxed than <code>#[ffi_const]</code>
functions.</p>
<p>However, accessing global memory through volatile or atomic reads can violate the
requirement that two consecutive function calls shall return the same value.</p>
<p>A <code>pure</code> function that returns unit has no effect on the abstract machine's
state.</p>
<p>A <code>#[ffi_pure]</code> function must not diverge, neither via a side effect (e.g. a
call to <code>abort</code>) nor by infinite loops.</p>
<p>When translating C headers to Rust FFI, it is worth verifying for which targets
the <code>pure</code> attribute is enabled in those headers, and using the appropriate
<code>cfg</code> macros in the Rust side to match those definitions. While the semantics of
<code>pure</code> are implemented identically by many C and C++ compilers, e.g., clang,
<a href="https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-pure-function-attribute">GCC</a>, <a href="http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0491c/Cacigdac.html">ARM C/C++ compiler</a>, <a href="https://www.ibm.com/support/knowledgecenter/fr/ssw_ibm_i_71/rzarg/fn_attrib_pure.htm">IBM ILE C/C++</a>, etc. they are not necessarily
implemented in this way on all of them. It is therefore also worth verifying
that the semantics of the C toolchain used to compile the binary being linked
against are compatible with those of the <code>#[ffi_pure]</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ffi_returns_twice"><a class="header" href="#ffi_returns_twice"><code>ffi_returns_twice</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/58314">#58314</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="fn_align"><a class="header" href="#fn_align"><code>fn_align</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/82232">#82232</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="format_args_capture"><a class="header" href="#format_args_capture"><code>format_args_capture</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/67984">#67984</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="fundamental"><a class="header" href="#fundamental"><code>fundamental</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/29635">#29635</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="generators"><a class="header" href="#generators"><code>generators</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/43122">#43122</a></p>
<hr />
<p>The <code>generators</code> feature gate in Rust allows you to define generator or
coroutine literals. A generator is a &quot;resumable function&quot; that syntactically
resembles a closure but compiles to much different semantics in the compiler
itself. The primary feature of a generator is that it can be suspended during
execution to be resumed at a later date. Generators use the <code>yield</code> keyword to
&quot;return&quot;, and then the caller can <code>resume</code> a generator to resume execution just
after the <code>yield</code> keyword.</p>
<p>Generators are an extra-unstable feature in the compiler right now. Added in
<a href="https://github.com/rust-lang/rfcs/pull/2033">RFC 2033</a> they're mostly intended right now as a information/constraint
gathering phase. The intent is that experimentation can happen on the nightly
compiler before actual stabilization. A further RFC will be required to
stabilize generators/coroutines and will likely contain at least a few small
tweaks to the overall design.</p>
<p>A syntactical example of a generator is:</p>
<pre><pre class="playground"><code class="language-rust">#![feature(generators, generator_trait)]

use std::ops::{Generator, GeneratorState};
use std::pin::Pin;

fn main() {
    let mut generator = || {
        yield 1;
        return &quot;foo&quot;
    };

    match Pin::new(&amp;mut generator).resume(()) {
        GeneratorState::Yielded(1) =&gt; {}
        _ =&gt; panic!(&quot;unexpected value from resume&quot;),
    }
    match Pin::new(&amp;mut generator).resume(()) {
        GeneratorState::Complete(&quot;foo&quot;) =&gt; {}
        _ =&gt; panic!(&quot;unexpected value from resume&quot;),
    }
}
</code></pre></pre>
<p>Generators are closure-like literals which can contain a <code>yield</code> statement. The
<code>yield</code> statement takes an optional expression of a value to yield out of the
generator. All generator literals implement the <code>Generator</code> trait in the
<code>std::ops</code> module. The <code>Generator</code> trait has one main method, <code>resume</code>, which
resumes execution of the generator at the previous suspension point.</p>
<p>An example of the control flow of generators is that the following example
prints all numbers in order:</p>
<pre><pre class="playground"><code class="language-rust">#![feature(generators, generator_trait)]

use std::ops::Generator;
use std::pin::Pin;

fn main() {
    let mut generator = || {
        println!(&quot;2&quot;);
        yield;
        println!(&quot;4&quot;);
    };

    println!(&quot;1&quot;);
    Pin::new(&amp;mut generator).resume(());
    println!(&quot;3&quot;);
    Pin::new(&amp;mut generator).resume(());
    println!(&quot;5&quot;);
}
</code></pre></pre>
<p>At this time the main intended use case of generators is an implementation
primitive for async/await syntax, but generators will likely be extended to
ergonomic implementations of iterators and other primitives in the future.
Feedback on the design and usage is always appreciated!</p>
<h3 id="the-generator-trait"><a class="header" href="#the-generator-trait">The <code>Generator</code> trait</a></h3>
<p>The <code>Generator</code> trait in <code>std::ops</code> currently looks like:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#![feature(arbitrary_self_types, generator_trait)]
</span><span class="boring">use std::ops::GeneratorState;
</span><span class="boring">use std::pin::Pin;
</span>
pub trait Generator&lt;R = ()&gt; {
    type Yield;
    type Return;
    fn resume(self: Pin&lt;&amp;mut Self&gt;, resume: R) -&gt; GeneratorState&lt;Self::Yield, Self::Return&gt;;
}
<span class="boring">}
</span></code></pre></pre>
<p>The <code>Generator::Yield</code> type is the type of values that can be yielded with the
<code>yield</code> statement. The <code>Generator::Return</code> type is the returned type of the
generator. This is typically the last expression in a generator's definition or
any value passed to <code>return</code> in a generator. The <code>resume</code> function is the entry
point for executing the <code>Generator</code> itself.</p>
<p>The return value of <code>resume</code>, <code>GeneratorState</code>, looks like:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub enum GeneratorState&lt;Y, R&gt; {
    Yielded(Y),
    Complete(R),
}
<span class="boring">}
</span></code></pre></pre>
<p>The <code>Yielded</code> variant indicates that the generator can later be resumed. This
corresponds to a <code>yield</code> point in a generator. The <code>Complete</code> variant indicates
that the generator is complete and cannot be resumed again. Calling <code>resume</code>
after a generator has returned <code>Complete</code> will likely result in a panic of the
program.</p>
<h3 id="closure-like-semantics"><a class="header" href="#closure-like-semantics">Closure-like semantics</a></h3>
<p>The closure-like syntax for generators alludes to the fact that they also have
closure-like semantics. Namely:</p>
<ul>
<li>
<p>When created, a generator executes no code. A closure literal does not
actually execute any of the closure's code on construction, and similarly a
generator literal does not execute any code inside the generator when
constructed.</p>
</li>
<li>
<p>Generators can capture outer variables by reference or by move, and this can
be tweaked with the <code>move</code> keyword at the beginning of the closure. Like
closures all generators will have an implicit environment which is inferred by
the compiler. Outer variables can be moved into a generator for use as the
generator progresses.</p>
</li>
<li>
<p>Generator literals produce a value with a unique type which implements the
<code>std::ops::Generator</code> trait. This allows actual execution of the generator
through the <code>Generator::resume</code> method as well as also naming it in return
types and such.</p>
</li>
<li>
<p>Traits like <code>Send</code> and <code>Sync</code> are automatically implemented for a <code>Generator</code>
depending on the captured variables of the environment. Unlike closures,
generators also depend on variables live across suspension points. This means
that although the ambient environment may be <code>Send</code> or <code>Sync</code>, the generator
itself may not be due to internal variables live across <code>yield</code> points being
not-<code>Send</code> or not-<code>Sync</code>. Note that generators do
not implement traits like <code>Copy</code> or <code>Clone</code> automatically.</p>
</li>
<li>
<p>Whenever a generator is dropped it will drop all captured environment
variables.</p>
</li>
</ul>
<h3 id="generators-as-state-machines"><a class="header" href="#generators-as-state-machines">Generators as state machines</a></h3>
<p>In the compiler, generators are currently compiled as state machines. Each
<code>yield</code> expression will correspond to a different state that stores all live
variables over that suspension point. Resumption of a generator will dispatch on
the current state and then execute internally until a <code>yield</code> is reached, at
which point all state is saved off in the generator and a value is returned.</p>
<p>Let's take a look at an example to see what's going on here:</p>
<pre><pre class="playground"><code class="language-rust">#![feature(generators, generator_trait)]

use std::ops::Generator;
use std::pin::Pin;

fn main() {
    let ret = &quot;foo&quot;;
    let mut generator = move || {
        yield 1;
        return ret
    };

    Pin::new(&amp;mut generator).resume(());
    Pin::new(&amp;mut generator).resume(());
}
</code></pre></pre>
<p>This generator literal will compile down to something similar to:</p>
<pre><pre class="playground"><code class="language-rust">#![feature(arbitrary_self_types, generators, generator_trait)]

use std::ops::{Generator, GeneratorState};
use std::pin::Pin;

fn main() {
    let ret = &quot;foo&quot;;
    let mut generator = {
        enum __Generator {
            Start(&amp;'static str),
            Yield1(&amp;'static str),
            Done,
        }

        impl Generator for __Generator {
            type Yield = i32;
            type Return = &amp;'static str;

            fn resume(mut self: Pin&lt;&amp;mut Self&gt;, resume: ()) -&gt; GeneratorState&lt;i32, &amp;'static str&gt; {
                use std::mem;
                match mem::replace(&amp;mut *self, __Generator::Done) {
                    __Generator::Start(s) =&gt; {
                        *self = __Generator::Yield1(s);
                        GeneratorState::Yielded(1)
                    }

                    __Generator::Yield1(s) =&gt; {
                        *self = __Generator::Done;
                        GeneratorState::Complete(s)
                    }

                    __Generator::Done =&gt; {
                        panic!(&quot;generator resumed after completion&quot;)
                    }
                }
            }
        }

        __Generator::Start(ret)
    };

    Pin::new(&amp;mut generator).resume(());
    Pin::new(&amp;mut generator).resume(());
}
</code></pre></pre>
<p>Notably here we can see that the compiler is generating a fresh type,
<code>__Generator</code> in this case. This type has a number of states (represented here
as an <code>enum</code>) corresponding to each of the conceptual states of the generator.
At the beginning we're closing over our outer variable <code>foo</code> and then that
variable is also live over the <code>yield</code> point, so it's stored in both states.</p>
<p>When the generator starts it'll immediately yield 1, but it saves off its state
just before it does so indicating that it has reached the yield point. Upon
resuming again we'll execute the <code>return ret</code> which returns the <code>Complete</code>
state.</p>
<p>Here we can also note that the <code>Done</code> state, if resumed, panics immediately as
it's invalid to resume a completed generator. It's also worth noting that this
is just a rough desugaring, not a normative specification for what the compiler
does.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="generic_arg_infer"><a class="header" href="#generic_arg_infer"><code>generic_arg_infer</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/85077">#85077</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="generic_associated_types"><a class="header" href="#generic_associated_types"><code>generic_associated_types</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44265">#44265</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="half_open_range_patterns"><a class="header" href="#half_open_range_patterns"><code>half_open_range_patterns</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/67264">#67264</a>
It is part of the <code>#![exclusive_range_pattern]</code> feature,
tracked at <a href="https://github.com/rust-lang/rust/issues/37854">#37854</a>.</p>
<hr />
<p>The <code>half_open_range_patterns</code> feature allows RangeTo patterns
(<code>..10</code>) to be used in appropriate pattern matching contexts.
This requires also enabling the <code>exclusive_range_pattern</code> feature.</p>
<p>It also enabled RangeFrom patterns but that has since been
stabilized.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(half_open_range_patterns)]
#![feature(exclusive_range_pattern)]
<span class="boring">fn main() {
</span>    let x = 5;
    match x {
        ..0 =&gt; println!(&quot;negative!&quot;), // &quot;RangeTo&quot; pattern. Unstable.
        0 =&gt; println!(&quot;zero!&quot;),
        1.. =&gt; println!(&quot;positive!&quot;), // &quot;RangeFrom&quot; pattern. Stable.
    }
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hexagon_target_feature"><a class="header" href="#hexagon_target_feature"><code>hexagon_target_feature</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44839">#44839</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="if_let_guard"><a class="header" href="#if_let_guard"><code>if_let_guard</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/51114">#51114</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="imported_main"><a class="header" href="#imported_main"><code>imported_main</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/28937">#28937</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="in_band_lifetimes"><a class="header" href="#in_band_lifetimes"><code>in_band_lifetimes</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44524">#44524</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="infer_static_outlives_requirements"><a class="header" href="#infer_static_outlives_requirements"><code>infer_static_outlives_requirements</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/54185">#54185</a></p>
<hr />
<p>The <code>infer_static_outlives_requirements</code> feature indicates that certain
<code>'static</code> outlives requirements can be inferred by the compiler rather than
stating them explicitly.</p>
<p>Note: It is an accompanying feature to <code>infer_outlives_requirements</code>,
which must be enabled to infer outlives requirements.</p>
<p>For example, currently generic struct definitions that contain
references, require where-clauses of the form T: 'static. By using
this feature the outlives predicates will be inferred, although
they may still be written explicitly.</p>
<pre><code class="language-rust ignore (pseudo-Rust)">struct Foo&lt;U&gt; where U: 'static { // &lt;-- currently required
    bar: Bar&lt;U&gt;
}
struct Bar&lt;T: 'static&gt; {
    x: T,
}
</code></pre>
<h2 id="examples-8"><a class="header" href="#examples-8">Examples:</a></h2>
<pre><code class="language-rust ignore (pseudo-Rust)">#![feature(infer_outlives_requirements)]
#![feature(infer_static_outlives_requirements)]

#[rustc_outlives]
// Implicitly infer U: 'static
struct Foo&lt;U&gt; {
    bar: Bar&lt;U&gt;
}
struct Bar&lt;T: 'static&gt; {
    x: T,
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inherent_associated_types"><a class="header" href="#inherent_associated_types"><code>inherent_associated_types</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/8995">#8995</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="inline_const"><a class="header" href="#inline_const"><code>inline_const</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/76001">#76001</a></p>
<hr />
<p>This feature allows you to use inline constant expressions. For example, you can
turn this code:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">fn add_one(x: i32) -&gt; i32 { x + 1 }
</span>const MY_COMPUTATION: i32 = 1 + 2 * 3 / 4;

fn main() {
    let x = add_one(MY_COMPUTATION);
}
</code></pre></pre>
<p>into this code:</p>
<pre><pre class="playground"><code class="language-rust">#![feature(inline_const)]

<span class="boring">fn add_one(x: i32) -&gt; i32 { x + 1 }
</span>fn main() {
    let x = add_one(const { 1 + 2 * 3 / 4 });
}
</code></pre></pre>
<p>You can also use inline constant expressions in patterns:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(inline_const)]

<span class="boring">fn main() {
</span>const fn one() -&gt; i32 { 1 }

let some_int = 3;
match some_int {
    const { 1 + 2 } =&gt; println!(&quot;Matched 1 + 2&quot;),
    const { one() } =&gt; println!(&quot;Matched const fn returning 1&quot;),
    _ =&gt; println!(&quot;Didn't match anything :(&quot;),
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="intra-doc-pointers"><a class="header" href="#intra-doc-pointers"><code>intra-doc-pointers</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/80896">#80896</a></p>
<hr />
<p>Rustdoc does not currently allow disambiguating between <code>*const</code> and <code>*mut</code>, and
raw pointers in intra-doc links are unstable until it does.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(intra_doc_pointers)]
<span class="boring">fn main() {
</span>//! [pointer::add]
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="intrinsics"><a class="header" href="#intrinsics"><code>intrinsics</code></a></h1>
<p>The tracking issue for this feature is: None.</p>
<p>Intrinsics are never intended to be stable directly, but intrinsics are often
exported in some sort of stable manner. Prefer using the stable interfaces to
the intrinsic directly when you can.</p>
<hr />
<p>These are imported as if they were FFI functions, with the special
<code>rust-intrinsic</code> ABI. For example, if one was in a freestanding
context, but wished to be able to <code>transmute</code> between types, and
perform efficient pointer arithmetic, one would import those functions
via a declaration like</p>
<pre><pre class="playground"><code class="language-rust">#![feature(intrinsics)]
<span class="boring">fn main() {}
</span>
extern &quot;rust-intrinsic&quot; {
    fn transmute&lt;T, U&gt;(x: T) -&gt; U;

    fn offset&lt;T&gt;(dst: *const T, offset: isize) -&gt; *const T;
}
</code></pre></pre>
<p>As with any other FFI functions, these are always <code>unsafe</code> to call.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="isa_attribute"><a class="header" href="#isa_attribute"><code>isa_attribute</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/74727">#74727</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="label_break_value"><a class="header" href="#label_break_value"><code>label_break_value</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/48594">#48594</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="lang_items"><a class="header" href="#lang_items"><code>lang_items</code></a></h1>
<p>The tracking issue for this feature is: None.</p>
<hr />
<p>The <code>rustc</code> compiler has certain pluggable operations, that is,
functionality that isn't hard-coded into the language, but is
implemented in libraries, with a special marker to tell the compiler
it exists. The marker is the attribute <code>#[lang = &quot;...&quot;]</code> and there are
various different values of <code>...</code>, i.e. various different 'lang
items'.</p>
<p>For example, <code>Box</code> pointers require two lang items, one for allocation
and one for deallocation. A freestanding program that uses the <code>Box</code>
sugar for dynamic allocations via <code>malloc</code> and <code>free</code>:</p>
<pre><code class="language-rust ignore (libc-is-finicky)">#![feature(lang_items, box_syntax, start, libc, core_intrinsics, rustc_private)]
#![no_std]
use core::intrinsics;
use core::panic::PanicInfo;

extern crate libc;

#[lang = &quot;owned_box&quot;]
pub struct Box&lt;T&gt;(*mut T);

#[lang = &quot;exchange_malloc&quot;]
unsafe fn allocate(size: usize, _align: usize) -&gt; *mut u8 {
    let p = libc::malloc(size as libc::size_t) as *mut u8;

    // Check if `malloc` failed:
    if p as usize == 0 {
        intrinsics::abort();
    }

    p
}

#[lang = &quot;box_free&quot;]
unsafe fn box_free&lt;T: ?Sized&gt;(ptr: *mut T) {
    libc::free(ptr as *mut libc::c_void)
}

#[start]
fn main(_argc: isize, _argv: *const *const u8) -&gt; isize {
    let _x = box 1;

    0
}

#[lang = &quot;eh_personality&quot;] extern fn rust_eh_personality() {}
#[lang = &quot;panic_impl&quot;] extern fn rust_begin_panic(info: &amp;PanicInfo) -&gt; ! { unsafe { intrinsics::abort() } }
#[no_mangle] pub extern fn rust_eh_register_frames () {}
#[no_mangle] pub extern fn rust_eh_unregister_frames () {}
</code></pre>
<p>Note the use of <code>abort</code>: the <code>exchange_malloc</code> lang item is assumed to
return a valid pointer, and so needs to do the check internally.</p>
<p>Other features provided by lang items include:</p>
<ul>
<li>overloadable operators via traits: the traits corresponding to the
<code>==</code>, <code>&lt;</code>, dereferencing (<code>*</code>) and <code>+</code> (etc.) operators are all
marked with lang items; those specific four are <code>eq</code>, <code>ord</code>,
<code>deref</code>, and <code>add</code> respectively.</li>
<li>stack unwinding and general failure; the <code>eh_personality</code>,
<code>panic</code> and <code>panic_bounds_check</code> lang items.</li>
<li>the traits in <code>std::marker</code> used to indicate types of
various kinds; lang items <code>send</code>, <code>sync</code> and <code>copy</code>.</li>
<li>the marker types and variance indicators found in
<code>std::marker</code>; lang items <code>covariant_type</code>,
<code>contravariant_lifetime</code>, etc.</li>
</ul>
<p>Lang items are loaded lazily by the compiler; e.g. if one never uses
<code>Box</code> then there is no need to define functions for <code>exchange_malloc</code>
and <code>box_free</code>. <code>rustc</code> will emit an error when an item is needed
but not found in the current crate or any that it depends on.</p>
<p>Most lang items are defined by <code>libcore</code>, but if you're trying to build
an executable without the standard library, you'll run into the need
for lang items. The rest of this page focuses on this use-case, even though
lang items are a bit broader than that.</p>
<h3 id="using-libc"><a class="header" href="#using-libc">Using libc</a></h3>
<p>In order to build a <code>#[no_std]</code> executable we will need libc as a dependency.
We can specify this using our <code>Cargo.toml</code> file:</p>
<pre><code class="language-toml">[dependencies]
libc = { version = &quot;0.2.14&quot;, default-features = false }
</code></pre>
<p>Note that the default features have been disabled. This is a critical step -
<strong>the default features of libc include the standard library and so must be
disabled.</strong></p>
<h3 id="writing-an-executable-without-stdlib"><a class="header" href="#writing-an-executable-without-stdlib">Writing an executable without stdlib</a></h3>
<p>Controlling the entry point is possible in two ways: the <code>#[start]</code> attribute,
or overriding the default shim for the C <code>main</code> function with your own.</p>
<p>The function marked <code>#[start]</code> is passed the command line parameters
in the same format as C:</p>
<pre><code class="language-rust ignore (libc-is-finicky)">#![feature(lang_items, core_intrinsics, rustc_private)]
#![feature(start)]
#![no_std]
use core::intrinsics;
use core::panic::PanicInfo;

// Pull in the system libc library for what crt0.o likely requires.
extern crate libc;

// Entry point for this program.
#[start]
fn start(_argc: isize, _argv: *const *const u8) -&gt; isize {
    0
}

// These functions are used by the compiler, but not
// for a bare-bones hello world. These are normally
// provided by libstd.
#[lang = &quot;eh_personality&quot;]
#[no_mangle]
pub extern fn rust_eh_personality() {
}

#[lang = &quot;panic_impl&quot;]
#[no_mangle]
pub extern fn rust_begin_panic(info: &amp;PanicInfo) -&gt; ! {
    unsafe { intrinsics::abort() }
}
</code></pre>
<p>To override the compiler-inserted <code>main</code> shim, one has to disable it
with <code>#![no_main]</code> and then create the appropriate symbol with the
correct ABI and the correct name, which requires overriding the
compiler's name mangling too:</p>
<pre><code class="language-rust ignore (libc-is-finicky)">#![feature(lang_items, core_intrinsics, rustc_private)]
#![feature(start)]
#![no_std]
#![no_main]
use core::intrinsics;
use core::panic::PanicInfo;

// Pull in the system libc library for what crt0.o likely requires.
extern crate libc;

// Entry point for this program.
#[no_mangle] // ensure that this symbol is called `main` in the output
pub extern fn main(_argc: i32, _argv: *const *const u8) -&gt; i32 {
    0
}

// These functions are used by the compiler, but not
// for a bare-bones hello world. These are normally
// provided by libstd.
#[lang = &quot;eh_personality&quot;]
#[no_mangle]
pub extern fn rust_eh_personality() {
}

#[lang = &quot;panic_impl&quot;]
#[no_mangle]
pub extern fn rust_begin_panic(info: &amp;PanicInfo) -&gt; ! {
    unsafe { intrinsics::abort() }
}
</code></pre>
<p>In many cases, you may need to manually link to the <code>compiler_builtins</code> crate
when building a <code>no_std</code> binary. You may observe this via linker error messages
such as &quot;<code>undefined reference to `__rust_probestack'</code>&quot;.</p>
<h2 id="more-about-the-language-items"><a class="header" href="#more-about-the-language-items">More about the language items</a></h2>
<p>The compiler currently makes a few assumptions about symbols which are
available in the executable to call. Normally these functions are provided by
the standard library, but without it you must define your own. These symbols
are called &quot;language items&quot;, and they each have an internal name, and then a
signature that an implementation must conform to.</p>
<p>The first of these functions, <code>rust_eh_personality</code>, is used by the failure
mechanisms of the compiler. This is often mapped to GCC's personality function
(see the <a href="https://github.com/rust-lang/rust/blob/master/library/panic_unwind/src/gcc.rs">libstd implementation</a> for more information), but crates
which do not trigger a panic can be assured that this function is never
called. The language item's name is <code>eh_personality</code>.</p>
<p>The second function, <code>rust_begin_panic</code>, is also used by the failure mechanisms of the
compiler. When a panic happens, this controls the message that's displayed on
the screen. While the language item's name is <code>panic_impl</code>, the symbol name is
<code>rust_begin_panic</code>.</p>
<p>Finally, a <code>eh_catch_typeinfo</code> static is needed for certain targets which
implement Rust panics on top of C++ exceptions.</p>
<h2 id="list-of-all-language-items"><a class="header" href="#list-of-all-language-items">List of all language items</a></h2>
<p>This is a list of all language items in Rust along with where they are located in
the source code.</p>
<ul>
<li>Primitives
<ul>
<li><code>i8</code>: <code>libcore/num/mod.rs</code></li>
<li><code>i16</code>: <code>libcore/num/mod.rs</code></li>
<li><code>i32</code>: <code>libcore/num/mod.rs</code></li>
<li><code>i64</code>: <code>libcore/num/mod.rs</code></li>
<li><code>i128</code>: <code>libcore/num/mod.rs</code></li>
<li><code>isize</code>: <code>libcore/num/mod.rs</code></li>
<li><code>u8</code>: <code>libcore/num/mod.rs</code></li>
<li><code>u16</code>: <code>libcore/num/mod.rs</code></li>
<li><code>u32</code>: <code>libcore/num/mod.rs</code></li>
<li><code>u64</code>: <code>libcore/num/mod.rs</code></li>
<li><code>u128</code>: <code>libcore/num/mod.rs</code></li>
<li><code>usize</code>: <code>libcore/num/mod.rs</code></li>
<li><code>f32</code>: <code>libstd/f32.rs</code></li>
<li><code>f64</code>: <code>libstd/f64.rs</code></li>
<li><code>char</code>: <code>libcore/char.rs</code></li>
<li><code>slice</code>: <code>liballoc/slice.rs</code></li>
<li><code>str</code>: <code>liballoc/str.rs</code></li>
<li><code>const_ptr</code>: <code>libcore/ptr.rs</code></li>
<li><code>mut_ptr</code>: <code>libcore/ptr.rs</code></li>
<li><code>unsafe_cell</code>: <code>libcore/cell.rs</code></li>
</ul>
</li>
<li>Runtime
<ul>
<li><code>start</code>: <code>libstd/rt.rs</code></li>
<li><code>eh_personality</code>: <code>libpanic_unwind/emcc.rs</code> (EMCC)</li>
<li><code>eh_personality</code>: <code>libpanic_unwind/gcc.rs</code> (GNU)</li>
<li><code>eh_personality</code>: <code>libpanic_unwind/seh.rs</code> (SEH)</li>
<li><code>eh_catch_typeinfo</code>: <code>libpanic_unwind/emcc.rs</code> (EMCC)</li>
<li><code>panic</code>: <code>libcore/panicking.rs</code></li>
<li><code>panic_bounds_check</code>: <code>libcore/panicking.rs</code></li>
<li><code>panic_impl</code>: <code>libcore/panicking.rs</code></li>
<li><code>panic_impl</code>: <code>libstd/panicking.rs</code></li>
</ul>
</li>
<li>Allocations
<ul>
<li><code>owned_box</code>: <code>liballoc/boxed.rs</code></li>
<li><code>exchange_malloc</code>: <code>liballoc/heap.rs</code></li>
<li><code>box_free</code>: <code>liballoc/heap.rs</code></li>
</ul>
</li>
<li>Operands
<ul>
<li><code>not</code>: <code>libcore/ops/bit.rs</code></li>
<li><code>bitand</code>: <code>libcore/ops/bit.rs</code></li>
<li><code>bitor</code>: <code>libcore/ops/bit.rs</code></li>
<li><code>bitxor</code>: <code>libcore/ops/bit.rs</code></li>
<li><code>shl</code>: <code>libcore/ops/bit.rs</code></li>
<li><code>shr</code>: <code>libcore/ops/bit.rs</code></li>
<li><code>bitand_assign</code>: <code>libcore/ops/bit.rs</code></li>
<li><code>bitor_assign</code>: <code>libcore/ops/bit.rs</code></li>
<li><code>bitxor_assign</code>: <code>libcore/ops/bit.rs</code></li>
<li><code>shl_assign</code>: <code>libcore/ops/bit.rs</code></li>
<li><code>shr_assign</code>: <code>libcore/ops/bit.rs</code></li>
<li><code>deref</code>: <code>libcore/ops/deref.rs</code></li>
<li><code>deref_mut</code>: <code>libcore/ops/deref.rs</code></li>
<li><code>index</code>: <code>libcore/ops/index.rs</code></li>
<li><code>index_mut</code>: <code>libcore/ops/index.rs</code></li>
<li><code>add</code>: <code>libcore/ops/arith.rs</code></li>
<li><code>sub</code>: <code>libcore/ops/arith.rs</code></li>
<li><code>mul</code>: <code>libcore/ops/arith.rs</code></li>
<li><code>div</code>: <code>libcore/ops/arith.rs</code></li>
<li><code>rem</code>: <code>libcore/ops/arith.rs</code></li>
<li><code>neg</code>: <code>libcore/ops/arith.rs</code></li>
<li><code>add_assign</code>: <code>libcore/ops/arith.rs</code></li>
<li><code>sub_assign</code>: <code>libcore/ops/arith.rs</code></li>
<li><code>mul_assign</code>: <code>libcore/ops/arith.rs</code></li>
<li><code>div_assign</code>: <code>libcore/ops/arith.rs</code></li>
<li><code>rem_assign</code>: <code>libcore/ops/arith.rs</code></li>
<li><code>eq</code>: <code>libcore/cmp.rs</code></li>
<li><code>ord</code>: <code>libcore/cmp.rs</code></li>
</ul>
</li>
<li>Functions
<ul>
<li><code>fn</code>: <code>libcore/ops/function.rs</code></li>
<li><code>fn_mut</code>: <code>libcore/ops/function.rs</code></li>
<li><code>fn_once</code>: <code>libcore/ops/function.rs</code></li>
<li><code>generator_state</code>: <code>libcore/ops/generator.rs</code></li>
<li><code>generator</code>: <code>libcore/ops/generator.rs</code></li>
</ul>
</li>
<li>Other
<ul>
<li><code>coerce_unsized</code>: <code>libcore/ops/unsize.rs</code></li>
<li><code>drop</code>: <code>libcore/ops/drop.rs</code></li>
<li><code>drop_in_place</code>: <code>libcore/ptr.rs</code></li>
<li><code>clone</code>: <code>libcore/clone.rs</code></li>
<li><code>copy</code>: <code>libcore/marker.rs</code></li>
<li><code>send</code>: <code>libcore/marker.rs</code></li>
<li><code>sized</code>: <code>libcore/marker.rs</code></li>
<li><code>unsize</code>: <code>libcore/marker.rs</code></li>
<li><code>sync</code>: <code>libcore/marker.rs</code></li>
<li><code>phantom_data</code>: <code>libcore/marker.rs</code></li>
<li><code>discriminant_kind</code>: <code>libcore/marker.rs</code></li>
<li><code>freeze</code>: <code>libcore/marker.rs</code></li>
<li><code>debug_trait</code>: <code>libcore/fmt/mod.rs</code></li>
<li><code>non_zero</code>: <code>libcore/nonzero.rs</code></li>
<li><code>arc</code>: <code>liballoc/sync.rs</code></li>
<li><code>rc</code>: <code>liballoc/rc.rs</code></li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="large_assignments"><a class="header" href="#large_assignments"><code>large_assignments</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/83518">#83518</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="lazy_normalization_consts"><a class="header" href="#lazy_normalization_consts"><code>lazy_normalization_consts</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/72219">#72219</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="let_chains"><a class="header" href="#let_chains"><code>let_chains</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/53667">#53667</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="link_cfg"><a class="header" href="#link_cfg"><code>link_cfg</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="link_llvm_intrinsics"><a class="header" href="#link_llvm_intrinsics"><code>link_llvm_intrinsics</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/29602">#29602</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="linkage"><a class="header" href="#linkage"><code>linkage</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/29603">#29603</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="lint_reasons"><a class="header" href="#lint_reasons"><code>lint_reasons</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/54503">#54503</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="macro_attributes_in_derive_output"><a class="header" href="#macro_attributes_in_derive_output"><code>macro_attributes_in_derive_output</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/81119">#81119</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="marker_trait_attr"><a class="header" href="#marker_trait_attr"><code>marker_trait_attr</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/29864">#29864</a></p>
<hr />
<p>Normally, Rust keeps you from adding trait implementations that could
overlap with each other, as it would be ambiguous which to use.  This
feature, however, carves out an exception to that rule: a trait can
opt-in to having overlapping implementations, at the cost that those
implementations are not allowed to override anything (and thus the
trait itself cannot have any associated items, as they're pointless
when they'd need to do the same thing for every type anyway).</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(marker_trait_attr)]

<span class="boring">fn main() {
</span>#[marker] trait CheapToClone: Clone {}

impl&lt;T: Copy&gt; CheapToClone for T {}

// These could potentially overlap with the blanket implementation above,
// so are only allowed because CheapToClone is a marker trait.
impl&lt;T: CheapToClone, U: CheapToClone&gt; CheapToClone for (T, U) {}
impl&lt;T: CheapToClone&gt; CheapToClone for std::ops::Range&lt;T&gt; {}

fn cheap_clone&lt;T: CheapToClone&gt;(t: T) -&gt; T {
    t.clone()
}
<span class="boring">}
</span></code></pre></pre>
<p>This is expected to replace the unstable <code>overlapping_marker_traits</code>
feature, which applied to all empty traits (without needing an opt-in).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="min_specialization"><a class="header" href="#min_specialization"><code>min_specialization</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/31844">#31844</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="mips_target_feature"><a class="header" href="#mips_target_feature"><code>mips_target_feature</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44839">#44839</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="more_qualified_paths"><a class="header" href="#more_qualified_paths"><code>more_qualified_paths</code></a></h1>
<p>The <code>more_qualified_paths</code> feature can be used in order to enable the
use of qualified paths in patterns.</p>
<h2 id="example-5"><a class="header" href="#example-5">Example</a></h2>
<pre><pre class="playground"><code class="language-rust">#![feature(more_qualified_paths)]

fn main() {
    // destructure through a qualified path
    let &lt;Foo as A&gt;::Assoc { br } = StructStruct { br: 2 };
}

struct StructStruct {
    br: i8,
}

struct Foo;

trait A {
    type Assoc;
}

impl A for Foo {
    type Assoc = StructStruct;
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="movbe_target_feature"><a class="header" href="#movbe_target_feature"><code>movbe_target_feature</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44839">#44839</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="naked_functions"><a class="header" href="#naked_functions"><code>naked_functions</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/32408">#32408</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="native_link_modifiers"><a class="header" href="#native_link_modifiers"><code>native_link_modifiers</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/81490">#81490</a></p>
<hr />
<p>The <code>native_link_modifiers</code> feature allows you to use the <code>modifiers</code> syntax with the <code>#[link(..)]</code> attribute.</p>
<p>Modifiers are specified as a comma-delimited string with each modifier prefixed with either a <code>+</code> or <code>-</code> to indicate that the modifier is enabled or disabled, respectively. The last boolean value specified for a given modifier wins.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="native_link_modifiers_as_needed"><a class="header" href="#native_link_modifiers_as_needed"><code>native_link_modifiers_as_needed</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/81490">#81490</a></p>
<hr />
<p>The <code>native_link_modifiers_as_needed</code> feature allows you to use the <code>as-needed</code> modifier.</p>
<p><code>as-needed</code> is only compatible with the <code>dynamic</code> and <code>framework</code> linking kinds. Using any other kind will result in a compiler error.</p>
<p><code>+as-needed</code> means that the library will be actually linked only if it satisfies some undefined symbols at the point at which it is specified on the command line, making it similar to static libraries in this regard.</p>
<p>This modifier translates to <code>--as-needed</code> for ld-like linkers, and to <code>-dead_strip_dylibs</code> / <code>-needed_library</code> / <code>-needed_framework</code> for ld64.
The modifier does nothing for linkers that don't support it (e.g. <code>link.exe</code>).</p>
<p>The default for this modifier is unclear, some targets currently specify it as <code>+as-needed</code>, some do not. We may want to try making <code>+as-needed</code> a default for all targets.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="native_link_modifiers_bundle"><a class="header" href="#native_link_modifiers_bundle"><code>native_link_modifiers_bundle</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/81490">#81490</a></p>
<hr />
<p>The <code>native_link_modifiers_bundle</code> feature allows you to use the <code>bundle</code> modifier.</p>
<p>Only compatible with the <code>static</code> linking kind. Using any other kind will result in a compiler error.</p>
<p><code>+bundle</code> means objects from the static library are bundled into the produced crate (a rlib, for example) and are used from this crate later during linking of the final binary.</p>
<p><code>-bundle</code> means the static library is included into the produced rlib &quot;by name&quot; and object files from it are included only during linking of the final binary, the file search by that name is also performed during final linking.</p>
<p>This modifier is supposed to supersede the <code>static-nobundle</code> linking kind defined by <a href="https://github.com/rust-lang/rfcs/pull/1717">RFC 1717</a>.</p>
<p>The default for this modifier is currently <code>+bundle</code>, but it could be changed later on some future edition boundary.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="native_link_modifiers_verbatim"><a class="header" href="#native_link_modifiers_verbatim"><code>native_link_modifiers_verbatim</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/81490">#81490</a></p>
<hr />
<p>The <code>native_link_modifiers_verbatim</code> feature allows you to use the <code>verbatim</code> modifier.</p>
<p><code>+verbatim</code> means that rustc itself won't add any target-specified library prefixes or suffixes (like <code>lib</code> or <code>.a</code>) to the library name, and will try its best to ask for the same thing from the linker.</p>
<p>For <code>ld</code>-like linkers rustc will use the <code>-l:filename</code> syntax (note the colon) when passing the library, so the linker won't add any prefixes or suffixes as well.
See <a href="https://sourceware.org/binutils/docs/ld/Options.html"><code>-l namespec</code></a> in ld documentation for more details.
For linkers not supporting any verbatim modifiers (e.g. <code>link.exe</code> or <code>ld64</code>) the library name will be passed as is.</p>
<p>The default for this modifier is <code>-verbatim</code>.</p>
<p>This RFC changes the behavior of <code>raw-dylib</code> linking kind specified by <a href="https://github.com/rust-lang/rfcs/pull/2627">RFC 2627</a>. The <code>.dll</code> suffix (or other target-specified suffixes for other targets) is now added automatically.
If your DLL doesn't have the <code>.dll</code> suffix, it can be specified with <code>+verbatim</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="native_link_modifiers_whole_archive"><a class="header" href="#native_link_modifiers_whole_archive"><code>native_link_modifiers_whole_archive</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/81490">#81490</a></p>
<hr />
<p>The <code>native_link_modifiers_whole_archive</code> feature allows you to use the <code>whole-archive</code> modifier.</p>
<p>Only compatible with the <code>static</code> linking kind. Using any other kind will result in a compiler error.</p>
<p><code>+whole-archive</code> means that the static library is linked as a whole archive without throwing any object files away.</p>
<p>This modifier translates to <code>--whole-archive</code> for <code>ld</code>-like linkers, to <code>/WHOLEARCHIVE</code> for <code>link.exe</code>, and to <code>-force_load</code> for <code>ld64</code>.
The modifier does nothing for linkers that don't support it.</p>
<p>The default for this modifier is <code>-whole-archive</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="needs_panic_runtime"><a class="header" href="#needs_panic_runtime"><code>needs_panic_runtime</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/32837">#32837</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="negative_impls"><a class="header" href="#negative_impls"><code>negative_impls</code></a></h1>
<p>The tracking issue for this feature is <a href="https://github.com/rust-lang/rust/issues/68318">#68318</a>.</p>
<hr />
<p>With the feature gate <code>negative_impls</code>, you can write negative impls as well as positive ones:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(negative_impls)]
<span class="boring">fn main() {
</span>trait DerefMut { }
impl&lt;T: ?Sized&gt; !DerefMut for &amp;T { }
<span class="boring">}
</span></code></pre></pre>
<p>Negative impls indicate a semver guarantee that the given trait will not be implemented for the given types. Negative impls play an additional purpose for auto traits, described below.</p>
<p>Negative impls have the following characteristics:</p>
<ul>
<li>They do not have any items.</li>
<li>They must obey the orphan rules as if they were a positive impl.</li>
<li>They cannot &quot;overlap&quot; with any positive impls.</li>
</ul>
<h2 id="semver-interaction"><a class="header" href="#semver-interaction">Semver interaction</a></h2>
<p>It is a breaking change to remove a negative impl. Negative impls are a commitment not to implement the given trait for the named types.</p>
<h2 id="orphan-and-overlap-rules"><a class="header" href="#orphan-and-overlap-rules">Orphan and overlap rules</a></h2>
<p>Negative impls must obey the same orphan rules as a positive impl. This implies you cannot add a negative impl for types defined in upstream crates and so forth.</p>
<p>Similarly, negative impls cannot overlap with positive impls, again using the same &quot;overlap&quot; check that we ordinarily use to determine if two impls overlap. (Note that positive impls typically cannot overlap with one another either, except as permitted by specialization.)</p>
<h2 id="interaction-with-auto-traits"><a class="header" href="#interaction-with-auto-traits">Interaction with auto traits</a></h2>
<p>Declaring a negative impl <code>impl !SomeAutoTrait for SomeType</code> for an
auto-trait serves two purposes:</p>
<ul>
<li>as with any trait, it declares that <code>SomeType</code> will never implement <code>SomeAutoTrait</code>;</li>
<li>it disables the automatic <code>SomeType: SomeAutoTrait</code> impl that would otherwise have been generated.</li>
</ul>
<p>Note that, at present, there is no way to indicate that a given type
does not implement an auto trait <em>but that it may do so in the
future</em>. For ordinary types, this is done by simply not declaring any
impl at all, but that is not an option for auto traits. A workaround
is that one could embed a marker type as one of the fields, where the
marker type is <code>!AutoTrait</code>.</p>
<h2 id="immediate-uses"><a class="header" href="#immediate-uses">Immediate uses</a></h2>
<p>Negative impls are used to declare that <code>&amp;T: !DerefMut</code>  and <code>&amp;mut T: !Clone</code>, as required to fix the soundness of <code>Pin</code> described in <a href="https://github.com/rust-lang/rust/issues/66544">#66544</a>.</p>
<p>This serves two purposes:</p>
<ul>
<li>For proving the correctness of unsafe code, we can use that impl as evidence that no <code>DerefMut</code> or <code>Clone</code> impl exists.</li>
<li>It prevents downstream crates from creating such impls.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="never_type"><a class="header" href="#never_type"><code>never_type</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/35121">#35121</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="never_type_fallback"><a class="header" href="#never_type_fallback"><code>never_type_fallback</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/65992">#65992</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="nll"><a class="header" href="#nll"><code>nll</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/43234">#43234</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="no_core"><a class="header" href="#no_core"><code>no_core</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/29639">#29639</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="no_coverage"><a class="header" href="#no_coverage"><code>no_coverage</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/84605">#84605</a></p>
<hr />
<p>The <code>no_coverage</code> attribute can be used to selectively disable coverage
instrumentation in an annotated function. This might be useful to:</p>
<ul>
<li>Avoid instrumentation overhead in a performance critical function</li>
<li>Avoid generating coverage for a function that is not meant to be executed,
but still target 100% coverage for the rest of the program.</li>
</ul>
<h2 id="example-6"><a class="header" href="#example-6">Example</a></h2>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(no_coverage)]

<span class="boring">fn main() {
</span>// `foo()` will get coverage instrumentation (by default)
fn foo() {
  // ...
}

#[no_coverage]
fn bar() {
  // ...
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="no_niche"><a class="header" href="#no_niche"><code>no_niche</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="no_sanitize"><a class="header" href="#no_sanitize"><code>no_sanitize</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/39699">#39699</a></p>
<hr />
<p>The <code>no_sanitize</code> attribute can be used to selectively disable sanitizer
instrumentation in an annotated function. This might be useful to: avoid
instrumentation overhead in a performance critical function, or avoid
instrumenting code that contains constructs unsupported by given sanitizer.</p>
<p>The precise effect of this annotation depends on particular sanitizer in use.
For example, with <code>no_sanitize(thread)</code>, the thread sanitizer will no longer
instrument non-atomic store / load operations, but it will instrument atomic
operations to avoid reporting false positives and provide meaning full stack
traces.</p>
<h2 id="examples-9"><a class="header" href="#examples-9">Examples</a></h2>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(no_sanitize)]

<span class="boring">fn main() {
</span>#[no_sanitize(address)]
fn foo() {
  // ...
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="object_safe_for_dispatch"><a class="header" href="#object_safe_for_dispatch"><code>object_safe_for_dispatch</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/43561">#43561</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="omit_gdb_pretty_printer_section"><a class="header" href="#omit_gdb_pretty_printer_section"><code>omit_gdb_pretty_printer_section</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="optimize_attribute"><a class="header" href="#optimize_attribute"><code>optimize_attribute</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/54882">#54882</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="panic_runtime"><a class="header" href="#panic_runtime"><code>panic_runtime</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/32837">#32837</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="platform_intrinsics"><a class="header" href="#platform_intrinsics"><code>platform_intrinsics</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/27731">#27731</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="plugin"><a class="header" href="#plugin"><code>plugin</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/29597">#29597</a></p>
<p>This feature is part of &quot;compiler plugins.&quot; It will often be used with the
<code>rustc_private</code> feature.</p>
<hr />
<p><code>rustc</code> can load compiler plugins, which are user-provided libraries that
extend the compiler's behavior with new lint checks, etc.</p>
<p>A plugin is a dynamic library crate with a designated <em>registrar</em> function that
registers extensions with <code>rustc</code>. Other crates can load these extensions using
the crate attribute <code>#![plugin(...)]</code>.  See the
<code>rustc_driver::plugin</code> documentation for more about the
mechanics of defining and loading a plugin.</p>
<p>In the vast majority of cases, a plugin should <em>only</em> be used through
<code>#![plugin]</code> and not through an <code>extern crate</code> item.  Linking a plugin would
pull in all of librustc_ast and librustc as dependencies of your crate.  This is
generally unwanted unless you are building another plugin.</p>
<p>The usual practice is to put compiler plugins in their own crate, separate from
any <code>macro_rules!</code> macros or ordinary Rust code meant to be used by consumers
of a library.</p>
<h1 id="lint-plugins"><a class="header" href="#lint-plugins">Lint plugins</a></h1>
<p>Plugins can extend <a href="language-features/../../reference/attributes/diagnostics.html#lint-check-attributes">Rust's lint
infrastructure</a> with
additional checks for code style, safety, etc. Now let's write a plugin
<a href="https://github.com/rust-lang/rust/blob/master/src/test/ui-fulldeps/auxiliary/lint-plugin-test.rs"><code>lint-plugin-test.rs</code></a>
that warns about any item named <code>lintme</code>.</p>
<pre><code class="language-rust ignore (requires-stage-2)">#![feature(box_syntax, rustc_private)]

extern crate rustc_ast;

// Load rustc as a plugin to get macros
extern crate rustc_driver;
#[macro_use]
extern crate rustc_lint;
#[macro_use]
extern crate rustc_session;

use rustc_driver::plugin::Registry;
use rustc_lint::{EarlyContext, EarlyLintPass, LintArray, LintContext, LintPass};
use rustc_ast::ast;
declare_lint!(TEST_LINT, Warn, &quot;Warn about items named 'lintme'&quot;);

declare_lint_pass!(Pass =&gt; [TEST_LINT]);

impl EarlyLintPass for Pass {
    fn check_item(&amp;mut self, cx: &amp;EarlyContext, it: &amp;ast::Item) {
        if it.ident.name.as_str() == &quot;lintme&quot; {
            cx.lint(TEST_LINT, |lint| {
                lint.build(&quot;item is named 'lintme'&quot;).set_span(it.span).emit()
            });
        }
    }
}

#[no_mangle]
fn __rustc_plugin_registrar(reg: &amp;mut Registry) {
    reg.lint_store.register_lints(&amp;[&amp;TEST_LINT]);
    reg.lint_store.register_early_pass(|| box Pass);
}
</code></pre>
<p>Then code like</p>
<pre><code class="language-rust ignore (requires-plugin)">#![feature(plugin)]
#![plugin(lint_plugin_test)]

fn lintme() { }
</code></pre>
<p>will produce a compiler warning:</p>
<pre><code class="language-txt">foo.rs:4:1: 4:16 warning: item is named 'lintme', #[warn(test_lint)] on by default
foo.rs:4 fn lintme() { }
         ^~~~~~~~~~~~~~~
</code></pre>
<p>The components of a lint plugin are:</p>
<ul>
<li>
<p>one or more <code>declare_lint!</code> invocations, which define static <code>Lint</code> structs;</p>
</li>
<li>
<p>a struct holding any state needed by the lint pass (here, none);</p>
</li>
<li>
<p>a <code>LintPass</code>
implementation defining how to check each syntax element. A single
<code>LintPass</code> may call <code>span_lint</code> for several different <code>Lint</code>s, but should
register them all through the <code>get_lints</code> method.</p>
</li>
</ul>
<p>Lint passes are syntax traversals, but they run at a late stage of compilation
where type information is available. <code>rustc</code>'s <a href="https://github.com/rust-lang/rust/blob/master/src/librustc_session/lint/builtin.rs">built-in
lints</a>
mostly use the same infrastructure as lint plugins, and provide examples of how
to access type information.</p>
<p>Lints defined by plugins are controlled by the usual <a href="language-features/../../reference/attributes/diagnostics.html#lint-check-attributes">attributes and compiler
flags</a>, e.g.
<code>#[allow(test_lint)]</code> or <code>-A test-lint</code>. These identifiers are derived from the
first argument to <code>declare_lint!</code>, with appropriate case and punctuation
conversion.</p>
<p>You can run <code>rustc -W help foo.rs</code> to see a list of lints known to <code>rustc</code>,
including those provided by plugins loaded by <code>foo.rs</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="powerpc_target_feature"><a class="header" href="#powerpc_target_feature"><code>powerpc_target_feature</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44839">#44839</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="precise_pointer_size_matching"><a class="header" href="#precise_pointer_size_matching"><code>precise_pointer_size_matching</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/56354">#56354</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="prelude_import"><a class="header" href="#prelude_import"><code>prelude_import</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="proc_macro_hygiene"><a class="header" href="#proc_macro_hygiene"><code>proc_macro_hygiene</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/54727">#54727</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="profiler_runtime"><a class="header" href="#profiler_runtime"><code>profiler_runtime</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/42524">#42524</a>.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="raw_dylib"><a class="header" href="#raw_dylib"><code>raw_dylib</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/58713">#58713</a></p>
<hr />
<p>The <code>raw_dylib</code> feature allows you to link against the implementations of functions in an <code>extern</code>
block without, on Windows, linking against an import library.</p>
<pre><code class="language-rust ignore (partial-example)">#![feature(raw_dylib)]

#[link(name=&quot;library&quot;, kind=&quot;raw-dylib&quot;)]
extern {
    fn extern_function(x: i32);
}

fn main() {
    unsafe {
        extern_function(14);
    }
}
</code></pre>
<h2 id="limitations"><a class="header" href="#limitations">Limitations</a></h2>
<p>Currently, this feature is only supported on <code>-windows-msvc</code> targets.  Non-Windows platforms don't have import
libraries, and an incompatibility between LLVM and the BFD linker means that it is not currently supported on
<code>-windows-gnu</code> targets.</p>
<p>On the <code>i686-pc-windows-msvc</code> target, this feature supports only the <code>cdecl</code>, <code>stdcall</code>, <code>system</code>, and <code>fastcall</code>
calling conventions.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="raw_ref_op"><a class="header" href="#raw_ref_op"><code>raw_ref_op</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/64490">#64490</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="register_attr"><a class="header" href="#register_attr"><code>register_attr</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/66080">#66080</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="register_tool"><a class="header" href="#register_tool"><code>register_tool</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/66079">#66079</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="relaxed_struct_unsize"><a class="header" href="#relaxed_struct_unsize"><code>relaxed_struct_unsize</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/81793">#81793</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="repr_simd"><a class="header" href="#repr_simd"><code>repr_simd</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/27731">#27731</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="repr128"><a class="header" href="#repr128"><code>repr128</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/56071">#56071</a></p>
<hr />
<p>The <code>repr128</code> feature adds support for <code>#[repr(u128)]</code> on <code>enum</code>s.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(repr128)]

<span class="boring">fn main() {
</span>#[repr(u128)]
enum Foo {
    Bar(u64),
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="riscv_target_feature"><a class="header" href="#riscv_target_feature"><code>riscv_target_feature</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44839">#44839</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="rtm_target_feature"><a class="header" href="#rtm_target_feature"><code>rtm_target_feature</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44839">#44839</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="rustc_allow_const_fn_unstable"><a class="header" href="#rustc_allow_const_fn_unstable"><code>rustc_allow_const_fn_unstable</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/69399">#69399</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="rustc_attrs"><a class="header" href="#rustc_attrs"><code>rustc_attrs</code></a></h1>
<p>This feature has no tracking issue, and is therefore internal to
the compiler, not being intended for general use.</p>
<p>Note: <code>rustc_attrs</code> enables many rustc-internal attributes and this page
only discuss a few of them.</p>
<hr />
<p>The <code>rustc_attrs</code> feature allows debugging rustc type layouts by using
<code>#[rustc_layout(...)]</code> to debug layout at compile time (it even works
with <code>cargo check</code>) as an alternative to <code>rustc -Z print-type-sizes</code>
that is way more verbose.</p>
<p>Options provided by <code>#[rustc_layout(...)]</code> are <code>debug</code>, <code>size</code>, <code>align</code>,
<code>abi</code>. Note that it only works on sized types without generics.</p>
<h2 id="examples-10"><a class="header" href="#examples-10">Examples</a></h2>
<pre><pre class="playground"><code class="language-rust compile_fail">
<span class="boring">#![allow(unused)]
</span>#![feature(rustc_attrs)]

<span class="boring">fn main() {
</span>#[rustc_layout(abi, size)]
pub enum X {
    Y(u8, u8, u8),
    Z(isize),
}
<span class="boring">}
</span></code></pre></pre>
<p>When that is compiled, the compiler will error with something like</p>
<pre><code class="language-text">error: abi: Aggregate { sized: true }
 --&gt; src/lib.rs:4:1
  |
4 | / pub enum T {
5 | |     Y(u8, u8, u8),
6 | |     Z(isize),
7 | | }
  | |_^

error: size: Size { raw: 16 }
 --&gt; src/lib.rs:4:1
  |
4 | / pub enum T {
5 | |     Y(u8, u8, u8),
6 | |     Z(isize),
7 | | }
  | |_^

error: aborting due to 2 previous errors
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rustc_private"><a class="header" href="#rustc_private"><code>rustc_private</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/27812">#27812</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="simd_ffi"><a class="header" href="#simd_ffi"><code>simd_ffi</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/27731">#27731</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="specialization"><a class="header" href="#specialization"><code>specialization</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/31844">#31844</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="sse4a_target_feature"><a class="header" href="#sse4a_target_feature"><code>sse4a_target_feature</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44839">#44839</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="staged_api"><a class="header" href="#staged_api"><code>staged_api</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="start"><a class="header" href="#start"><code>start</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/29633">#29633</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="static_nobundle"><a class="header" href="#static_nobundle"><code>static_nobundle</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/37403">#37403</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="stmt_expr_attributes"><a class="header" href="#stmt_expr_attributes"><code>stmt_expr_attributes</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/15701">#15701</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="structural_match"><a class="header" href="#structural_match"><code>structural_match</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/31434">#31434</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="target_feature_11"><a class="header" href="#target_feature_11"><code>target_feature_11</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/69098">#69098</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="tbm_target_feature"><a class="header" href="#tbm_target_feature"><code>tbm_target_feature</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44839">#44839</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="test_2018_feature"><a class="header" href="#test_2018_feature"><code>test_2018_feature</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="thread_local"><a class="header" href="#thread_local"><code>thread_local</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/29594">#29594</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="trait_alias"><a class="header" href="#trait_alias"><code>trait_alias</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/41517">#41517</a></p>
<hr />
<p>The <code>trait_alias</code> feature adds support for trait aliases. These allow aliases
to be created for one or more traits (currently just a single regular trait plus
any number of auto-traits), and used wherever traits would normally be used as
either bounds or trait objects.</p>
<pre><pre class="playground"><code class="language-rust">#![feature(trait_alias)]

trait Foo = std::fmt::Debug + Send;
trait Bar = Foo + Sync;

// Use trait alias as bound on type parameter.
fn foo&lt;T: Foo&gt;(v: &amp;T) {
    println!(&quot;{:?}&quot;, v);
}

pub fn main() {
    foo(&amp;1);

    // Use trait alias for trait objects.
    let a: &amp;Bar = &amp;123;
    println!(&quot;{:?}&quot;, a);
    let b = Box::new(456) as Box&lt;dyn Foo&gt;;
    println!(&quot;{:?}&quot;, b);
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="trait_upcasting"><a class="header" href="#trait_upcasting"><code>trait_upcasting</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/65991">#65991</a></p>
<hr />
<p>The <code>trait_upcasting</code> feature adds support for trait upcasting coercion. This allows a
trait object of type <code>dyn Bar</code> to be cast to a trait object of type <code>dyn Foo</code>
so long as <code>Bar: Foo</code>.</p>
<pre><pre class="playground"><code class="language-rust edition2018">
<span class="boring">#![allow(unused)]
</span>#![feature(trait_upcasting)]
#![allow(incomplete_features)]

<span class="boring">fn main() {
</span>trait Foo {}

trait Bar: Foo {}

impl Foo for i32 {}

impl&lt;T: Foo + ?Sized&gt; Bar for T {}

let bar: &amp;dyn Bar = &amp;123;
let foo: &amp;dyn Foo = bar;
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="transparent_unions"><a class="header" href="#transparent_unions"><code>transparent_unions</code></a></h1>
<p>The tracking issue for this feature is <a href="https://github.com/rust-lang/rust/issues/60405">#60405</a></p>
<hr />
<p>The <code>transparent_unions</code> feature allows you mark <code>union</code>s as
<code>#[repr(transparent)]</code>. A <code>union</code> may be <code>#[repr(transparent)]</code> in exactly the
same conditions in which a <code>struct</code> may be <code>#[repr(transparent)]</code> (generally,
this means the <code>union</code> must have exactly one non-zero-sized field). Some
concrete illustrations follow.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(transparent_unions)]

<span class="boring">fn main() {
</span>// This union has the same representation as `f32`.
#[repr(transparent)]
union SingleFieldUnion {
    field: f32,
}

// This union has the same representation as `usize`.
#[repr(transparent)]
union MultiFieldUnion {
    field: usize,
    nothing: (),
}
<span class="boring">}
</span></code></pre></pre>
<p>For consistency with transparent <code>struct</code>s, <code>union</code>s must have exactly one
non-zero-sized field. If all fields are zero-sized, the <code>union</code> must not be
<code>#[repr(transparent)]</code>:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(transparent_unions)]

<span class="boring">fn main() {
</span>// This (non-transparent) union is already valid in stable Rust:
pub union GoodUnion {
    pub nothing: (),
}

// Error: transparent union needs exactly one non-zero-sized field, but has 0
// #[repr(transparent)]
// pub union BadUnion {
//     pub nothing: (),
// }
<span class="boring">}
</span></code></pre></pre>
<p>The one exception is if the <code>union</code> is generic over <code>T</code> and has a field of type
<code>T</code>, it may be <code>#[repr(transparent)]</code> even if <code>T</code> is a zero-sized type:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span>#![feature(transparent_unions)]

<span class="boring">fn main() {
</span>// This union has the same representation as `T`.
#[repr(transparent)]
pub union GenericUnion&lt;T: Copy&gt; { // Unions with non-`Copy` fields are unstable.
    pub field: T,
    pub nothing: (),
}

// This is okay even though `()` is a zero-sized type.
pub const THIS_IS_OKAY: GenericUnion&lt;()&gt; = GenericUnion { field: () };
<span class="boring">}
</span></code></pre></pre>
<p>Like transarent <code>struct</code>s, a transparent <code>union</code> of type <code>U</code> has the same
layout, size, and ABI as its single non-ZST field. If it is generic over a type
<code>T</code>, and all its fields are ZSTs except for exactly one field of type <code>T</code>, then
it has the same layout and ABI as <code>T</code> (even if <code>T</code> is a ZST when monomorphized).</p>
<p>Like transparent <code>struct</code>s, transparent <code>union</code>s are FFI-safe if and only if
their underlying representation type is also FFI-safe.</p>
<p>A <code>union</code> may not be eligible for the same nonnull-style optimizations that a
<code>struct</code> or <code>enum</code> (with the same fields) are eligible for. Adding
<code>#[repr(transparent)]</code> to  <code>union</code> does not change this. To give a more concrete
example, it is unspecified whether <code>size_of::&lt;T&gt;()</code> is equal to
<code>size_of::&lt;Option&lt;T&gt;&gt;()</code>, where <code>T</code> is a <code>union</code> (regardless of whether or not
it is transparent). The Rust compiler is free to perform this optimization if
possible, but is not required to, and different compiler versions may differ in
their application of these optimizations.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="trivial_bounds"><a class="header" href="#trivial_bounds"><code>trivial_bounds</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/48214">#48214</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="try_blocks"><a class="header" href="#try_blocks"><code>try_blocks</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/31436">#31436</a></p>
<hr />
<p>The <code>try_blocks</code> feature adds support for <code>try</code> blocks. A <code>try</code>
block creates a new scope one can use the <code>?</code> operator in.</p>
<pre><pre class="playground"><code class="language-rust edition2018">
<span class="boring">#![allow(unused)]
</span>#![feature(try_blocks)]

<span class="boring">fn main() {
</span>use std::num::ParseIntError;

let result: Result&lt;i32, ParseIntError&gt; = try {
    &quot;1&quot;.parse::&lt;i32&gt;()?
        + &quot;2&quot;.parse::&lt;i32&gt;()?
        + &quot;3&quot;.parse::&lt;i32&gt;()?
};
assert_eq!(result, Ok(6));

let result: Result&lt;i32, ParseIntError&gt; = try {
    &quot;1&quot;.parse::&lt;i32&gt;()?
        + &quot;foo&quot;.parse::&lt;i32&gt;()?
        + &quot;3&quot;.parse::&lt;i32&gt;()?
};
assert!(result.is_err());
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="type_alias_impl_trait"><a class="header" href="#type_alias_impl_trait"><code>type_alias_impl_trait</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/63063">#63063</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="type_ascription"><a class="header" href="#type_ascription"><code>type_ascription</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/23416">#23416</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="unboxed_closures"><a class="header" href="#unboxed_closures"><code>unboxed_closures</code></a></h1>
<p>The tracking issue for this feature is <a href="https://github.com/rust-lang/rust/issues/29625">#29625</a></p>
<p>See Also: <a href="language-features/../library-features/fn-traits.html"><code>fn_traits</code></a></p>
<hr />
<p>The <code>unboxed_closures</code> feature allows you to write functions using the <code>&quot;rust-call&quot;</code> ABI,
required for implementing the <a href="https://doc.rust-lang.org/std/ops/trait.Fn.html"><code>Fn*</code></a> family of traits. <code>&quot;rust-call&quot;</code> functions must have
exactly one (non self) argument, a tuple representing the argument list.</p>
<pre><pre class="playground"><code class="language-rust">#![feature(unboxed_closures)]

extern &quot;rust-call&quot; fn add_args(args: (u32, u32)) -&gt; u32 {
    args.0 + args.1
}

fn main() {}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="unnamed_fields"><a class="header" href="#unnamed_fields"><code>unnamed_fields</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/49804">#49804</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="unsized_fn_params"><a class="header" href="#unsized_fn_params"><code>unsized_fn_params</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/48055">#48055</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="unsized_locals"><a class="header" href="#unsized_locals"><code>unsized_locals</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/48055">#48055</a></p>
<hr />
<p>This implements <a href="https://github.com/rust-lang/rfcs/blob/master/text/1909-unsized-rvalues.md">RFC1909</a>. When turned on, you can have unsized arguments and locals:</p>
<pre><pre class="playground"><code class="language-rust">#![allow(incomplete_features)]
#![feature(unsized_locals, unsized_fn_params)]

use std::any::Any;

fn main() {
    let x: Box&lt;dyn Any&gt; = Box::new(42);
    let x: dyn Any = *x;
    //  ^ unsized local variable
    //               ^^ unsized temporary
    foo(x);
}

fn foo(_: dyn Any) {}
//     ^^^^^^ unsized argument
</code></pre></pre>
<p>The RFC still forbids the following unsized expressions:</p>
<pre><pre class="playground"><code class="language-rust compile_fail">#![feature(unsized_locals)]

use std::any::Any;

struct MyStruct&lt;T: ?Sized&gt; {
    content: T,
}

struct MyTupleStruct&lt;T: ?Sized&gt;(T);

fn answer() -&gt; Box&lt;dyn Any&gt; {
    Box::new(42)
}

fn main() {
    // You CANNOT have unsized statics.
    static X: dyn Any = *answer();  // ERROR
    const Y: dyn Any = *answer();  // ERROR

    // You CANNOT have struct initialized unsized.
    MyStruct { content: *answer() };  // ERROR
    MyTupleStruct(*answer());  // ERROR
    (42, *answer());  // ERROR

    // You CANNOT have unsized return types.
    fn my_function() -&gt; dyn Any { *answer() }  // ERROR

    // You CAN have unsized local variables...
    let mut x: dyn Any = *answer();  // OK
    // ...but you CANNOT reassign to them.
    x = *answer();  // ERROR

    // You CANNOT even initialize them separately.
    let y: dyn Any;  // OK
    y = *answer();  // ERROR

    // Not mentioned in the RFC, but by-move captured variables are also Sized.
    let x: dyn Any = *answer();
    (move || {  // ERROR
        let y = x;
    })();

    // You CAN create a closure with unsized arguments,
    // but you CANNOT call it.
    // This is an implementation detail and may be changed in the future.
    let f = |x: dyn Any| {};
    f(*answer());  // ERROR
}
</code></pre></pre>
<h2 id="by-value-trait-objects"><a class="header" href="#by-value-trait-objects">By-value trait objects</a></h2>
<p>With this feature, you can have by-value <code>self</code> arguments without <code>Self: Sized</code> bounds.</p>
<pre><pre class="playground"><code class="language-rust">#![feature(unsized_fn_params)]

trait Foo {
    fn foo(self) {}
}

impl&lt;T: ?Sized&gt; Foo for T {}

fn main() {
    let slice: Box&lt;[i32]&gt; = Box::new([1, 2, 3]);
    &lt;[i32] as Foo&gt;::foo(*slice);
}
</code></pre></pre>
<p>And <code>Foo</code> will also be object-safe.</p>
<pre><pre class="playground"><code class="language-rust">#![feature(unsized_fn_params)]

trait Foo {
    fn foo(self) {}
}

impl&lt;T: ?Sized&gt; Foo for T {}

fn main () {
    let slice: Box&lt;dyn Foo&gt; = Box::new([1, 2, 3]);
    // doesn't compile yet
    &lt;dyn Foo as Foo&gt;::foo(*slice);
}
</code></pre></pre>
<p>One of the objectives of this feature is to allow <code>Box&lt;dyn FnOnce&gt;</code>.</p>
<h2 id="variable-length-arrays"><a class="header" href="#variable-length-arrays">Variable length arrays</a></h2>
<p>The RFC also describes an extension to the array literal syntax: <code>[e; dyn n]</code>. In the syntax, <code>n</code> isn't necessarily a constant expression. The array is dynamically allocated on the stack and has the type of <code>[T]</code>, instead of <code>[T; n]</code>.</p>
<pre><code class="language-rust ignore (not-yet-implemented)">#![feature(unsized_locals)]

fn mergesort&lt;T: Ord&gt;(a: &amp;mut [T]) {
    let mut tmp = [T; dyn a.len()];
    // ...
}

fn main() {
    let mut a = [3, 1, 5, 6];
    mergesort(&amp;mut a);
    assert_eq!(a, [1, 3, 5, 6]);
}
</code></pre>
<p>VLAs are not implemented yet. The syntax isn't final, either. We may need an alternative syntax for Rust 2015 because, in Rust 2015, expressions like <code>[e; dyn(1)]</code> would be ambiguous. One possible alternative proposed in the RFC is <code>[e; n]</code>: if <code>n</code> captures one or more local variables, then it is considered as <code>[e; dyn n]</code>.</p>
<h2 id="advisory-on-stack-usage"><a class="header" href="#advisory-on-stack-usage">Advisory on stack usage</a></h2>
<p>It's advised not to casually use the <code>#![feature(unsized_locals)]</code> feature. Typical use-cases are:</p>
<ul>
<li>When you need a by-value trait objects.</li>
<li>When you really need a fast allocation of small temporary arrays.</li>
</ul>
<p>Another pitfall is repetitive allocation and temporaries. Currently the compiler simply extends the stack frame every time it encounters an unsized assignment. So for example, the code</p>
<pre><pre class="playground"><code class="language-rust">#![feature(unsized_locals)]

fn main() {
    let x: Box&lt;[i32]&gt; = Box::new([1, 2, 3, 4, 5]);
    let _x = {{{{{{{{{{*x}}}}}}}}}};
}
</code></pre></pre>
<p>and the code</p>
<pre><pre class="playground"><code class="language-rust">#![feature(unsized_locals)]

fn main() {
    for _ in 0..10 {
        let x: Box&lt;[i32]&gt; = Box::new([1, 2, 3, 4, 5]);
        let _x = *x;
    }
}
</code></pre></pre>
<p>will unnecessarily extend the stack frame.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="unsized_tuple_coercion"><a class="header" href="#unsized_tuple_coercion"><code>unsized_tuple_coercion</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/42877">#42877</a></p>
<hr />
<p>This is a part of <a href="https://github.com/rust-lang/rfcs/blob/master/text/0401-coercions.md">RFC0401</a>. According to the RFC, there should be an implementation like this:</p>
<pre><code class="language-rust ignore (partial-example)">impl&lt;..., T, U: ?Sized&gt; Unsized&lt;(..., U)&gt; for (..., T) where T: Unsized&lt;U&gt; {}
</code></pre>
<p>This implementation is currently gated behind <code>#[feature(unsized_tuple_coercion)]</code> to avoid insta-stability. Therefore you can use it like this:</p>
<pre><pre class="playground"><code class="language-rust">#![feature(unsized_tuple_coercion)]

fn main() {
    let x : ([i32; 3], [i32; 3]) = ([1, 2, 3], [4, 5, 6]);
    let y : &amp;([i32; 3], [i32]) = &amp;x;
    assert_eq!(y.1[0], 4);
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="untagged_unions"><a class="header" href="#untagged_unions"><code>untagged_unions</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/55149">#55149</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="wasm_abi"><a class="header" href="#wasm_abi"><code>wasm_abi</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/83788">#83788</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="wasm_target_feature"><a class="header" href="#wasm_target_feature"><code>wasm_target_feature</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44839">#44839</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="library-features"><a class="header" href="#library-features">Library Features</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="alloc_error_hook"><a class="header" href="#alloc_error_hook"><code>alloc_error_hook</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/51245">#51245</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="alloc_internals"><a class="header" href="#alloc_internals"><code>alloc_internals</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="alloc_layout_extra"><a class="header" href="#alloc_layout_extra"><code>alloc_layout_extra</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/55724">#55724</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="alloc_prelude"><a class="header" href="#alloc_prelude"><code>alloc_prelude</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/58935">#58935</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="allocator_api"><a class="header" href="#allocator_api"><code>allocator_api</code></a></h1>
<p>The tracking issue for this feature is <a href="https://github.com/rust-lang/rust/issues/32838">#32838</a></p>
<hr />
<p>Sometimes you want the memory for one collection to use a different
allocator than the memory for another collection. In this case,
replacing the global allocator is not a workable option. Instead,
you need to pass in an instance of an <code>AllocRef</code> to each collection
for which you want a custom allocator.</p>
<p>TBD</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="arc_new_cyclic"><a class="header" href="#arc_new_cyclic"><code>arc_new_cyclic</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/75861">#75861</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="array_chunks"><a class="header" href="#array_chunks"><code>array_chunks</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/74985">#74985</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="array_error_internals"><a class="header" href="#array_error_internals"><code>array_error_internals</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="array_methods"><a class="header" href="#array_methods"><code>array_methods</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/76118">#76118</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="array_windows"><a class="header" href="#array_windows"><code>array_windows</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/75027">#75027</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="array_zip"><a class="header" href="#array_zip"><code>array_zip</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/80094">#80094</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="asm"><a class="header" href="#asm"><code>asm</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/72016">#72016</a></p>
<hr />
<p>For extremely low-level manipulations and performance reasons, one
might wish to control the CPU directly. Rust supports using inline
assembly to do this via the <code>asm!</code> macro.</p>
<h1 id="guide-level-explanation"><a class="header" href="#guide-level-explanation">Guide-level explanation</a></h1>
<p>Rust provides support for inline assembly via the <code>asm!</code> macro.
It can be used to embed handwritten assembly in the assembly output generated by the compiler.
Generally this should not be necessary, but might be where the required performance or timing
cannot be otherwise achieved. Accessing low level hardware primitives, e.g. in kernel code, may also demand this functionality.</p>
<blockquote>
<p><strong>Note</strong>: the examples here are given in x86/x86-64 assembly, but other architectures are also supported.</p>
</blockquote>
<p>Inline assembly is currently supported on the following architectures:</p>
<ul>
<li>x86 and x86-64</li>
<li>ARM</li>
<li>AArch64</li>
<li>RISC-V</li>
<li>NVPTX</li>
<li>PowerPC</li>
<li>Hexagon</li>
<li>MIPS32r2 and MIPS64r2</li>
<li>wasm32</li>
<li>BPF</li>
</ul>
<h2 id="basic-usage"><a class="header" href="#basic-usage">Basic usage</a></h2>
<p>Let us start with the simplest possible example:</p>
<pre><pre class="playground"><code class="language-rust allow_fail">
<span class="boring">#![allow(unused)]
</span>#![feature(asm)]
<span class="boring">fn main() {
</span>unsafe {
    asm!(&quot;nop&quot;);
}
<span class="boring">}
</span></code></pre></pre>
<p>This will insert a NOP (no operation) instruction into the assembly generated by the compiler.
Note that all <code>asm!</code> invocations have to be inside an <code>unsafe</code> block, as they could insert
arbitrary instructions and break various invariants. The instructions to be inserted are listed
in the first argument of the <code>asm!</code> macro as a string literal.</p>
<h2 id="inputs-and-outputs"><a class="header" href="#inputs-and-outputs">Inputs and outputs</a></h2>
<p>Now inserting an instruction that does nothing is rather boring. Let us do something that
actually acts on data:</p>
<pre><pre class="playground"><code class="language-rust allow_fail">
<span class="boring">#![allow(unused)]
</span>#![feature(asm)]
<span class="boring">fn main() {
</span>let x: u64;
unsafe {
    asm!(&quot;mov {}, 5&quot;, out(reg) x);
}
assert_eq!(x, 5);
<span class="boring">}
</span></code></pre></pre>
<p>This will write the value <code>5</code> into the <code>u64</code> variable <code>x</code>.
You can see that the string literal we use to specify instructions is actually a template string.
It is governed by the same rules as Rust <a href="https://doc.rust-lang.org/std/fmt/#syntax">format strings</a>.
The arguments that are inserted into the template however look a bit different then you may
be familiar with. First we need to specify if the variable is an input or an output of the
inline assembly. In this case it is an output. We declared this by writing <code>out</code>.
We also need to specify in what kind of register the assembly expects the variable.
In this case we put it in an arbitrary general purpose register by specifying <code>reg</code>.
The compiler will choose an appropriate register to insert into
the template and will read the variable from there after the inline assembly finishes executing.</p>
<p>Let us see another example that also uses an input:</p>
<pre><pre class="playground"><code class="language-rust allow_fail">
<span class="boring">#![allow(unused)]
</span>#![feature(asm)]
<span class="boring">fn main() {
</span>let i: u64 = 3;
let o: u64;
unsafe {
    asm!(
        &quot;mov {0}, {1}&quot;,
        &quot;add {0}, {number}&quot;,
        out(reg) o,
        in(reg) i,
        number = const 5,
    );
}
assert_eq!(o, 8);
<span class="boring">}
</span></code></pre></pre>
<p>This will add <code>5</code> to the input in variable <code>i</code> and write the result to variable <code>o</code>.
The particular way this assembly does this is first copying the value from <code>i</code> to the output,
and then adding <code>5</code> to it.</p>
<p>The example shows a few things:</p>
<p>First, we can see that <code>asm!</code> allows multiple template string arguments; each
one is treated as a separate line of assembly code, as if they were all joined
together with newlines between them. This makes it easy to format assembly
code.</p>
<p>Second, we can see that inputs are declared by writing <code>in</code> instead of <code>out</code>.</p>
<p>Third, one of our operands has a type we haven't seen yet, <code>const</code>.
This tells the compiler to expand this argument to value directly inside the assembly template.
This is only possible for constants and literals.</p>
<p>Fourth, we can see that we can specify an argument number, or name as in any format string.
For inline assembly templates this is particularly useful as arguments are often used more than once.
For more complex inline assembly using this facility is generally recommended, as it improves
readability, and allows reordering instructions without changing the argument order.</p>
<p>We can further refine the above example to avoid the <code>mov</code> instruction:</p>
<pre><pre class="playground"><code class="language-rust allow_fail">
<span class="boring">#![allow(unused)]
</span>#![feature(asm)]
<span class="boring">fn main() {
</span>let mut x: u64 = 3;
unsafe {
    asm!(&quot;add {0}, {number}&quot;, inout(reg) x, number = const 5);
}
assert_eq!(x, 8);
<span class="boring">}
</span></code></pre></pre>
<p>We can see that <code>inout</code> is used to specify an argument that is both input and output.
This is different from specifying an input and output separately in that it is guaranteed to assign both to the same register.</p>
<p>It is also possible to specify different variables for the input and output parts of an <code>inout</code> operand:</p>
<pre><pre class="playground"><code class="language-rust allow_fail">
<span class="boring">#![allow(unused)]
</span>#![feature(asm)]
<span class="boring">fn main() {
</span>let x: u64 = 3;
let y: u64;
unsafe {
    asm!(&quot;add {0}, {number}&quot;, inout(reg) x =&gt; y, number = const 5);
}
assert_eq!(y, 8);
<span class="boring">}
</span></code></pre></pre>
<h2 id="late-output-operands"><a class="header" href="#late-output-operands">Late output operands</a></h2>
<p>The Rust compiler is conservative with its allocation of operands. It is assumed that an <code>out</code>
can be written at any time, and can therefore not share its location with any other argument.
However, to guarantee optimal performance it is important to use as few registers as possible,
so they won't have to be saved and reloaded around the inline assembly block.
To achieve this Rust provides a <code>lateout</code> specifier. This can be used on any output that is
written only after all inputs have been consumed.
There is also a <code>inlateout</code> variant of this specifier.</p>
<p>Here is an example where <code>inlateout</code> <em>cannot</em> be used:</p>
<pre><pre class="playground"><code class="language-rust allow_fail">
<span class="boring">#![allow(unused)]
</span>#![feature(asm)]
<span class="boring">fn main() {
</span>let mut a: u64 = 4;
let b: u64 = 4;
let c: u64 = 4;
unsafe {
    asm!(
        &quot;add {0}, {1}&quot;,
        &quot;add {0}, {2}&quot;,
        inout(reg) a,
        in(reg) b,
        in(reg) c,
    );
}
assert_eq!(a, 12);
<span class="boring">}
</span></code></pre></pre>
<p>Here the compiler is free to allocate the same register for inputs <code>b</code> and <code>c</code> since it knows they have the same value. However it must allocate a separate register for <code>a</code> since it uses <code>inout</code> and not <code>inlateout</code>. If <code>inlateout</code> was used, then <code>a</code> and <code>c</code> could be allocated to the same register, in which case the first instruction to overwrite the value of <code>c</code> and cause the assembly code to produce the wrong result.</p>
<p>However the following example can use <code>inlateout</code> since the output is only modified after all input registers have been read:</p>
<pre><pre class="playground"><code class="language-rust allow_fail">
<span class="boring">#![allow(unused)]
</span>#![feature(asm)]
<span class="boring">fn main() {
</span>let mut a: u64 = 4;
let b: u64 = 4;
unsafe {
    asm!(&quot;add {0}, {1}&quot;, inlateout(reg) a, in(reg) b);
}
assert_eq!(a, 8);
<span class="boring">}
</span></code></pre></pre>
<p>As you can see, this assembly fragment will still work correctly if <code>a</code> and <code>b</code> are assigned to the same register.</p>
<h2 id="explicit-register-operands"><a class="header" href="#explicit-register-operands">Explicit register operands</a></h2>
<p>Some instructions require that the operands be in a specific register.
Therefore, Rust inline assembly provides some more specific constraint specifiers.
While <code>reg</code> is generally available on any architecture, these are highly architecture specific. E.g. for x86 the general purpose registers <code>eax</code>, <code>ebx</code>, <code>ecx</code>, <code>edx</code>, <code>ebp</code>, <code>esi</code>, and <code>edi</code>
among others can be addressed by their name.</p>
<pre><pre class="playground"><code class="language-rust allow_fail no_run">
<span class="boring">#![allow(unused)]
</span>#![feature(asm)]
<span class="boring">fn main() {
</span>let cmd = 0xd1;
unsafe {
    asm!(&quot;out 0x64, eax&quot;, in(&quot;eax&quot;) cmd);
}
<span class="boring">}
</span></code></pre></pre>
<p>In this example we call the <code>out</code> instruction to output the content of the <code>cmd</code> variable
to port <code>0x64</code>. Since the <code>out</code> instruction only accepts <code>eax</code> (and its sub registers) as operand
we had to use the <code>eax</code> constraint specifier.</p>
<p>Note that unlike other operand types, explicit register operands cannot be used in the template string: you can't use <code>{}</code> and should write the register name directly instead. Also, they must appear at the end of the operand list after all other operand types.</p>
<p>Consider this example which uses the x86 <code>mul</code> instruction:</p>
<pre><pre class="playground"><code class="language-rust allow_fail">
<span class="boring">#![allow(unused)]
</span>#![feature(asm)]
<span class="boring">fn main() {
</span>fn mul(a: u64, b: u64) -&gt; u128 {
    let lo: u64;
    let hi: u64;

    unsafe {
        asm!(
            // The x86 mul instruction takes rax as an implicit input and writes
            // the 128-bit result of the multiplication to rax:rdx.
            &quot;mul {}&quot;,
            in(reg) a,
            inlateout(&quot;rax&quot;) b =&gt; lo,
            lateout(&quot;rdx&quot;) hi
        );
    }

    ((hi as u128) &lt;&lt; 64) + lo as u128
}
<span class="boring">}
</span></code></pre></pre>
<p>This uses the <code>mul</code> instruction to multiply two 64-bit inputs with a 128-bit result.
The only explicit operand is a register, that we fill from the variable <code>a</code>.
The second operand is implicit, and must be the <code>rax</code> register, which we fill from the variable <code>b</code>.
The lower 64 bits of the result are stored in <code>rax</code> from which we fill the variable <code>lo</code>.
The higher 64 bits are stored in <code>rdx</code> from which we fill the variable <code>hi</code>.</p>
<h2 id="clobbered-registers"><a class="header" href="#clobbered-registers">Clobbered registers</a></h2>
<p>In many cases inline assembly will modify state that is not needed as an output.
Usually this is either because we have to use a scratch register in the assembly,
or instructions modify state that we don't need to further examine.
This state is generally referred to as being &quot;clobbered&quot;.
We need to tell the compiler about this since it may need to save and restore this state
around the inline assembly block.</p>
<pre><pre class="playground"><code class="language-rust allow_fail">
<span class="boring">#![allow(unused)]
</span>#![feature(asm)]
<span class="boring">fn main() {
</span>let ebx: u32;
let ecx: u32;

unsafe {
    asm!(
        &quot;cpuid&quot;,
        // EAX 4 selects the &quot;Deterministic Cache Parameters&quot; CPUID leaf
        inout(&quot;eax&quot;) 4 =&gt; _,
        // ECX 0 selects the L0 cache information.
        inout(&quot;ecx&quot;) 0 =&gt; ecx,
        lateout(&quot;ebx&quot;) ebx,
        lateout(&quot;edx&quot;) _,
    );
}

println!(
    &quot;L1 Cache: {}&quot;,
    ((ebx &gt;&gt; 22) + 1) * (((ebx &gt;&gt; 12) &amp; 0x3ff) + 1) * ((ebx &amp; 0xfff) + 1) * (ecx + 1)
);
<span class="boring">}
</span></code></pre></pre>
<p>In the example above we use the <code>cpuid</code> instruction to get the L1 cache size.
This instruction writes to <code>eax</code>, <code>ebx</code>, <code>ecx</code>, and <code>edx</code>, but for the cache size we only care about the contents of <code>ebx</code> and <code>ecx</code>.</p>
<p>However we still need to tell the compiler that <code>eax</code> and <code>edx</code> have been modified so that it can save any values that were in these registers before the asm. This is done by declaring these as outputs but with <code>_</code> instead of a variable name, which indicates that the output value is to be discarded.</p>
<p>This can also be used with a general register class (e.g. <code>reg</code>) to obtain a scratch register for use inside the asm code:</p>
<pre><pre class="playground"><code class="language-rust allow_fail">
<span class="boring">#![allow(unused)]
</span>#![feature(asm)]
<span class="boring">fn main() {
</span>// Multiply x by 6 using shifts and adds
let mut x: u64 = 4;
unsafe {
    asm!(
        &quot;mov {tmp}, {x}&quot;,
        &quot;shl {tmp}, 1&quot;,
        &quot;shl {x}, 2&quot;,
        &quot;add {x}, {tmp}&quot;,
        x = inout(reg) x,
        tmp = out(reg) _,
    );
}
assert_eq!(x, 4 * 6);
<span class="boring">}
</span></code></pre></pre>
<h2 id="symbol-operands"><a class="header" href="#symbol-operands">Symbol operands</a></h2>
<p>A special operand type, <code>sym</code>, allows you to use the symbol name of a <code>fn</code> or <code>static</code> in inline assembly code.
This allows you to call a function or access a global variable without needing to keep its address in a register.</p>
<pre><pre class="playground"><code class="language-rust allow_fail">
<span class="boring">#![allow(unused)]
</span>#![feature(asm)]
<span class="boring">fn main() {
</span>extern &quot;C&quot; fn foo(arg: i32) {
    println!(&quot;arg = {}&quot;, arg);
}

fn call_foo(arg: i32) {
    unsafe {
        asm!(
            &quot;call {}&quot;,
            sym foo,
            // 1st argument in rdi, which is caller-saved
            inout(&quot;rdi&quot;) arg =&gt; _,
            // All caller-saved registers must be marked as clobbered
            out(&quot;rax&quot;) _, out(&quot;rcx&quot;) _, out(&quot;rdx&quot;) _, out(&quot;rsi&quot;) _,
            out(&quot;r8&quot;) _, out(&quot;r9&quot;) _, out(&quot;r10&quot;) _, out(&quot;r11&quot;) _,
            out(&quot;xmm0&quot;) _, out(&quot;xmm1&quot;) _, out(&quot;xmm2&quot;) _, out(&quot;xmm3&quot;) _,
            out(&quot;xmm4&quot;) _, out(&quot;xmm5&quot;) _, out(&quot;xmm6&quot;) _, out(&quot;xmm7&quot;) _,
            out(&quot;xmm8&quot;) _, out(&quot;xmm9&quot;) _, out(&quot;xmm10&quot;) _, out(&quot;xmm11&quot;) _,
            out(&quot;xmm12&quot;) _, out(&quot;xmm13&quot;) _, out(&quot;xmm14&quot;) _, out(&quot;xmm15&quot;) _,
            // Also mark AVX-512 registers as clobbered. This is accepted by the
            // compiler even if AVX-512 is not enabled on the current target.
            out(&quot;xmm16&quot;) _, out(&quot;xmm17&quot;) _, out(&quot;xmm18&quot;) _, out(&quot;xmm19&quot;) _,
            out(&quot;xmm20&quot;) _, out(&quot;xmm21&quot;) _, out(&quot;xmm22&quot;) _, out(&quot;xmm23&quot;) _,
            out(&quot;xmm24&quot;) _, out(&quot;xmm25&quot;) _, out(&quot;xmm26&quot;) _, out(&quot;xmm27&quot;) _,
            out(&quot;xmm28&quot;) _, out(&quot;xmm29&quot;) _, out(&quot;xmm30&quot;) _, out(&quot;xmm31&quot;) _,
        )
    }
}
<span class="boring">}
</span></code></pre></pre>
<p>Note that the <code>fn</code> or <code>static</code> item does not need to be public or <code>#[no_mangle]</code>:
the compiler will automatically insert the appropriate mangled symbol name into the assembly code.</p>
<h2 id="register-template-modifiers"><a class="header" href="#register-template-modifiers">Register template modifiers</a></h2>
<p>In some cases, fine control is needed over the way a register name is formatted when inserted into the template string. This is needed when an architecture's assembly language has several names for the same register, each typically being a &quot;view&quot; over a subset of the register (e.g. the low 32 bits of a 64-bit register).</p>
<p>By default the compiler will always choose the name that refers to the full register size (e.g. <code>rax</code> on x86-64, <code>eax</code> on x86, etc).</p>
<p>This default can be overriden by using modifiers on the template string operands, just like you would with format strings:</p>
<pre><pre class="playground"><code class="language-rust allow_fail">
<span class="boring">#![allow(unused)]
</span>#![feature(asm)]
<span class="boring">fn main() {
</span>let mut x: u16 = 0xab;

unsafe {
    asm!(&quot;mov {0:h}, {0:l}&quot;, inout(reg_abcd) x);
}

assert_eq!(x, 0xabab);
<span class="boring">}
</span></code></pre></pre>
<p>In this example, we use the <code>reg_abcd</code> register class to restrict the register allocator to the 4 legacy x86 register (<code>ax</code>, <code>bx</code>, <code>cx</code>, <code>dx</code>) of which the first two bytes can be addressed independently.</p>
<p>Let us assume that the register allocator has chosen to allocate <code>x</code> in the <code>ax</code> register.
The <code>h</code> modifier will emit the register name for the high byte of that register and the <code>l</code> modifier will emit the register name for the low byte. The asm code will therefore be expanded as <code>mov ah, al</code> which copies the low byte of the value into the high byte.</p>
<p>If you use a smaller data type (e.g. <code>u16</code>) with an operand and forget the use template modifiers, the compiler will emit a warning and suggest the correct modifier to use.</p>
<h2 id="memory-address-operands"><a class="header" href="#memory-address-operands">Memory address operands</a></h2>
<p>Sometimes assembly instructions require operands passed via memory addresses/memory locations.
You have to manually use the memory address syntax specified by the respectively architectures.
For example, in x86/x86_64 and intel assembly syntax, you should wrap inputs/outputs in <code>[]</code>
to indicate they are memory operands:</p>
<pre><pre class="playground"><code class="language-rust allow_fail">
<span class="boring">#![allow(unused)]
</span>#![feature(asm, llvm_asm)]
<span class="boring">fn main() {
</span><span class="boring">fn load_fpu_control_word(control: u16) {
</span>unsafe {
    asm!(&quot;fldcw [{}]&quot;, in(reg) &amp;control, options(nostack));

    // Previously this would have been written with the deprecated `llvm_asm!` like this
    llvm_asm!(&quot;fldcw $0&quot; :: &quot;m&quot; (control) :: &quot;volatile&quot;);
}
<span class="boring">}
</span><span class="boring">}
</span></code></pre></pre>
<h2 id="labels"><a class="header" href="#labels">Labels</a></h2>
<p>The compiler is allowed to instantiate multiple copies an <code>asm!</code> block, for example when the function containing it is inlined in multiple places. As a consequence, you should only use GNU assembler <a href="https://sourceware.org/binutils/docs/as/Symbol-Names.html#Local-Labels">local labels</a> inside inline assembly code. Defining symbols in assembly code may lead to assembler and/or linker errors due to duplicate symbol definitions.</p>
<p>Moreover, due to <a href="https://bugs.llvm.org/show_bug.cgi?id=36144">an llvm bug</a>, you shouldn't use labels exclusively made of <code>0</code> and <code>1</code> digits, e.g. <code>0</code>, <code>11</code> or <code>101010</code>, as they may end up being interpreted as binary values.</p>
<pre><pre class="playground"><code class="language-rust allow_fail">
<span class="boring">#![allow(unused)]
</span>#![feature(asm)]

<span class="boring">fn main() {
</span>let mut a = 0;
unsafe {
    asm!(
        &quot;mov {0}, 10&quot;,
        &quot;2:&quot;,
        &quot;sub {0}, 1&quot;,
        &quot;cmp {0}, 3&quot;,
        &quot;jle 2f&quot;,
        &quot;jmp 2b&quot;,
        &quot;2:&quot;,
        &quot;add {0}, 2&quot;,
        out(reg) a
    );
}
assert_eq!(a, 5);
<span class="boring">}
</span></code></pre></pre>
<p>This will decrement the <code>{0}</code> register value from 10 to 3, then add 2 and store it in <code>a</code>.</p>
<p>This example shows a few things:</p>
<p>First that the same number can be used as a label multiple times in the same inline block.</p>
<p>Second, that when a numeric label is used as a reference (as an instruction operand, for example), the suffixes b (backward) or f (forward) should be added to the numeric label. It will then refer to the nearest label defined by this number in this direction.</p>
<h2 id="options"><a class="header" href="#options">Options</a></h2>
<p>By default, an inline assembly block is treated the same way as an external FFI function call with a custom calling convention: it may read/write memory, have observable side effects, etc. However in many cases, it is desirable to give the compiler more information about what the assembly code is actually doing so that it can optimize better.</p>
<p>Let's take our previous example of an <code>add</code> instruction:</p>
<pre><pre class="playground"><code class="language-rust allow_fail">
<span class="boring">#![allow(unused)]
</span>#![feature(asm)]
<span class="boring">fn main() {
</span>let mut a: u64 = 4;
let b: u64 = 4;
unsafe {
    asm!(
        &quot;add {0}, {1}&quot;,
        inlateout(reg) a, in(reg) b,
        options(pure, nomem, nostack),
    );
}
assert_eq!(a, 8);
<span class="boring">}
</span></code></pre></pre>
<p>Options can be provided as an optional final argument to the <code>asm!</code> macro. We specified three options here:</p>
<ul>
<li><code>pure</code> means that the asm code has no observable side effects and that its output depends only on its inputs. This allows the compiler optimizer to call the inline asm fewer times or even eliminate it entirely.</li>
<li><code>nomem</code> means that the asm code does not read or write to memory. By default the compiler will assume that inline assembly can read or write any memory address that is accessible to it (e.g. through a pointer passed as an operand, or a global).</li>
<li><code>nostack</code> means that the asm code does not push any data onto the stack. This allows the compiler to use optimizations such as the stack red zone on x86-64 to avoid stack pointer adjustments.</li>
</ul>
<p>These allow the compiler to better optimize code using <code>asm!</code>, for example by eliminating pure <code>asm!</code> blocks whose outputs are not needed.</p>
<p>See the reference for the full list of available options and their effects.</p>
<h1 id="reference-level-explanation"><a class="header" href="#reference-level-explanation">Reference-level explanation</a></h1>
<p>Inline assembler is implemented as an unsafe macro <code>asm!()</code>.
The first argument to this macro is a template string literal used to build the final assembly.
The following arguments specify input and output operands.
When required, options are specified as the final argument.</p>
<p>The following ABNF specifies the general syntax:</p>
<pre><code class="language-text">dir_spec := &quot;in&quot; / &quot;out&quot; / &quot;lateout&quot; / &quot;inout&quot; / &quot;inlateout&quot;
reg_spec := &lt;register class&gt; / &quot;&lt;explicit register&gt;&quot;
operand_expr := expr / &quot;_&quot; / expr &quot;=&gt;&quot; expr / expr &quot;=&gt;&quot; &quot;_&quot;
reg_operand := dir_spec &quot;(&quot; reg_spec &quot;)&quot; operand_expr
operand := reg_operand / &quot;const&quot; const_expr / &quot;sym&quot; path
option := &quot;pure&quot; / &quot;nomem&quot; / &quot;readonly&quot; / &quot;preserves_flags&quot; / &quot;noreturn&quot; / &quot;nostack&quot; / &quot;att_syntax&quot; / &quot;raw&quot;
options := &quot;options(&quot; option *[&quot;,&quot; option] [&quot;,&quot;] &quot;)&quot;
asm := &quot;asm!(&quot; format_string *(&quot;,&quot; format_string) *(&quot;,&quot; [ident &quot;=&quot;] operand) [&quot;,&quot; options] [&quot;,&quot;] &quot;)&quot;
</code></pre>
<p>The macro will initially be supported only on ARM, AArch64, Hexagon, PowerPC, x86, x86-64 and RISC-V targets. Support for more targets may be added in the future. The compiler will emit an error if <code>asm!</code> is used on an unsupported target.</p>
<h2 id="template-string-arguments"><a class="header" href="#template-string-arguments">Template string arguments</a></h2>
<p>The assembler template uses the same syntax as <a href="https://doc.rust-lang.org/std/fmt/#syntax">format strings</a> (i.e. placeholders are specified by curly braces). The corresponding arguments are accessed in order, by index, or by name. However, implicit named arguments (introduced by <a href="https://github.com/rust-lang/rfcs/pull/2795">RFC #2795</a>) are not supported.</p>
<p>An <code>asm!</code> invocation may have one or more template string arguments; an <code>asm!</code> with multiple template string arguments is treated as if all the strings were concatenated with a <code>\n</code> between them. The expected usage is for each template string argument to correspond to a line of assembly code. All template string arguments must appear before any other arguments.</p>
<p>As with format strings, named arguments must appear after positional arguments. Explicit register operands must appear at the end of the operand list, after named arguments if any.</p>
<p>Explicit register operands cannot be used by placeholders in the template string. All other named and positional operands must appear at least once in the template string, otherwise a compiler error is generated.</p>
<p>The exact assembly code syntax is target-specific and opaque to the compiler except for the way operands are substituted into the template string to form the code passed to the assembler.</p>
<p>The 5 targets specified in this RFC (x86, ARM, AArch64, RISC-V, Hexagon) all use the assembly code syntax of the GNU assembler (GAS). On x86, the <code>.intel_syntax noprefix</code> mode of GAS is used by default. On ARM, the <code>.syntax unified</code> mode is used. These targets impose an additional restriction on the assembly code: any assembler state (e.g. the current section which can be changed with <code>.section</code>) must be restored to its original value at the end of the asm string. Assembly code that does not conform to the GAS syntax will result in assembler-specific behavior.</p>
<h2 id="operand-type"><a class="header" href="#operand-type">Operand type</a></h2>
<p>Several types of operands are supported:</p>
<ul>
<li><code>in(&lt;reg&gt;) &lt;expr&gt;</code>
<ul>
<li><code>&lt;reg&gt;</code> can refer to a register class or an explicit register. The allocated register name is substituted into the asm template string.</li>
<li>The allocated register will contain the value of <code>&lt;expr&gt;</code> at the start of the asm code.</li>
<li>The allocated register must contain the same value at the end of the asm code (except if a <code>lateout</code> is allocated to the same register).</li>
</ul>
</li>
<li><code>out(&lt;reg&gt;) &lt;expr&gt;</code>
<ul>
<li><code>&lt;reg&gt;</code> can refer to a register class or an explicit register. The allocated register name is substituted into the asm template string.</li>
<li>The allocated register will contain an undefined value at the start of the asm code.</li>
<li><code>&lt;expr&gt;</code> must be a (possibly uninitialized) place expression, to which the contents of the allocated register is written to at the end of the asm code.</li>
<li>An underscore (<code>_</code>) may be specified instead of an expression, which will cause the contents of the register to be discarded at the end of the asm code (effectively acting as a clobber).</li>
</ul>
</li>
<li><code>lateout(&lt;reg&gt;) &lt;expr&gt;</code>
<ul>
<li>Identical to <code>out</code> except that the register allocator can reuse a register allocated to an <code>in</code>.</li>
<li>You should only write to the register after all inputs are read, otherwise you may clobber an input.</li>
</ul>
</li>
<li><code>inout(&lt;reg&gt;) &lt;expr&gt;</code>
<ul>
<li><code>&lt;reg&gt;</code> can refer to a register class or an explicit register. The allocated register name is substituted into the asm template string.</li>
<li>The allocated register will contain the value of <code>&lt;expr&gt;</code> at the start of the asm code.</li>
<li><code>&lt;expr&gt;</code> must be a mutable initialized place expression, to which the contents of the allocated register is written to at the end of the asm code.</li>
</ul>
</li>
<li><code>inout(&lt;reg&gt;) &lt;in expr&gt; =&gt; &lt;out expr&gt;</code>
<ul>
<li>Same as <code>inout</code> except that the initial value of the register is taken from the value of <code>&lt;in expr&gt;</code>.</li>
<li><code>&lt;out expr&gt;</code> must be a (possibly uninitialized) place expression, to which the contents of the allocated register is written to at the end of the asm code.</li>
<li>An underscore (<code>_</code>) may be specified instead of an expression for <code>&lt;out expr&gt;</code>, which will cause the contents of the register to be discarded at the end of the asm code (effectively acting as a clobber).</li>
<li><code>&lt;in expr&gt;</code> and <code>&lt;out expr&gt;</code> may have different types.</li>
</ul>
</li>
<li><code>inlateout(&lt;reg&gt;) &lt;expr&gt;</code> / <code>inlateout(&lt;reg&gt;) &lt;in expr&gt; =&gt; &lt;out expr&gt;</code>
<ul>
<li>Identical to <code>inout</code> except that the register allocator can reuse a register allocated to an <code>in</code> (this can happen if the compiler knows the <code>in</code> has the same initial value as the <code>inlateout</code>).</li>
<li>You should only write to the register after all inputs are read, otherwise you may clobber an input.</li>
</ul>
</li>
<li><code>const &lt;expr&gt;</code>
<ul>
<li><code>&lt;expr&gt;</code> must be an integer constant expression.</li>
<li>The value of the expression is formatted as a string and substituted directly into the asm template string.</li>
</ul>
</li>
<li><code>sym &lt;path&gt;</code>
<ul>
<li><code>&lt;path&gt;</code> must refer to a <code>fn</code> or <code>static</code>.</li>
<li>A mangled symbol name referring to the item is substituted into the asm template string.</li>
<li>The substituted string does not include any modifiers (e.g. GOT, PLT, relocations, etc).</li>
<li><code>&lt;path&gt;</code> is allowed to point to a <code>#[thread_local]</code> static, in which case the asm code can combine the symbol with relocations (e.g. <code>@plt</code>, <code>@TPOFF</code>) to read from thread-local data.</li>
</ul>
</li>
</ul>
<p>Operand expressions are evaluated from left to right, just like function call arguments. After the <code>asm!</code> has executed, outputs are written to in left to right order. This is significant if two outputs point to the same place: that place will contain the value of the rightmost output.</p>
<h2 id="register-operands"><a class="header" href="#register-operands">Register operands</a></h2>
<p>Input and output operands can be specified either as an explicit register or as a register class from which the register allocator can select a register. Explicit registers are specified as string literals (e.g. <code>&quot;eax&quot;</code>) while register classes are specified as identifiers (e.g. <code>reg</code>). Using string literals for register names enables support for architectures that use special characters in register names, such as MIPS (<code>$0</code>, <code>$1</code>, etc).</p>
<p>Note that explicit registers treat register aliases (e.g. <code>r14</code> vs <code>lr</code> on ARM) and smaller views of a register (e.g. <code>eax</code> vs <code>rax</code>) as equivalent to the base register. It is a compile-time error to use the same explicit register for two input operands or two output operands. Additionally, it is also a compile-time error to use overlapping registers (e.g. ARM VFP) in input operands or in output operands.</p>
<p>Only the following types are allowed as operands for inline assembly:</p>
<ul>
<li>Integers (signed and unsigned)</li>
<li>Floating-point numbers</li>
<li>Pointers (thin only)</li>
<li>Function pointers</li>
<li>SIMD vectors (structs defined with <code>#[repr(simd)]</code> and which implement <code>Copy</code>). This includes architecture-specific vector types defined in <code>std::arch</code> such as <code>__m128</code> (x86) or <code>int8x16_t</code> (ARM).</li>
</ul>
<p>Here is the list of currently supported register classes:</p>
<table><thead><tr><th>Architecture</th><th>Register class</th><th>Registers</th><th>LLVM constraint code</th></tr></thead><tbody>
<tr><td>x86</td><td><code>reg</code></td><td><code>ax</code>, <code>bx</code>, <code>cx</code>, <code>dx</code>, <code>si</code>, <code>di</code>, <code>bp</code>, <code>r[8-15]</code> (x86-64 only)</td><td><code>r</code></td></tr>
<tr><td>x86</td><td><code>reg_abcd</code></td><td><code>ax</code>, <code>bx</code>, <code>cx</code>, <code>dx</code></td><td><code>Q</code></td></tr>
<tr><td>x86-32</td><td><code>reg_byte</code></td><td><code>al</code>, <code>bl</code>, <code>cl</code>, <code>dl</code>, <code>ah</code>, <code>bh</code>, <code>ch</code>, <code>dh</code></td><td><code>q</code></td></tr>
<tr><td>x86-64</td><td><code>reg_byte</code>*</td><td><code>al</code>, <code>bl</code>, <code>cl</code>, <code>dl</code>, <code>sil</code>, <code>dil</code>, <code>bpl</code>, <code>r[8-15]b</code></td><td><code>q</code></td></tr>
<tr><td>x86</td><td><code>xmm_reg</code></td><td><code>xmm[0-7]</code> (x86) <code>xmm[0-15]</code> (x86-64)</td><td><code>x</code></td></tr>
<tr><td>x86</td><td><code>ymm_reg</code></td><td><code>ymm[0-7]</code> (x86) <code>ymm[0-15]</code> (x86-64)</td><td><code>x</code></td></tr>
<tr><td>x86</td><td><code>zmm_reg</code></td><td><code>zmm[0-7]</code> (x86) <code>zmm[0-31]</code> (x86-64)</td><td><code>v</code></td></tr>
<tr><td>x86</td><td><code>kreg</code></td><td><code>k[1-7]</code></td><td><code>Yk</code></td></tr>
<tr><td>x86</td><td><code>x87_reg</code></td><td><code>st([0-7])</code></td><td>Only clobbers</td></tr>
<tr><td>x86</td><td><code>mmx_reg</code></td><td><code>mm[0-7]</code></td><td>Only clobbers</td></tr>
<tr><td>AArch64</td><td><code>reg</code></td><td><code>x[0-30]</code></td><td><code>r</code></td></tr>
<tr><td>AArch64</td><td><code>vreg</code></td><td><code>v[0-31]</code></td><td><code>w</code></td></tr>
<tr><td>AArch64</td><td><code>vreg_low16</code></td><td><code>v[0-15]</code></td><td><code>x</code></td></tr>
<tr><td>AArch64</td><td><code>preg</code></td><td><code>p[0-15]</code>, <code>ffr</code></td><td>Only clobbers</td></tr>
<tr><td>ARM</td><td><code>reg</code></td><td><code>r[0-12]</code>, <code>r14</code></td><td><code>r</code></td></tr>
<tr><td>ARM (Thumb)</td><td><code>reg_thumb</code></td><td><code>r[0-r7]</code></td><td><code>l</code></td></tr>
<tr><td>ARM (ARM)</td><td><code>reg_thumb</code></td><td><code>r[0-r12]</code>, <code>r14</code></td><td><code>l</code></td></tr>
<tr><td>ARM</td><td><code>sreg</code></td><td><code>s[0-31]</code></td><td><code>t</code></td></tr>
<tr><td>ARM</td><td><code>sreg_low16</code></td><td><code>s[0-15]</code></td><td><code>x</code></td></tr>
<tr><td>ARM</td><td><code>dreg</code></td><td><code>d[0-31]</code></td><td><code>w</code></td></tr>
<tr><td>ARM</td><td><code>dreg_low16</code></td><td><code>d[0-15]</code></td><td><code>t</code></td></tr>
<tr><td>ARM</td><td><code>dreg_low8</code></td><td><code>d[0-8]</code></td><td><code>x</code></td></tr>
<tr><td>ARM</td><td><code>qreg</code></td><td><code>q[0-15]</code></td><td><code>w</code></td></tr>
<tr><td>ARM</td><td><code>qreg_low8</code></td><td><code>q[0-7]</code></td><td><code>t</code></td></tr>
<tr><td>ARM</td><td><code>qreg_low4</code></td><td><code>q[0-3]</code></td><td><code>x</code></td></tr>
<tr><td>MIPS</td><td><code>reg</code></td><td><code>$[2-25]</code></td><td><code>r</code></td></tr>
<tr><td>MIPS</td><td><code>freg</code></td><td><code>$f[0-31]</code></td><td><code>f</code></td></tr>
<tr><td>NVPTX</td><td><code>reg16</code></td><td>None*</td><td><code>h</code></td></tr>
<tr><td>NVPTX</td><td><code>reg32</code></td><td>None*</td><td><code>r</code></td></tr>
<tr><td>NVPTX</td><td><code>reg64</code></td><td>None*</td><td><code>l</code></td></tr>
<tr><td>RISC-V</td><td><code>reg</code></td><td><code>x1</code>, <code>x[5-7]</code>, <code>x[9-15]</code>, <code>x[16-31]</code> (non-RV32E)</td><td><code>r</code></td></tr>
<tr><td>RISC-V</td><td><code>freg</code></td><td><code>f[0-31]</code></td><td><code>f</code></td></tr>
<tr><td>RISC-V</td><td><code>vreg</code></td><td><code>v[0-31]</code></td><td>Only clobbers</td></tr>
<tr><td>Hexagon</td><td><code>reg</code></td><td><code>r[0-28]</code></td><td><code>r</code></td></tr>
<tr><td>PowerPC</td><td><code>reg</code></td><td><code>r[0-31]</code></td><td><code>r</code></td></tr>
<tr><td>PowerPC</td><td><code>reg_nonzero</code></td><td></td><td><code>r[1-31]</code></td></tr>
<tr><td>PowerPC</td><td><code>freg</code></td><td><code>f[0-31]</code></td><td><code>f</code></td></tr>
<tr><td>wasm32</td><td><code>local</code></td><td>None*</td><td><code>r</code></td></tr>
<tr><td>BPF</td><td><code>reg</code></td><td><code>r[0-10]</code></td><td><code>r</code></td></tr>
<tr><td>BPF</td><td><code>wreg</code></td><td><code>w[0-10]</code></td><td><code>w</code></td></tr>
</tbody></table>
<blockquote>
<p><strong>Note</strong>: On x86 we treat <code>reg_byte</code> differently from <code>reg</code> because the compiler can allocate <code>al</code> and <code>ah</code> separately whereas <code>reg</code> reserves the whole register.</p>
<p>Note #2: On x86-64 the high byte registers (e.g. <code>ah</code>) are not available in the <code>reg_byte</code> register class.</p>
<p>Note #3: NVPTX doesn't have a fixed register set, so named registers are not supported.</p>
<p>Note #4: WebAssembly doesn't have registers, so named registers are not supported.</p>
<p>Note #5: Some register classes are marked as &quot;Only clobbers&quot; which means that they cannot be used for inputs or outputs, only clobbers of the form <code>out(&quot;reg&quot;) _</code> or <code>lateout(&quot;reg&quot;) _</code>.</p>
</blockquote>
<p>Additional register classes may be added in the future based on demand (e.g. MMX, x87, etc).</p>
<p>Each register class has constraints on which value types they can be used with. This is necessary because the way a value is loaded into a register depends on its type. For example, on big-endian systems, loading a <code>i32x4</code> and a <code>i8x16</code> into a SIMD register may result in different register contents even if the byte-wise memory representation of both values is identical. The availability of supported types for a particular register class may depend on what target features are currently enabled.</p>
<table><thead><tr><th>Architecture</th><th>Register class</th><th>Target feature</th><th>Allowed types</th></tr></thead><tbody>
<tr><td>x86-32</td><td><code>reg</code></td><td>None</td><td><code>i16</code>, <code>i32</code>, <code>f32</code></td></tr>
<tr><td>x86-64</td><td><code>reg</code></td><td>None</td><td><code>i16</code>, <code>i32</code>, <code>f32</code>, <code>i64</code>, <code>f64</code></td></tr>
<tr><td>x86</td><td><code>reg_byte</code></td><td>None</td><td><code>i8</code></td></tr>
<tr><td>x86</td><td><code>xmm_reg</code></td><td><code>sse</code></td><td><code>i32</code>, <code>f32</code>, <code>i64</code>, <code>f64</code>, <br> <code>i8x16</code>, <code>i16x8</code>, <code>i32x4</code>, <code>i64x2</code>, <code>f32x4</code>, <code>f64x2</code></td></tr>
<tr><td>x86</td><td><code>ymm_reg</code></td><td><code>avx</code></td><td><code>i32</code>, <code>f32</code>, <code>i64</code>, <code>f64</code>, <br> <code>i8x16</code>, <code>i16x8</code>, <code>i32x4</code>, <code>i64x2</code>, <code>f32x4</code>, <code>f64x2</code> <br> <code>i8x32</code>, <code>i16x16</code>, <code>i32x8</code>, <code>i64x4</code>, <code>f32x8</code>, <code>f64x4</code></td></tr>
<tr><td>x86</td><td><code>zmm_reg</code></td><td><code>avx512f</code></td><td><code>i32</code>, <code>f32</code>, <code>i64</code>, <code>f64</code>, <br> <code>i8x16</code>, <code>i16x8</code>, <code>i32x4</code>, <code>i64x2</code>, <code>f32x4</code>, <code>f64x2</code> <br> <code>i8x32</code>, <code>i16x16</code>, <code>i32x8</code>, <code>i64x4</code>, <code>f32x8</code>, <code>f64x4</code> <br> <code>i8x64</code>, <code>i16x32</code>, <code>i32x16</code>, <code>i64x8</code>, <code>f32x16</code>, <code>f64x8</code></td></tr>
<tr><td>x86</td><td><code>kreg</code></td><td><code>axv512f</code></td><td><code>i8</code>, <code>i16</code></td></tr>
<tr><td>x86</td><td><code>kreg</code></td><td><code>axv512bw</code></td><td><code>i32</code>, <code>i64</code></td></tr>
<tr><td>x86</td><td><code>mmx_reg</code></td><td>N/A</td><td>Only clobbers</td></tr>
<tr><td>x86</td><td><code>x87_reg</code></td><td>N/A</td><td>Only clobbers</td></tr>
<tr><td>AArch64</td><td><code>reg</code></td><td>None</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>f32</code>, <code>i64</code>, <code>f64</code></td></tr>
<tr><td>AArch64</td><td><code>vreg</code></td><td><code>fp</code></td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>f32</code>, <code>i64</code>, <code>f64</code>, <br> <code>i8x8</code>, <code>i16x4</code>, <code>i32x2</code>, <code>i64x1</code>, <code>f32x2</code>, <code>f64x1</code>, <br> <code>i8x16</code>, <code>i16x8</code>, <code>i32x4</code>, <code>i64x2</code>, <code>f32x4</code>, <code>f64x2</code></td></tr>
<tr><td>AArch64</td><td><code>preg</code></td><td>N/A</td><td>Only clobbers</td></tr>
<tr><td>ARM</td><td><code>reg</code></td><td>None</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>f32</code></td></tr>
<tr><td>ARM</td><td><code>sreg</code></td><td><code>vfp2</code></td><td><code>i32</code>, <code>f32</code></td></tr>
<tr><td>ARM</td><td><code>dreg</code></td><td><code>vfp2</code></td><td><code>i64</code>, <code>f64</code>, <code>i8x8</code>, <code>i16x4</code>, <code>i32x2</code>, <code>i64x1</code>, <code>f32x2</code></td></tr>
<tr><td>ARM</td><td><code>qreg</code></td><td><code>neon</code></td><td><code>i8x16</code>, <code>i16x8</code>, <code>i32x4</code>, <code>i64x2</code>, <code>f32x4</code></td></tr>
<tr><td>MIPS32</td><td><code>reg</code></td><td>None</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>f32</code></td></tr>
<tr><td>MIPS32</td><td><code>freg</code></td><td>None</td><td><code>f32</code>, <code>f64</code></td></tr>
<tr><td>MIPS64</td><td><code>reg</code></td><td>None</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>i64</code>, <code>f32</code>, <code>f64</code></td></tr>
<tr><td>MIPS64</td><td><code>freg</code></td><td>None</td><td><code>f32</code>, <code>f64</code></td></tr>
<tr><td>NVPTX</td><td><code>reg16</code></td><td>None</td><td><code>i8</code>, <code>i16</code></td></tr>
<tr><td>NVPTX</td><td><code>reg32</code></td><td>None</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>f32</code></td></tr>
<tr><td>NVPTX</td><td><code>reg64</code></td><td>None</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>f32</code>, <code>i64</code>, <code>f64</code></td></tr>
<tr><td>RISC-V32</td><td><code>reg</code></td><td>None</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>f32</code></td></tr>
<tr><td>RISC-V64</td><td><code>reg</code></td><td>None</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>f32</code>, <code>i64</code>, <code>f64</code></td></tr>
<tr><td>RISC-V</td><td><code>freg</code></td><td><code>f</code></td><td><code>f32</code></td></tr>
<tr><td>RISC-V</td><td><code>freg</code></td><td><code>d</code></td><td><code>f64</code></td></tr>
<tr><td>RISC-V</td><td><code>vreg</code></td><td>N/A</td><td>Only clobbers</td></tr>
<tr><td>Hexagon</td><td><code>reg</code></td><td>None</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>f32</code></td></tr>
<tr><td>PowerPC</td><td><code>reg</code></td><td>None</td><td><code>i8</code>, <code>i16</code>, <code>i32</code></td></tr>
<tr><td>PowerPC</td><td><code>reg_nonzero</code></td><td>None</td><td><code>i8</code>, <code>i16</code>, <code>i32</code></td></tr>
<tr><td>PowerPC</td><td><code>freg</code></td><td>None</td><td><code>f32</code>, <code>f64</code></td></tr>
<tr><td>wasm32</td><td><code>local</code></td><td>None</td><td><code>i8</code> <code>i16</code> <code>i32</code> <code>i64</code> <code>f32</code> <code>f64</code></td></tr>
<tr><td>BPF</td><td><code>reg</code></td><td>None</td><td><code>i8</code> <code>i16</code> <code>i32</code> <code>i64</code></td></tr>
<tr><td>BPF</td><td><code>wreg</code></td><td><code>alu32</code></td><td><code>i8</code> <code>i16</code> <code>i32</code></td></tr>
</tbody></table>
<blockquote>
<p><strong>Note</strong>: For the purposes of the above table pointers, function pointers and <code>isize</code>/<code>usize</code> are treated as the equivalent integer type (<code>i16</code>/<code>i32</code>/<code>i64</code> depending on the target).</p>
</blockquote>
<p>If a value is of a smaller size than the register it is allocated in then the upper bits of that register will have an undefined value for inputs and will be ignored for outputs. The only exception is the <code>freg</code> register class on RISC-V where <code>f32</code> values are NaN-boxed in a <code>f64</code> as required by the RISC-V architecture.</p>
<p>When separate input and output expressions are specified for an <code>inout</code> operand, both expressions must have the same type. The only exception is if both operands are pointers or integers, in which case they are only required to have the same size. This restriction exists because the register allocators in LLVM and GCC sometimes cannot handle tied operands with different types.</p>
<h2 id="register-names"><a class="header" href="#register-names">Register names</a></h2>
<p>Some registers have multiple names. These are all treated by the compiler as identical to the base register name. Here is the list of all supported register aliases:</p>
<table><thead><tr><th>Architecture</th><th>Base register</th><th>Aliases</th></tr></thead><tbody>
<tr><td>x86</td><td><code>ax</code></td><td><code>eax</code>, <code>rax</code></td></tr>
<tr><td>x86</td><td><code>bx</code></td><td><code>ebx</code>, <code>rbx</code></td></tr>
<tr><td>x86</td><td><code>cx</code></td><td><code>ecx</code>, <code>rcx</code></td></tr>
<tr><td>x86</td><td><code>dx</code></td><td><code>edx</code>, <code>rdx</code></td></tr>
<tr><td>x86</td><td><code>si</code></td><td><code>esi</code>, <code>rsi</code></td></tr>
<tr><td>x86</td><td><code>di</code></td><td><code>edi</code>, <code>rdi</code></td></tr>
<tr><td>x86</td><td><code>bp</code></td><td><code>bpl</code>, <code>ebp</code>, <code>rbp</code></td></tr>
<tr><td>x86</td><td><code>sp</code></td><td><code>spl</code>, <code>esp</code>, <code>rsp</code></td></tr>
<tr><td>x86</td><td><code>ip</code></td><td><code>eip</code>, <code>rip</code></td></tr>
<tr><td>x86</td><td><code>st(0)</code></td><td><code>st</code></td></tr>
<tr><td>x86</td><td><code>r[8-15]</code></td><td><code>r[8-15]b</code>, <code>r[8-15]w</code>, <code>r[8-15]d</code></td></tr>
<tr><td>x86</td><td><code>xmm[0-31]</code></td><td><code>ymm[0-31]</code>, <code>zmm[0-31]</code></td></tr>
<tr><td>AArch64</td><td><code>x[0-30]</code></td><td><code>w[0-30]</code></td></tr>
<tr><td>AArch64</td><td><code>x29</code></td><td><code>fp</code></td></tr>
<tr><td>AArch64</td><td><code>x30</code></td><td><code>lr</code></td></tr>
<tr><td>AArch64</td><td><code>sp</code></td><td><code>wsp</code></td></tr>
<tr><td>AArch64</td><td><code>xzr</code></td><td><code>wzr</code></td></tr>
<tr><td>AArch64</td><td><code>v[0-31]</code></td><td><code>b[0-31]</code>, <code>h[0-31]</code>, <code>s[0-31]</code>, <code>d[0-31]</code>, <code>q[0-31]</code></td></tr>
<tr><td>ARM</td><td><code>r[0-3]</code></td><td><code>a[1-4]</code></td></tr>
<tr><td>ARM</td><td><code>r[4-9]</code></td><td><code>v[1-6]</code></td></tr>
<tr><td>ARM</td><td><code>r9</code></td><td><code>rfp</code></td></tr>
<tr><td>ARM</td><td><code>r10</code></td><td><code>sl</code></td></tr>
<tr><td>ARM</td><td><code>r11</code></td><td><code>fp</code></td></tr>
<tr><td>ARM</td><td><code>r12</code></td><td><code>ip</code></td></tr>
<tr><td>ARM</td><td><code>r13</code></td><td><code>sp</code></td></tr>
<tr><td>ARM</td><td><code>r14</code></td><td><code>lr</code></td></tr>
<tr><td>ARM</td><td><code>r15</code></td><td><code>pc</code></td></tr>
<tr><td>RISC-V</td><td><code>x0</code></td><td><code>zero</code></td></tr>
<tr><td>RISC-V</td><td><code>x1</code></td><td><code>ra</code></td></tr>
<tr><td>RISC-V</td><td><code>x2</code></td><td><code>sp</code></td></tr>
<tr><td>RISC-V</td><td><code>x3</code></td><td><code>gp</code></td></tr>
<tr><td>RISC-V</td><td><code>x4</code></td><td><code>tp</code></td></tr>
<tr><td>RISC-V</td><td><code>x[5-7]</code></td><td><code>t[0-2]</code></td></tr>
<tr><td>RISC-V</td><td><code>x8</code></td><td><code>fp</code>, <code>s0</code></td></tr>
<tr><td>RISC-V</td><td><code>x9</code></td><td><code>s1</code></td></tr>
<tr><td>RISC-V</td><td><code>x[10-17]</code></td><td><code>a[0-7]</code></td></tr>
<tr><td>RISC-V</td><td><code>x[18-27]</code></td><td><code>s[2-11]</code></td></tr>
<tr><td>RISC-V</td><td><code>x[28-31]</code></td><td><code>t[3-6]</code></td></tr>
<tr><td>RISC-V</td><td><code>f[0-7]</code></td><td><code>ft[0-7]</code></td></tr>
<tr><td>RISC-V</td><td><code>f[8-9]</code></td><td><code>fs[0-1]</code></td></tr>
<tr><td>RISC-V</td><td><code>f[10-17]</code></td><td><code>fa[0-7]</code></td></tr>
<tr><td>RISC-V</td><td><code>f[18-27]</code></td><td><code>fs[2-11]</code></td></tr>
<tr><td>RISC-V</td><td><code>f[28-31]</code></td><td><code>ft[8-11]</code></td></tr>
<tr><td>Hexagon</td><td><code>r29</code></td><td><code>sp</code></td></tr>
<tr><td>Hexagon</td><td><code>r30</code></td><td><code>fr</code></td></tr>
<tr><td>Hexagon</td><td><code>r31</code></td><td><code>lr</code></td></tr>
<tr><td>BPF</td><td><code>r[0-10]</code></td><td><code>w[0-10]</code></td></tr>
</tbody></table>
<p>Some registers cannot be used for input or output operands:</p>
<table><thead><tr><th>Architecture</th><th>Unsupported register</th><th>Reason</th></tr></thead><tbody>
<tr><td>All</td><td><code>sp</code></td><td>The stack pointer must be restored to its original value at the end of an asm code block.</td></tr>
<tr><td>All</td><td><code>bp</code> (x86), <code>x29</code> (AArch64), <code>x8</code> (RISC-V), <code>fr</code> (Hexagon), <code>$fp</code> (MIPS)</td><td>The frame pointer cannot be used as an input or output.</td></tr>
<tr><td>ARM</td><td><code>r7</code> or <code>r11</code></td><td>On ARM the frame pointer can be either <code>r7</code> or <code>r11</code> depending on the target. The frame pointer cannot be used as an input or output.</td></tr>
<tr><td>All</td><td><code>si</code> (x86-32), <code>bx</code> (x86-64), <code>r6</code> (ARM), <code>x19</code> (AArch64), <code>r19</code> (Hexagon), <code>x9</code> (RISC-V)</td><td>This is used internally by LLVM as a &quot;base pointer&quot; for functions with complex stack frames.</td></tr>
<tr><td>x86</td><td><code>k0</code></td><td>This is a constant zero register which can't be modified.</td></tr>
<tr><td>x86</td><td><code>ip</code></td><td>This is the program counter, not a real register.</td></tr>
<tr><td>x86</td><td><code>mm[0-7]</code></td><td>MMX registers are not currently supported (but may be in the future).</td></tr>
<tr><td>x86</td><td><code>st([0-7])</code></td><td>x87 registers are not currently supported (but may be in the future).</td></tr>
<tr><td>AArch64</td><td><code>xzr</code></td><td>This is a constant zero register which can't be modified.</td></tr>
<tr><td>ARM</td><td><code>pc</code></td><td>This is the program counter, not a real register.</td></tr>
<tr><td>ARM</td><td><code>r9</code></td><td>This is a reserved register on some ARM targets.</td></tr>
<tr><td>MIPS</td><td><code>$0</code> or <code>$zero</code></td><td>This is a constant zero register which can't be modified.</td></tr>
<tr><td>MIPS</td><td><code>$1</code> or <code>$at</code></td><td>Reserved for assembler.</td></tr>
<tr><td>MIPS</td><td><code>$26</code>/<code>$k0</code>, <code>$27</code>/<code>$k1</code></td><td>OS-reserved registers.</td></tr>
<tr><td>MIPS</td><td><code>$28</code>/<code>$gp</code></td><td>Global pointer cannot be used as inputs or outputs.</td></tr>
<tr><td>MIPS</td><td><code>$ra</code></td><td>Return address cannot be used as inputs or outputs.</td></tr>
<tr><td>RISC-V</td><td><code>x0</code></td><td>This is a constant zero register which can't be modified.</td></tr>
<tr><td>RISC-V</td><td><code>gp</code>, <code>tp</code></td><td>These registers are reserved and cannot be used as inputs or outputs.</td></tr>
<tr><td>Hexagon</td><td><code>lr</code></td><td>This is the link register which cannot be used as an input or output.</td></tr>
</tbody></table>
<p>In some cases LLVM will allocate a &quot;reserved register&quot; for <code>reg</code> operands even though this register cannot be explicitly specified. Assembly code making use of reserved registers should be careful since <code>reg</code> operands may alias with those registers. Reserved registers are the frame pointer and base pointer</p>
<ul>
<li>The frame pointer and LLVM base pointer on all architectures.</li>
<li><code>r9</code> on ARM.</li>
<li><code>x18</code> on AArch64.</li>
</ul>
<h2 id="template-modifiers"><a class="header" href="#template-modifiers">Template modifiers</a></h2>
<p>The placeholders can be augmented by modifiers which are specified after the <code>:</code> in the curly braces. These modifiers do not affect register allocation, but change the way operands are formatted when inserted into the template string. Only one modifier is allowed per template placeholder.</p>
<p>The supported modifiers are a subset of LLVM's (and GCC's) <a href="http://llvm.org/docs/LangRef.html#asm-template-argument-modifiers">asm template argument modifiers</a>, but do not use the same letter codes.</p>
<table><thead><tr><th>Architecture</th><th>Register class</th><th>Modifier</th><th>Example output</th><th>LLVM modifier</th></tr></thead><tbody>
<tr><td>x86-32</td><td><code>reg</code></td><td>None</td><td><code>eax</code></td><td><code>k</code></td></tr>
<tr><td>x86-64</td><td><code>reg</code></td><td>None</td><td><code>rax</code></td><td><code>q</code></td></tr>
<tr><td>x86-32</td><td><code>reg_abcd</code></td><td><code>l</code></td><td><code>al</code></td><td><code>b</code></td></tr>
<tr><td>x86-64</td><td><code>reg</code></td><td><code>l</code></td><td><code>al</code></td><td><code>b</code></td></tr>
<tr><td>x86</td><td><code>reg_abcd</code></td><td><code>h</code></td><td><code>ah</code></td><td><code>h</code></td></tr>
<tr><td>x86</td><td><code>reg</code></td><td><code>x</code></td><td><code>ax</code></td><td><code>w</code></td></tr>
<tr><td>x86</td><td><code>reg</code></td><td><code>e</code></td><td><code>eax</code></td><td><code>k</code></td></tr>
<tr><td>x86-64</td><td><code>reg</code></td><td><code>r</code></td><td><code>rax</code></td><td><code>q</code></td></tr>
<tr><td>x86</td><td><code>reg_byte</code></td><td>None</td><td><code>al</code> / <code>ah</code></td><td>None</td></tr>
<tr><td>x86</td><td><code>xmm_reg</code></td><td>None</td><td><code>xmm0</code></td><td><code>x</code></td></tr>
<tr><td>x86</td><td><code>ymm_reg</code></td><td>None</td><td><code>ymm0</code></td><td><code>t</code></td></tr>
<tr><td>x86</td><td><code>zmm_reg</code></td><td>None</td><td><code>zmm0</code></td><td><code>g</code></td></tr>
<tr><td>x86</td><td><code>*mm_reg</code></td><td><code>x</code></td><td><code>xmm0</code></td><td><code>x</code></td></tr>
<tr><td>x86</td><td><code>*mm_reg</code></td><td><code>y</code></td><td><code>ymm0</code></td><td><code>t</code></td></tr>
<tr><td>x86</td><td><code>*mm_reg</code></td><td><code>z</code></td><td><code>zmm0</code></td><td><code>g</code></td></tr>
<tr><td>x86</td><td><code>kreg</code></td><td>None</td><td><code>k1</code></td><td>None</td></tr>
<tr><td>AArch64</td><td><code>reg</code></td><td>None</td><td><code>x0</code></td><td><code>x</code></td></tr>
<tr><td>AArch64</td><td><code>reg</code></td><td><code>w</code></td><td><code>w0</code></td><td><code>w</code></td></tr>
<tr><td>AArch64</td><td><code>reg</code></td><td><code>x</code></td><td><code>x0</code></td><td><code>x</code></td></tr>
<tr><td>AArch64</td><td><code>vreg</code></td><td>None</td><td><code>v0</code></td><td>None</td></tr>
<tr><td>AArch64</td><td><code>vreg</code></td><td><code>v</code></td><td><code>v0</code></td><td>None</td></tr>
<tr><td>AArch64</td><td><code>vreg</code></td><td><code>b</code></td><td><code>b0</code></td><td><code>b</code></td></tr>
<tr><td>AArch64</td><td><code>vreg</code></td><td><code>h</code></td><td><code>h0</code></td><td><code>h</code></td></tr>
<tr><td>AArch64</td><td><code>vreg</code></td><td><code>s</code></td><td><code>s0</code></td><td><code>s</code></td></tr>
<tr><td>AArch64</td><td><code>vreg</code></td><td><code>d</code></td><td><code>d0</code></td><td><code>d</code></td></tr>
<tr><td>AArch64</td><td><code>vreg</code></td><td><code>q</code></td><td><code>q0</code></td><td><code>q</code></td></tr>
<tr><td>ARM</td><td><code>reg</code></td><td>None</td><td><code>r0</code></td><td>None</td></tr>
<tr><td>ARM</td><td><code>sreg</code></td><td>None</td><td><code>s0</code></td><td>None</td></tr>
<tr><td>ARM</td><td><code>dreg</code></td><td>None</td><td><code>d0</code></td><td><code>P</code></td></tr>
<tr><td>ARM</td><td><code>qreg</code></td><td>None</td><td><code>q0</code></td><td><code>q</code></td></tr>
<tr><td>ARM</td><td><code>qreg</code></td><td><code>e</code> / <code>f</code></td><td><code>d0</code> / <code>d1</code></td><td><code>e</code> / <code>f</code></td></tr>
<tr><td>MIPS</td><td><code>reg</code></td><td>None</td><td><code>$2</code></td><td>None</td></tr>
<tr><td>MIPS</td><td><code>freg</code></td><td>None</td><td><code>$f0</code></td><td>None</td></tr>
<tr><td>NVPTX</td><td><code>reg16</code></td><td>None</td><td><code>rs0</code></td><td>None</td></tr>
<tr><td>NVPTX</td><td><code>reg32</code></td><td>None</td><td><code>r0</code></td><td>None</td></tr>
<tr><td>NVPTX</td><td><code>reg64</code></td><td>None</td><td><code>rd0</code></td><td>None</td></tr>
<tr><td>RISC-V</td><td><code>reg</code></td><td>None</td><td><code>x1</code></td><td>None</td></tr>
<tr><td>RISC-V</td><td><code>freg</code></td><td>None</td><td><code>f0</code></td><td>None</td></tr>
<tr><td>Hexagon</td><td><code>reg</code></td><td>None</td><td><code>r0</code></td><td>None</td></tr>
<tr><td>PowerPC</td><td><code>reg</code></td><td>None</td><td><code>0</code></td><td>None</td></tr>
<tr><td>PowerPC</td><td><code>reg_nonzero</code></td><td>None</td><td><code>3</code></td><td><code>b</code></td></tr>
<tr><td>PowerPC</td><td><code>freg</code></td><td>None</td><td><code>0</code></td><td>None</td></tr>
</tbody></table>
<blockquote>
<p>Notes:</p>
<ul>
<li>on ARM <code>e</code> / <code>f</code>: this prints the low or high doubleword register name of a NEON quad (128-bit) register.</li>
<li>on x86: our behavior for <code>reg</code> with no modifiers differs from what GCC does. GCC will infer the modifier based on the operand value type, while we default to the full register size.</li>
<li>on x86 <code>xmm_reg</code>: the <code>x</code>, <code>t</code> and <code>g</code> LLVM modifiers are not yet implemented in LLVM (they are supported by GCC only), but this should be a simple change.</li>
</ul>
</blockquote>
<p>As stated in the previous section, passing an input value smaller than the register width will result in the upper bits of the register containing undefined values. This is not a problem if the inline asm only accesses the lower bits of the register, which can be done by using a template modifier to use a subregister name in the asm code (e.g. <code>ax</code> instead of <code>rax</code>). Since this an easy pitfall, the compiler will suggest a template modifier to use where appropriate given the input type. If all references to an operand already have modifiers then the warning is suppressed for that operand.</p>
<h2 id="options-1"><a class="header" href="#options-1">Options</a></h2>
<p>Flags are used to further influence the behavior of the inline assembly block.
Currently the following options are defined:</p>
<ul>
<li><code>pure</code>: The <code>asm</code> block has no side effects, and its outputs depend only on its direct inputs (i.e. the values themselves, not what they point to) or values read from memory (unless the <code>nomem</code> options is also set). This allows the compiler to execute the <code>asm</code> block fewer times than specified in the program (e.g. by hoisting it out of a loop) or even eliminate it entirely if the outputs are not used.</li>
<li><code>nomem</code>: The <code>asm</code> blocks does not read or write to any memory. This allows the compiler to cache the values of modified global variables in registers across the <code>asm</code> block since it knows that they are not read or written to by the <code>asm</code>.</li>
<li><code>readonly</code>: The <code>asm</code> block does not write to any memory. This allows the compiler to cache the values of unmodified global variables in registers across the <code>asm</code> block since it knows that they are not written to by the <code>asm</code>.</li>
<li><code>preserves_flags</code>: The <code>asm</code> block does not modify the flags register (defined in the rules below). This allows the compiler to avoid recomputing the condition flags after the <code>asm</code> block.</li>
<li><code>noreturn</code>: The <code>asm</code> block never returns, and its return type is defined as <code>!</code> (never). Behavior is undefined if execution falls through past the end of the asm code. A <code>noreturn</code> asm block behaves just like a function which doesn't return; notably, local variables in scope are not dropped before it is invoked.</li>
<li><code>nostack</code>: The <code>asm</code> block does not push data to the stack, or write to the stack red-zone (if supported by the target). If this option is <em>not</em> used then the stack pointer is guaranteed to be suitably aligned (according to the target ABI) for a function call.</li>
<li><code>att_syntax</code>: This option is only valid on x86, and causes the assembler to use the <code>.att_syntax prefix</code> mode of the GNU assembler. Register operands are substituted in with a leading <code>%</code>.</li>
<li><code>raw</code>: This causes the template string to be parsed as a raw assembly string, with no special handling for <code>{</code> and <code>}</code>. This is primarily useful when including raw assembly code from an external file using <code>include_str!</code>.</li>
</ul>
<p>The compiler performs some additional checks on options:</p>
<ul>
<li>The <code>nomem</code> and <code>readonly</code> options are mutually exclusive: it is a compile-time error to specify both.</li>
<li>The <code>pure</code> option must be combined with either the <code>nomem</code> or <code>readonly</code> options, otherwise a compile-time error is emitted.</li>
<li>It is a compile-time error to specify <code>pure</code> on an asm block with no outputs or only discarded outputs (<code>_</code>).</li>
<li>It is a compile-time error to specify <code>noreturn</code> on an asm block with outputs.</li>
</ul>
<h2 id="rules-for-inline-assembly"><a class="header" href="#rules-for-inline-assembly">Rules for inline assembly</a></h2>
<ul>
<li>Any registers not specified as inputs will contain an undefined value on entry to the asm block.
<ul>
<li>An &quot;undefined value&quot; in the context of inline assembly means that the register can (non-deterministically) have any one of the possible values allowed by the architecture. Notably it is not the same as an LLVM <code>undef</code> which can have a different value every time you read it (since such a concept does not exist in assembly code).</li>
</ul>
</li>
<li>Any registers not specified as outputs must have the same value upon exiting the asm block as they had on entry, otherwise behavior is undefined.
<ul>
<li>This only applies to registers which can be specified as an input or output. Other registers follow target-specific rules.</li>
<li>Note that a <code>lateout</code> may be allocated to the same register as an <code>in</code>, in which case this rule does not apply. Code should not rely on this however since it depends on the results of register allocation.</li>
</ul>
</li>
<li>Behavior is undefined if execution unwinds out of an asm block.
<ul>
<li>This also applies if the assembly code calls a function which then unwinds.</li>
</ul>
</li>
<li>The set of memory locations that assembly code is allowed the read and write are the same as those allowed for an FFI function.
<ul>
<li>Refer to the unsafe code guidelines for the exact rules.</li>
<li>If the <code>readonly</code> option is set, then only memory reads are allowed.</li>
<li>If the <code>nomem</code> option is set then no reads or writes to memory are allowed.</li>
<li>These rules do not apply to memory which is private to the asm code, such as stack space allocated within the asm block.</li>
</ul>
</li>
<li>The compiler cannot assume that the instructions in the asm are the ones that will actually end up executed.
<ul>
<li>This effectively means that the compiler must treat the <code>asm!</code> as a black box and only take the interface specification into account, not the instructions themselves.</li>
<li>Runtime code patching is allowed, via target-specific mechanisms (outside the scope of this RFC).</li>
</ul>
</li>
<li>Unless the <code>nostack</code> option is set, asm code is allowed to use stack space below the stack pointer.
<ul>
<li>On entry to the asm block the stack pointer is guaranteed to be suitably aligned (according to the target ABI) for a function call.</li>
<li>You are responsible for making sure you don't overflow the stack (e.g. use stack probing to ensure you hit a guard page).</li>
<li>You should adjust the stack pointer when allocating stack memory as required by the target ABI.</li>
<li>The stack pointer must be restored to its original value before leaving the asm block.</li>
</ul>
</li>
<li>If the <code>noreturn</code> option is set then behavior is undefined if execution falls through to the end of the asm block.</li>
<li>If the <code>pure</code> option is set then behavior is undefined if the <code>asm</code> has side-effects other than its direct outputs. Behavior is also undefined if two executions of the <code>asm</code> code with the same inputs result in different outputs.
<ul>
<li>When used with the <code>nomem</code> option, &quot;inputs&quot; are just the direct inputs of the <code>asm!</code>.</li>
<li>When used with the <code>readonly</code> option, &quot;inputs&quot; comprise the direct inputs of the <code>asm!</code> and any memory that the <code>asm!</code> block is allowed to read.</li>
</ul>
</li>
<li>These flags registers must be restored upon exiting the asm block if the <code>preserves_flags</code> option is set:
<ul>
<li>x86
<ul>
<li>Status flags in <code>EFLAGS</code> (CF, PF, AF, ZF, SF, OF).</li>
<li>Floating-point status word (all).</li>
<li>Floating-point exception flags in <code>MXCSR</code> (PE, UE, OE, ZE, DE, IE).</li>
</ul>
</li>
<li>ARM
<ul>
<li>Condition flags in <code>CPSR</code> (N, Z, C, V)</li>
<li>Saturation flag in <code>CPSR</code> (Q)</li>
<li>Greater than or equal flags in <code>CPSR</code> (GE).</li>
<li>Condition flags in <code>FPSCR</code> (N, Z, C, V)</li>
<li>Saturation flag in <code>FPSCR</code> (QC)</li>
<li>Floating-point exception flags in <code>FPSCR</code> (IDC, IXC, UFC, OFC, DZC, IOC).</li>
</ul>
</li>
<li>AArch64
<ul>
<li>Condition flags (<code>NZCV</code> register).</li>
<li>Floating-point status (<code>FPSR</code> register).</li>
</ul>
</li>
<li>RISC-V
<ul>
<li>Floating-point exception flags in <code>fcsr</code> (<code>fflags</code>).</li>
</ul>
</li>
</ul>
</li>
<li>On x86, the direction flag (DF in <code>EFLAGS</code>) is clear on entry to an asm block and must be clear on exit.
<ul>
<li>Behavior is undefined if the direction flag is set on exiting an asm block.</li>
</ul>
</li>
<li>The requirement of restoring the stack pointer and non-output registers to their original value only applies when exiting an <code>asm!</code> block.
<ul>
<li>This means that <code>asm!</code> blocks that never return (even if not marked <code>noreturn</code>) don't need to preserve these registers.</li>
<li>When returning to a different <code>asm!</code> block than you entered (e.g. for context switching), these registers must contain the value they had upon entering the <code>asm!</code> block that you are <em>exiting</em>.
<ul>
<li>You cannot exit an <code>asm!</code> block that has not been entered. Neither can you exit an <code>asm!</code> block that has already been exited.</li>
<li>You are responsible for switching any target-specific state (e.g. thread-local storage, stack bounds).</li>
<li>The set of memory locations that you may access is the intersection of those allowed by the <code>asm!</code> blocks you entered and exited.</li>
</ul>
</li>
</ul>
</li>
<li>You cannot assume that an <code>asm!</code> block will appear exactly once in the output binary. The compiler is allowed to instantiate multiple copies of the <code>asm!</code> block, for example when the function containing it is inlined in multiple places.</li>
</ul>
<blockquote>
<p><strong>Note</strong>: As a general rule, the flags covered by <code>preserves_flags</code> are those which are <em>not</em> preserved when performing a function call.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="assert_matches"><a class="header" href="#assert_matches"><code>assert_matches</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/82775">#82775</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="async_stream"><a class="header" href="#async_stream"><code>async_stream</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/79024">#79024</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="atomic_from_mut"><a class="header" href="#atomic_from_mut"><code>atomic_from_mut</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/76314">#76314</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="atomic_mut_ptr"><a class="header" href="#atomic_mut_ptr"><code>atomic_mut_ptr</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/66893">#66893</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="available_concurrency"><a class="header" href="#available_concurrency"><code>available_concurrency</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/74479">#74479</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="backtrace"><a class="header" href="#backtrace"><code>backtrace</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/53487">#53487</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="backtrace_frames"><a class="header" href="#backtrace_frames"><code>backtrace_frames</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/79676">#79676</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="bench_black_box"><a class="header" href="#bench_black_box"><code>bench_black_box</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/64102">#64102</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="binary_heap_as_slice"><a class="header" href="#binary_heap_as_slice"><code>binary_heap_as_slice</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/83659">#83659</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="binary_heap_drain_sorted"><a class="header" href="#binary_heap_drain_sorted"><code>binary_heap_drain_sorted</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/59278">#59278</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="binary_heap_into_iter_sorted"><a class="header" href="#binary_heap_into_iter_sorted"><code>binary_heap_into_iter_sorted</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/59278">#59278</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="binary_heap_retain"><a class="header" href="#binary_heap_retain"><code>binary_heap_retain</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/71503">#71503</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="bool_to_option"><a class="header" href="#bool_to_option"><code>bool_to_option</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/80967">#80967</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="bound_as_ref"><a class="header" href="#bound_as_ref"><code>bound_as_ref</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/80996">#80996</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="bound_map"><a class="header" href="#bound_map"><code>bound_map</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/86026">#86026</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="box_into_boxed_slice"><a class="header" href="#box_into_boxed_slice"><code>box_into_boxed_slice</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/71582">#71582</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="box_into_inner"><a class="header" href="#box_into_inner"><code>box_into_inner</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/80437">#80437</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="box_into_pin"><a class="header" href="#box_into_pin"><code>box_into_pin</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/62370">#62370</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="btree_drain_filter"><a class="header" href="#btree_drain_filter"><code>btree_drain_filter</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/70530">#70530</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="buf_read_has_data_left"><a class="header" href="#buf_read_has_data_left"><code>buf_read_has_data_left</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/86423">#86423</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="bufwriter_into_parts"><a class="header" href="#bufwriter_into_parts"><code>bufwriter_into_parts</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/80690">#80690</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="build_hasher_simple_hash_one"><a class="header" href="#build_hasher_simple_hash_one"><code>build_hasher_simple_hash_one</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/86161">#86161</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="c_void_variant"><a class="header" href="#c_void_variant"><code>c_void_variant</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="can_vector"><a class="header" href="#can_vector"><code>can_vector</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/69941">#69941</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="cell_filter_map"><a class="header" href="#cell_filter_map"><code>cell_filter_map</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/81061">#81061</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="cell_leak"><a class="header" href="#cell_leak"><code>cell_leak</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/69099">#69099</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="cell_update"><a class="header" href="#cell_update"><code>cell_update</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/50186">#50186</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="cfg_accessible"><a class="header" href="#cfg_accessible"><code>cfg_accessible</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/64797">#64797</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="cfg_eval"><a class="header" href="#cfg_eval"><code>cfg_eval</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/82679">#82679</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="char_error_internals"><a class="header" href="#char_error_internals"><code>char_error_internals</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="char_indices_offset"><a class="header" href="#char_indices_offset"><code>char_indices_offset</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/83871">#83871</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="char_internals"><a class="header" href="#char_internals"><code>char_internals</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="coerce_unsized"><a class="header" href="#coerce_unsized"><code>coerce_unsized</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/27732">#27732</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="command_access"><a class="header" href="#command_access"><code>command_access</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44434">#44434</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="concat_idents"><a class="header" href="#concat_idents"><code>concat_idents</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/29599">#29599</a></p>
<hr />
<p>The <code>concat_idents</code> feature adds a macro for concatenating multiple identifiers
into one identifier.</p>
<h2 id="examples-11"><a class="header" href="#examples-11">Examples</a></h2>
<pre><pre class="playground"><code class="language-rust">#![feature(concat_idents)]

fn main() {
    fn foobar() -&gt; u32 { 23 }
    let f = concat_idents!(foo, bar);
    assert_eq!(f(), 23);
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_align_of_val"><a class="header" href="#const_align_of_val"><code>const_align_of_val</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/46571">#46571</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_align_of_val_raw"><a class="header" href="#const_align_of_val_raw"><code>const_align_of_val_raw</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/46571">#46571</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_alloc_layout"><a class="header" href="#const_alloc_layout"><code>const_alloc_layout</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/67521">#67521</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_arguments_as_str"><a class="header" href="#const_arguments_as_str"><code>const_arguments_as_str</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_assert_type"><a class="header" href="#const_assert_type"><code>const_assert_type</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_assume"><a class="header" href="#const_assume"><code>const_assume</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/76972">#76972</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_btree_new"><a class="header" href="#const_btree_new"><code>const_btree_new</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/71835">#71835</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_caller_location"><a class="header" href="#const_caller_location"><code>const_caller_location</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/76156">#76156</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_cell_into_inner"><a class="header" href="#const_cell_into_inner"><code>const_cell_into_inner</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/78729">#78729</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_cow_is_borrowed"><a class="header" href="#const_cow_is_borrowed"><code>const_cow_is_borrowed</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/65143">#65143</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_cstr_unchecked"><a class="header" href="#const_cstr_unchecked"><code>const_cstr_unchecked</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_discriminant"><a class="header" href="#const_discriminant"><code>const_discriminant</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/69821">#69821</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_float_bits_conv"><a class="header" href="#const_float_bits_conv"><code>const_float_bits_conv</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/72447">#72447</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_float_classify"><a class="header" href="#const_float_classify"><code>const_float_classify</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/72505">#72505</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_fmt_arguments_new"><a class="header" href="#const_fmt_arguments_new"><code>const_fmt_arguments_new</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_format_args"><a class="header" href="#const_format_args"><code>const_format_args</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_heap"><a class="header" href="#const_heap"><code>const_heap</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/79597">#79597</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_inherent_unchecked_arith"><a class="header" href="#const_inherent_unchecked_arith"><code>const_inherent_unchecked_arith</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/85122">#85122</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_int_unchecked_arith"><a class="header" href="#const_int_unchecked_arith"><code>const_int_unchecked_arith</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_intrinsic_copy"><a class="header" href="#const_intrinsic_copy"><code>const_intrinsic_copy</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/80697">#80697</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_intrinsic_forget"><a class="header" href="#const_intrinsic_forget"><code>const_intrinsic_forget</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_intrinsic_raw_eq"><a class="header" href="#const_intrinsic_raw_eq"><code>const_intrinsic_raw_eq</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_io_structs"><a class="header" href="#const_io_structs"><code>const_io_structs</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/78812">#78812</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_ip"><a class="header" href="#const_ip"><code>const_ip</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/76205">#76205</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_ipv4"><a class="header" href="#const_ipv4"><code>const_ipv4</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/76205">#76205</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_ipv6"><a class="header" href="#const_ipv6"><code>const_ipv6</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/76205">#76205</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_likely"><a class="header" href="#const_likely"><code>const_likely</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_maybe_uninit_as_ptr"><a class="header" href="#const_maybe_uninit_as_ptr"><code>const_maybe_uninit_as_ptr</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/75251">#75251</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_maybe_uninit_assume_init"><a class="header" href="#const_maybe_uninit_assume_init"><code>const_maybe_uninit_assume_init</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_maybe_uninit_write"><a class="header" href="#const_maybe_uninit_write"><code>const_maybe_uninit_write</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/63567">#63567</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_nonnull_slice_from_raw_parts"><a class="header" href="#const_nonnull_slice_from_raw_parts"><code>const_nonnull_slice_from_raw_parts</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/71941">#71941</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_num_from_num"><a class="header" href="#const_num_from_num"><code>const_num_from_num</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/87852">#87852</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_option"><a class="header" href="#const_option"><code>const_option</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/67441">#67441</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_pin"><a class="header" href="#const_pin"><code>const_pin</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/76654">#76654</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_pref_align_of"><a class="header" href="#const_pref_align_of"><code>const_pref_align_of</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_ptr_is_null"><a class="header" href="#const_ptr_is_null"><code>const_ptr_is_null</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/74939">#74939</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_ptr_offset"><a class="header" href="#const_ptr_offset"><code>const_ptr_offset</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/71499">#71499</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_ptr_offset_from"><a class="header" href="#const_ptr_offset_from"><code>const_ptr_offset_from</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/41079">#41079</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_ptr_read"><a class="header" href="#const_ptr_read"><code>const_ptr_read</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/80377">#80377</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_ptr_write"><a class="header" href="#const_ptr_write"><code>const_ptr_write</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/86302">#86302</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_raw_ptr_comparison"><a class="header" href="#const_raw_ptr_comparison"><code>const_raw_ptr_comparison</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/53020">#53020</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_replace"><a class="header" href="#const_replace"><code>const_replace</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/83164">#83164</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_result"><a class="header" href="#const_result"><code>const_result</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/82814">#82814</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_size_of_val"><a class="header" href="#const_size_of_val"><code>const_size_of_val</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/46571">#46571</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_size_of_val_raw"><a class="header" href="#const_size_of_val_raw"><code>const_size_of_val_raw</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/46571">#46571</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_slice_first_last"><a class="header" href="#const_slice_first_last"><code>const_slice_first_last</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/83570">#83570</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_slice_from_raw_parts"><a class="header" href="#const_slice_from_raw_parts"><code>const_slice_from_raw_parts</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/67456">#67456</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_slice_ptr_len"><a class="header" href="#const_slice_ptr_len"><code>const_slice_ptr_len</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/71146">#71146</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_socketaddr"><a class="header" href="#const_socketaddr"><code>const_socketaddr</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/82485">#82485</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_swap"><a class="header" href="#const_swap"><code>const_swap</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/83163">#83163</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_transmute_copy"><a class="header" href="#const_transmute_copy"><code>const_transmute_copy</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/83165">#83165</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_type_id"><a class="header" href="#const_type_id"><code>const_type_id</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/77125">#77125</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_type_name"><a class="header" href="#const_type_name"><code>const_type_name</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/63084">#63084</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="const_unreachable_unchecked"><a class="header" href="#const_unreachable_unchecked"><code>const_unreachable_unchecked</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/53188">#53188</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="container_error_extra"><a class="header" href="#container_error_extra"><code>container_error_extra</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="control_flow_enum"><a class="header" href="#control_flow_enum"><code>control_flow_enum</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/75744">#75744</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="convert_float_to_int"><a class="header" href="#convert_float_to_int"><code>convert_float_to_int</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/67057">#67057</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="core_intrinsics"><a class="header" href="#core_intrinsics"><code>core_intrinsics</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="core_panic"><a class="header" href="#core_panic"><code>core_panic</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="core_private_bignum"><a class="header" href="#core_private_bignum"><code>core_private_bignum</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="core_private_diy_float"><a class="header" href="#core_private_diy_float"><code>core_private_diy_float</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="cow_is_borrowed"><a class="header" href="#cow_is_borrowed"><code>cow_is_borrowed</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/65143">#65143</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="cstring_from_vec_with_nul"><a class="header" href="#cstring_from_vec_with_nul"><code>cstring_from_vec_with_nul</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/73179">#73179</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="cursor_remaining"><a class="header" href="#cursor_remaining"><code>cursor_remaining</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/86369">#86369</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="deadline_api"><a class="header" href="#deadline_api"><code>deadline_api</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/46316">#46316</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="dec2flt"><a class="header" href="#dec2flt"><code>dec2flt</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="default_free_fn"><a class="header" href="#default_free_fn"><code>default_free_fn</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/73014">#73014</a></p>
<hr />
<p>Adds a free <code>default()</code> function to the <code>std::default</code> module.  This function
just forwards to <a href="https://doc.rust-lang.org/nightly/std/default/trait.Default.html#tymethod.default"><code>Default::default()</code></a>, but may remove repetition of the word
&quot;default&quot; from the call site.</p>
<p>Here is an example:</p>
<pre><pre class="playground"><code class="language-rust">#![feature(default_free_fn)]
use std::default::default;

#[derive(Default)]
struct AppConfig {
    foo: FooConfig,
    bar: BarConfig,
}

#[derive(Default)]
struct FooConfig {
    foo: i32,
}

#[derive(Default)]
struct BarConfig {
    bar: f32,
    baz: u8,
}

fn main() {
    let options = AppConfig {
        foo: default(),
        bar: BarConfig {
            bar: 10.1,
            ..default()
        },
    };
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="derive_clone_copy"><a class="header" href="#derive_clone_copy"><code>derive_clone_copy</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="derive_eq"><a class="header" href="#derive_eq"><code>derive_eq</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="dir_entry_ext2"><a class="header" href="#dir_entry_ext2"><code>dir_entry_ext2</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/85573">#85573</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="discriminant_kind"><a class="header" href="#discriminant_kind"><code>discriminant_kind</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="dispatch_from_dyn"><a class="header" href="#dispatch_from_dyn"><code>dispatch_from_dyn</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="div_duration"><a class="header" href="#div_duration"><code>div_duration</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/63139">#63139</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="drain_filter"><a class="header" href="#drain_filter"><code>drain_filter</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/43244">#43244</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="duration_checked_float"><a class="header" href="#duration_checked_float"><code>duration_checked_float</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/83400">#83400</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="duration_constants"><a class="header" href="#duration_constants"><code>duration_constants</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/57391">#57391</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="duration_consts_2"><a class="header" href="#duration_consts_2"><code>duration_consts_2</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/72440">#72440</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="edition_panic"><a class="header" href="#edition_panic"><code>edition_panic</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="entry_insert"><a class="header" href="#entry_insert"><code>entry_insert</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/65225">#65225</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="error_iter"><a class="header" href="#error_iter"><code>error_iter</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/58520">#58520</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="error_type_id"><a class="header" href="#error_type_id"><code>error_type_id</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/60784">#60784</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="exact_size_is_empty"><a class="header" href="#exact_size_is_empty"><code>exact_size_is_empty</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/35428">#35428</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="exit_status_error"><a class="header" href="#exit_status_error"><code>exit_status_error</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/84908">#84908</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="extend_one"><a class="header" href="#extend_one"><code>extend_one</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/72631">#72631</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="fd"><a class="header" href="#fd"><code>fd</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="fd_read"><a class="header" href="#fd_read"><code>fd_read</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="float_interpolation"><a class="header" href="#float_interpolation"><code>float_interpolation</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/86269">#86269</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="flt2dec"><a class="header" href="#flt2dec"><code>flt2dec</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="fmt_internals"><a class="header" href="#fmt_internals"><code>fmt_internals</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="fn_traits"><a class="header" href="#fn_traits"><code>fn_traits</code></a></h1>
<p>The tracking issue for this feature is <a href="https://github.com/rust-lang/rust/issues/29625">#29625</a></p>
<p>See Also: <a href="library-features/../language-features/unboxed-closures.html"><code>unboxed_closures</code></a></p>
<hr />
<p>The <code>fn_traits</code> feature allows for implementation of the <a href="https://doc.rust-lang.org/std/ops/trait.Fn.html"><code>Fn*</code></a> traits
for creating custom closure-like types.</p>
<pre><pre class="playground"><code class="language-rust">#![feature(unboxed_closures)]
#![feature(fn_traits)]

struct Adder {
    a: u32
}

impl FnOnce&lt;(u32, )&gt; for Adder {
    type Output = u32;
    extern &quot;rust-call&quot; fn call_once(self, b: (u32, )) -&gt; Self::Output {
        self.a + b.0
    }
}

fn main() {
    let adder = Adder { a: 3 };
    assert_eq!(adder(2), 5);
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="forget_unsized"><a class="header" href="#forget_unsized"><code>forget_unsized</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="format_args_nl"><a class="header" href="#format_args_nl"><code>format_args_nl</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="future_poll_fn"><a class="header" href="#future_poll_fn"><code>future_poll_fn</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/72302">#72302</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="gen_future"><a class="header" href="#gen_future"><code>gen_future</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/50547">#50547</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="generator_trait"><a class="header" href="#generator_trait"><code>generator_trait</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/43122">#43122</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="get_mut_unchecked"><a class="header" href="#get_mut_unchecked"><code>get_mut_unchecked</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/63292">#63292</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="global_asm"><a class="header" href="#global_asm"><code>global_asm</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/35119">#35119</a></p>
<hr />
<p>The <code>global_asm!</code> macro allows the programmer to write arbitrary
assembly outside the scope of a function body, passing it through
<code>rustc</code> and <code>llvm</code> to the assembler. That is to say, <code>global_asm!</code> is
equivalent to assembling the asm with an external assembler and then
linking the resulting object file with the current crate.</p>
<p><code>global_asm!</code> fills a role not currently satisfied by either <code>asm!</code>
or <code>#[naked]</code> functions. The programmer has <em>all</em> features of the
assembler at their disposal. The linker will expect to resolve any
symbols defined in the inline assembly, modulo any symbols marked as
external. It also means syntax for directives and assembly follow the
conventions of the assembler in your toolchain.</p>
<p>A simple usage looks like this:</p>
<pre><code class="language-rust ignore (requires-external-file)">#![feature(global_asm)]
<span class="boring">// you also need relevant target_arch cfgs
</span>global_asm!(include_str!(&quot;something_neato.s&quot;));
</code></pre>
<p>And a more complicated usage looks like this:</p>
<pre><pre class="playground"><code class="language-rust no_run">
<span class="boring">#![allow(unused)]
</span>#![feature(global_asm)]
<span class="boring">fn main() {
</span><span class="boring">#[cfg(any(target_arch=&quot;x86&quot;, target_arch=&quot;x86_64&quot;))]
</span><span class="boring">mod x86 {
</span>
pub mod sally {
    global_asm!(
        &quot;.global foo&quot;,
        &quot;foo:&quot;,
        &quot;jmp baz&quot;,
    );

    #[no_mangle]
    pub unsafe extern &quot;C&quot; fn baz() {}
}

// the symbols `foo` and `bar` are global, no matter where
// `global_asm!` was used.
extern &quot;C&quot; {
    fn foo();
    fn bar();
}

pub mod harry {
    global_asm!(
        &quot;.global bar&quot;,
        &quot;bar:&quot;,
        &quot;jmp quux&quot;,
    );

    #[no_mangle]
    pub unsafe extern &quot;C&quot; fn quux() {}
}
<span class="boring">}
</span><span class="boring">}
</span></code></pre></pre>
<p>You may use <code>global_asm!</code> multiple times, anywhere in your crate, in
whatever way suits you. However, you should not rely on assembler state
(e.g. assembler macros) defined in one <code>global_asm!</code> to be available in
another one. It is implementation-defined whether the multiple usages
are concatenated into one or assembled separately.</p>
<p><code>global_asm!</code> also supports <code>const</code> operands like <code>asm!</code>, which allows
constants defined in Rust to be used in assembly code:</p>
<pre><pre class="playground"><code class="language-rust no_run">
<span class="boring">#![allow(unused)]
</span>#![feature(global_asm)]
<span class="boring">fn main() {
</span><span class="boring">#[cfg(any(target_arch=&quot;x86&quot;, target_arch=&quot;x86_64&quot;))]
</span><span class="boring">mod x86 {
</span>const C: i32 = 1234;
global_asm!(
    &quot;.global bar&quot;,
    &quot;bar: .word {c}&quot;,
    c = const C,
);
<span class="boring">}
</span><span class="boring">}
</span></code></pre></pre>
<p>The syntax for passing operands is the same as <code>asm!</code> except that only
<code>const</code> operands are allowed. Refer to the <a href="library-features/asm.html">asm</a> documentation
for more details.</p>
<p>On x86, the assembly code will use intel syntax by default. You can
override this by adding <code>options(att_syntax)</code> at the end of the macro
arguments list:</p>
<pre><pre class="playground"><code class="language-rust no_run">
<span class="boring">#![allow(unused)]
</span>#![feature(global_asm)]
<span class="boring">fn main() {
</span><span class="boring">#[cfg(any(target_arch=&quot;x86&quot;, target_arch=&quot;x86_64&quot;))]
</span><span class="boring">mod x86 {
</span>global_asm!(&quot;movl ${}, %ecx&quot;, const 5, options(att_syntax));
// is equivalent to
global_asm!(&quot;mov ecx, {}&quot;, const 5);
<span class="boring">}
</span><span class="boring">}
</span></code></pre></pre>
<hr />
<p>If you don't need quite as much power and flexibility as
<code>global_asm!</code> provides, and you don't mind restricting your inline
assembly to <code>fn</code> bodies only, you might try the
<a href="library-features/asm.html">asm</a> feature instead.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hash_drain_filter"><a class="header" href="#hash_drain_filter"><code>hash_drain_filter</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/59618">#59618</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="hash_raw_entry"><a class="header" href="#hash_raw_entry"><code>hash_raw_entry</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/56167">#56167</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="hash_set_entry"><a class="header" href="#hash_set_entry"><code>hash_set_entry</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/60896">#60896</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="hashmap_internals"><a class="header" href="#hashmap_internals"><code>hashmap_internals</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="inherent_ascii_escape"><a class="header" href="#inherent_ascii_escape"><code>inherent_ascii_escape</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/77174">#77174</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="inplace_iteration"><a class="header" href="#inplace_iteration"><code>inplace_iteration</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="int_error_internals"><a class="header" href="#int_error_internals"><code>int_error_internals</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="int_log"><a class="header" href="#int_log"><code>int_log</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/70887">#70887</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="integer_atomics"><a class="header" href="#integer_atomics"><code>integer_atomics</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/32976">#32976</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="internal_output_capture"><a class="header" href="#internal_output_capture"><code>internal_output_capture</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="into_future"><a class="header" href="#into_future"><code>into_future</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/67644">#67644</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="io_error_more"><a class="header" href="#io_error_more"><code>io_error_more</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/86442">#86442</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="io_error_uncategorized"><a class="header" href="#io_error_uncategorized"><code>io_error_uncategorized</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="io_read_to_string"><a class="header" href="#io_read_to_string"><code>io_read_to_string</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/80218">#80218</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="io_slice_advance"><a class="header" href="#io_slice_advance"><code>io_slice_advance</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/62726">#62726</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="ip"><a class="header" href="#ip"><code>ip</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/27709">#27709</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="is_sorted"><a class="header" href="#is_sorted"><code>is_sorted</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/53485">#53485</a></p>
<hr />
<p>Add the methods <code>is_sorted</code>, <code>is_sorted_by</code> and <code>is_sorted_by_key</code> to <code>[T]</code>;
add the methods <code>is_sorted</code>, <code>is_sorted_by</code> and <code>is_sorted_by_key</code> to
<code>Iterator</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="is_symlink"><a class="header" href="#is_symlink"><code>is_symlink</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/85748">#85748</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="iter_advance_by"><a class="header" href="#iter_advance_by"><code>iter_advance_by</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/77404">#77404</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="iter_intersperse"><a class="header" href="#iter_intersperse"><code>iter_intersperse</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/79524">#79524</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="iter_is_partitioned"><a class="header" href="#iter_is_partitioned"><code>iter_is_partitioned</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/62544">#62544</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="iter_map_while"><a class="header" href="#iter_map_while"><code>iter_map_while</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/68537">#68537</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="iter_order_by"><a class="header" href="#iter_order_by"><code>iter_order_by</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/64295">#64295</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="iter_partition_in_place"><a class="header" href="#iter_partition_in_place"><code>iter_partition_in_place</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/62543">#62543</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="iter_zip"><a class="header" href="#iter_zip"><code>iter_zip</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/83574">#83574</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="layout_for_ptr"><a class="header" href="#layout_for_ptr"><code>layout_for_ptr</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/69835">#69835</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="liballoc_internals"><a class="header" href="#liballoc_internals"><code>liballoc_internals</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="libstd_sys_internals"><a class="header" href="#libstd_sys_internals"><code>libstd_sys_internals</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="libstd_thread_internals"><a class="header" href="#libstd_thread_internals"><code>libstd_thread_internals</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="linked_list_cursors"><a class="header" href="#linked_list_cursors"><code>linked_list_cursors</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/58533">#58533</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="linked_list_remove"><a class="header" href="#linked_list_remove"><code>linked_list_remove</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/69210">#69210</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="linux_pidfd"><a class="header" href="#linux_pidfd"><code>linux_pidfd</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/82971">#82971</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="llvm_asm"><a class="header" href="#llvm_asm"><code>llvm_asm</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/70173">#70173</a></p>
<hr />
<p>For extremely low-level manipulations and performance reasons, one
might wish to control the CPU directly. Rust supports using inline
assembly to do this via the <code>llvm_asm!</code> macro.</p>
<pre><code class="language-rust ignore (pseudo-code)">llvm_asm!(assembly template
   : output operands
   : input operands
   : clobbers
   : options
   );
</code></pre>
<p>Any use of <code>llvm_asm</code> is feature gated (requires <code>#![feature(llvm_asm)]</code> on the
crate to allow) and of course requires an <code>unsafe</code> block.</p>
<blockquote>
<p><strong>Note</strong>: the examples here are given in x86/x86-64 assembly, but
all platforms are supported.</p>
</blockquote>
<h2 id="assembly-template"><a class="header" href="#assembly-template">Assembly template</a></h2>
<p>The <code>assembly template</code> is the only required parameter and must be a
literal string (i.e. <code>&quot;&quot;</code>)</p>
<pre><pre class="playground"><code class="language-rust">#![feature(llvm_asm)]

#[cfg(any(target_arch = &quot;x86&quot;, target_arch = &quot;x86_64&quot;))]
fn foo() {
    unsafe {
        llvm_asm!(&quot;NOP&quot;);
    }
}

// Other platforms:
#[cfg(not(any(target_arch = &quot;x86&quot;, target_arch = &quot;x86_64&quot;)))]
fn foo() { /* ... */ }

fn main() {
    // ...
    foo();
    // ...
}
</code></pre></pre>
<p>(The <code>feature(llvm_asm)</code> and <code>#[cfg]</code>s are omitted from now on.)</p>
<p>Output operands, input operands, clobbers and options are all optional
but you must add the right number of <code>:</code> if you skip them:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![feature(llvm_asm)]
</span><span class="boring">#[cfg(any(target_arch = &quot;x86&quot;, target_arch = &quot;x86_64&quot;))]
</span><span class="boring">fn main() { unsafe {
</span>llvm_asm!(&quot;xor %eax, %eax&quot;
    :
    :
    : &quot;eax&quot;
   );
<span class="boring">} }
</span><span class="boring">#[cfg(not(any(target_arch = &quot;x86&quot;, target_arch = &quot;x86_64&quot;)))]
</span><span class="boring">fn main() {}
</span></code></pre></pre>
<p>Whitespace also doesn't matter:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![feature(llvm_asm)]
</span><span class="boring">#[cfg(any(target_arch = &quot;x86&quot;, target_arch = &quot;x86_64&quot;))]
</span><span class="boring">fn main() { unsafe {
</span>llvm_asm!(&quot;xor %eax, %eax&quot; ::: &quot;eax&quot;);
<span class="boring">} }
</span><span class="boring">#[cfg(not(any(target_arch = &quot;x86&quot;, target_arch = &quot;x86_64&quot;)))]
</span><span class="boring">fn main() {}
</span></code></pre></pre>
<h2 id="operands"><a class="header" href="#operands">Operands</a></h2>
<p>Input and output operands follow the same format: <code>: &quot;constraints1&quot;(expr1), &quot;constraints2&quot;(expr2), ...&quot;</code>. Output operand
expressions must be mutable place, or not yet assigned:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![feature(llvm_asm)]
</span><span class="boring">#[cfg(any(target_arch = &quot;x86&quot;, target_arch = &quot;x86_64&quot;))]
</span>fn add(a: i32, b: i32) -&gt; i32 {
    let c: i32;
    unsafe {
        llvm_asm!(&quot;add $2, $0&quot;
             : &quot;=r&quot;(c)
             : &quot;0&quot;(a), &quot;r&quot;(b)
             );
    }
    c
}
<span class="boring">#[cfg(not(any(target_arch = &quot;x86&quot;, target_arch = &quot;x86_64&quot;)))]
</span><span class="boring">fn add(a: i32, b: i32) -&gt; i32 { a + b }
</span>
fn main() {
    assert_eq!(add(3, 14159), 14162)
}
</code></pre></pre>
<p>If you would like to use real operands in this position, however,
you are required to put curly braces <code>{}</code> around the register that
you want, and you are required to put the specific size of the
operand. This is useful for very low level programming, where
which register you use is important:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#![feature(llvm_asm)]
</span><span class="boring">#[cfg(any(target_arch = &quot;x86&quot;, target_arch = &quot;x86_64&quot;))]
</span><span class="boring">unsafe fn read_byte_in(port: u16) -&gt; u8 {
</span>let result: u8;
llvm_asm!(&quot;in %dx, %al&quot; : &quot;={al}&quot;(result) : &quot;{dx}&quot;(port));
result
<span class="boring">}
</span><span class="boring">}
</span></code></pre></pre>
<h2 id="clobbers"><a class="header" href="#clobbers">Clobbers</a></h2>
<p>Some instructions modify registers which might otherwise have held
different values so we use the clobbers list to indicate to the
compiler not to assume any values loaded into those registers will
stay valid.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![feature(llvm_asm)]
</span><span class="boring">#[cfg(any(target_arch = &quot;x86&quot;, target_arch = &quot;x86_64&quot;))]
</span><span class="boring">fn main() { unsafe {
</span>// Put the value 0x200 in eax:
llvm_asm!(&quot;mov $$0x200, %eax&quot; : /* no outputs */ : /* no inputs */ : &quot;eax&quot;);
<span class="boring">} }
</span><span class="boring">#[cfg(not(any(target_arch = &quot;x86&quot;, target_arch = &quot;x86_64&quot;)))]
</span><span class="boring">fn main() {}
</span></code></pre></pre>
<p>Input and output registers need not be listed since that information
is already communicated by the given constraints. Otherwise, any other
registers used either implicitly or explicitly should be listed.</p>
<p>If the assembly changes the condition code register <code>cc</code> should be
specified as one of the clobbers. Similarly, if the assembly modifies
memory, <code>memory</code> should also be specified.</p>
<h2 id="options-2"><a class="header" href="#options-2">Options</a></h2>
<p>The last section, <code>options</code> is specific to Rust. The format is comma
separated literal strings (i.e. <code>:&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;</code>). It's used to
specify some extra info about the inline assembly:</p>
<p>Current valid options are:</p>
<ol>
<li><code>volatile</code> - specifying this is analogous to
<code>__asm__ __volatile__ (...)</code> in gcc/clang.</li>
<li><code>alignstack</code> - certain instructions expect the stack to be
aligned a certain way (i.e. SSE) and specifying this indicates to
the compiler to insert its usual stack alignment code</li>
<li><code>intel</code> - use intel syntax instead of the default AT&amp;T.</li>
</ol>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![feature(llvm_asm)]
</span><span class="boring">#[cfg(any(target_arch = &quot;x86&quot;, target_arch = &quot;x86_64&quot;))]
</span><span class="boring">fn main() {
</span>let result: i32;
unsafe {
   llvm_asm!(&quot;mov eax, 2&quot; : &quot;={eax}&quot;(result) : : : &quot;intel&quot;)
}
println!(&quot;eax is currently {}&quot;, result);
<span class="boring">}
</span><span class="boring">#[cfg(not(any(target_arch = &quot;x86&quot;, target_arch = &quot;x86_64&quot;)))]
</span><span class="boring">fn main() {}
</span></code></pre></pre>
<h2 id="more-information"><a class="header" href="#more-information">More Information</a></h2>
<p>The current implementation of the <code>llvm_asm!</code> macro is a direct binding to <a href="http://llvm.org/docs/LangRef.html#inline-assembler-expressions">LLVM's
inline assembler expressions</a>, so be sure to check out <a href="http://llvm.org/docs/LangRef.html#inline-assembler-expressions">their
documentation as well</a> for more information about clobbers,
constraints, etc.</p>
<p>If you need more power and don't mind losing some of the niceties of
<code>llvm_asm!</code>, check out <a href="library-features/global-asm.html">global_asm</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="log_syntax"><a class="header" href="#log_syntax"><code>log_syntax</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/29598">#29598</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="map_entry_replace"><a class="header" href="#map_entry_replace"><code>map_entry_replace</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/44286">#44286</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="map_first_last"><a class="header" href="#map_first_last"><code>map_first_last</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/62924">#62924</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="map_try_insert"><a class="header" href="#map_try_insert"><code>map_try_insert</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/82766">#82766</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="maybe_uninit_array_assume_init"><a class="header" href="#maybe_uninit_array_assume_init"><code>maybe_uninit_array_assume_init</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/80908">#80908</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="maybe_uninit_extra"><a class="header" href="#maybe_uninit_extra"><code>maybe_uninit_extra</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/63567">#63567</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="maybe_uninit_slice"><a class="header" href="#maybe_uninit_slice"><code>maybe_uninit_slice</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/63569">#63569</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="maybe_uninit_uninit_array"><a class="header" href="#maybe_uninit_uninit_array"><code>maybe_uninit_uninit_array</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="maybe_uninit_write_slice"><a class="header" href="#maybe_uninit_write_slice"><code>maybe_uninit_write_slice</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/79995">#79995</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="mutex_unlock"><a class="header" href="#mutex_unlock"><code>mutex_unlock</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/81872">#81872</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="new_uninit"><a class="header" href="#new_uninit"><code>new_uninit</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/63291">#63291</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="nonnull_slice_from_raw_parts"><a class="header" href="#nonnull_slice_from_raw_parts"><code>nonnull_slice_from_raw_parts</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/71941">#71941</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="nonzero_is_power_of_two"><a class="header" href="#nonzero_is_power_of_two"><code>nonzero_is_power_of_two</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/81106">#81106</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="nonzero_ops"><a class="header" href="#nonzero_ops"><code>nonzero_ops</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/84186">#84186</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="numfmt"><a class="header" href="#numfmt"><code>numfmt</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="once_cell"><a class="header" href="#once_cell"><code>once_cell</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/74465">#74465</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="option_get_or_insert_default"><a class="header" href="#option_get_or_insert_default"><code>option_get_or_insert_default</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/82901">#82901</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="option_result_contains"><a class="header" href="#option_result_contains"><code>option_result_contains</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/62358">#62358</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="option_result_unwrap_unchecked"><a class="header" href="#option_result_unwrap_unchecked"><code>option_result_unwrap_unchecked</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/81383">#81383</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="option_zip"><a class="header" href="#option_zip"><code>option_zip</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/70086">#70086</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="panic_abort"><a class="header" href="#panic_abort"><code>panic_abort</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/32837">#32837</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="panic_always_abort"><a class="header" href="#panic_always_abort"><code>panic_always_abort</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/84438">#84438</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="panic_info_message"><a class="header" href="#panic_info_message"><code>panic_info_message</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/66745">#66745</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="panic_internals"><a class="header" href="#panic_internals"><code>panic_internals</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="panic_unwind"><a class="header" href="#panic_unwind"><code>panic_unwind</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/32837">#32837</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="path_try_exists"><a class="header" href="#path_try_exists"><code>path_try_exists</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/83186">#83186</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="pattern"><a class="header" href="#pattern"><code>pattern</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/27721">#27721</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="peer_credentials_unix_socket"><a class="header" href="#peer_credentials_unix_socket"><code>peer_credentials_unix_socket</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/42839">#42839</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="pin_deref_mut"><a class="header" href="#pin_deref_mut"><code>pin_deref_mut</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/86918">#86918</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="pin_static_ref"><a class="header" href="#pin_static_ref"><code>pin_static_ref</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/78186">#78186</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="print_internals"><a class="header" href="#print_internals"><code>print_internals</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="proc_macro_def_site"><a class="header" href="#proc_macro_def_site"><code>proc_macro_def_site</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/54724">#54724</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="proc_macro_diagnostic"><a class="header" href="#proc_macro_diagnostic"><code>proc_macro_diagnostic</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/54140">#54140</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="proc_macro_internals"><a class="header" href="#proc_macro_internals"><code>proc_macro_internals</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/27812">#27812</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="proc_macro_is_available"><a class="header" href="#proc_macro_is_available"><code>proc_macro_is_available</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/71436">#71436</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="proc_macro_quote"><a class="header" href="#proc_macro_quote"><code>proc_macro_quote</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/54722">#54722</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="proc_macro_span"><a class="header" href="#proc_macro_span"><code>proc_macro_span</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/54725">#54725</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="proc_macro_tracked_env"><a class="header" href="#proc_macro_tracked_env"><code>proc_macro_tracked_env</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/74690">#74690</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="process_exitcode_placeholder"><a class="header" href="#process_exitcode_placeholder"><code>process_exitcode_placeholder</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/48711">#48711</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="process_internals"><a class="header" href="#process_internals"><code>process_internals</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="profiler_runtime_lib"><a class="header" href="#profiler_runtime_lib"><code>profiler_runtime_lib</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="ptr_as_uninit"><a class="header" href="#ptr_as_uninit"><code>ptr_as_uninit</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/75402">#75402</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="ptr_internals"><a class="header" href="#ptr_internals"><code>ptr_internals</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="ptr_metadata"><a class="header" href="#ptr_metadata"><code>ptr_metadata</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/81513">#81513</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="raw_os_nonzero"><a class="header" href="#raw_os_nonzero"><code>raw_os_nonzero</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/82363">#82363</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="raw_vec_internals"><a class="header" href="#raw_vec_internals"><code>raw_vec_internals</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="read_initializer"><a class="header" href="#read_initializer"><code>read_initializer</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/42788">#42788</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="receiver_trait"><a class="header" href="#receiver_trait"><code>receiver_trait</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="restricted_std"><a class="header" href="#restricted_std"><code>restricted_std</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="result_cloned"><a class="header" href="#result_cloned"><code>result_cloned</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/63168">#63168</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="result_contains_err"><a class="header" href="#result_contains_err"><code>result_contains_err</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/62358">#62358</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="result_copied"><a class="header" href="#result_copied"><code>result_copied</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/63168">#63168</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="result_flattening"><a class="header" href="#result_flattening"><code>result_flattening</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/70142">#70142</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="result_into_ok_or_err"><a class="header" href="#result_into_ok_or_err"><code>result_into_ok_or_err</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/82223">#82223</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="rt"><a class="header" href="#rt"><code>rt</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="sealed"><a class="header" href="#sealed"><code>sealed</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="seek_stream_len"><a class="header" href="#seek_stream_len"><code>seek_stream_len</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/59359">#59359</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="set_ptr_value"><a class="header" href="#set_ptr_value"><code>set_ptr_value</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/75091">#75091</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="setgroups"><a class="header" href="#setgroups"><code>setgroups</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/38527">#38527</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="sgx_platform"><a class="header" href="#sgx_platform"><code>sgx_platform</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/56975">#56975</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="slice_as_chunks"><a class="header" href="#slice_as_chunks"><code>slice_as_chunks</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/74985">#74985</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="slice_concat_ext"><a class="header" href="#slice_concat_ext"><code>slice_concat_ext</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/27747">#27747</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="slice_concat_trait"><a class="header" href="#slice_concat_trait"><code>slice_concat_trait</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/27747">#27747</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="slice_group_by"><a class="header" href="#slice_group_by"><code>slice_group_by</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/80552">#80552</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="slice_index_methods"><a class="header" href="#slice_index_methods"><code>slice_index_methods</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="slice_internals"><a class="header" href="#slice_internals"><code>slice_internals</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="slice_partition_at_index"><a class="header" href="#slice_partition_at_index"><code>slice_partition_at_index</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/55300">#55300</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="slice_partition_dedup"><a class="header" href="#slice_partition_dedup"><code>slice_partition_dedup</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/54279">#54279</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="slice_pattern"><a class="header" href="#slice_pattern"><code>slice_pattern</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/56345">#56345</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="slice_ptr_get"><a class="header" href="#slice_ptr_get"><code>slice_ptr_get</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/74265">#74265</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="slice_ptr_len"><a class="header" href="#slice_ptr_len"><code>slice_ptr_len</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/71146">#71146</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="slice_range"><a class="header" href="#slice_range"><code>slice_range</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/76393">#76393</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="slice_split_at_unchecked"><a class="header" href="#slice_split_at_unchecked"><code>slice_split_at_unchecked</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/76014">#76014</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="sort_internals"><a class="header" href="#sort_internals"><code>sort_internals</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="std_internals"><a class="header" href="#std_internals"><code>std_internals</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="stdin_forwarders"><a class="header" href="#stdin_forwarders"><code>stdin_forwarders</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/87096">#87096</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="stdio_locked"><a class="header" href="#stdio_locked"><code>stdio_locked</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/86845">#86845</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="stdsimd"><a class="header" href="#stdsimd"><code>stdsimd</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/48556">#48556</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="step_trait"><a class="header" href="#step_trait"><code>step_trait</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/42168">#42168</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="str_internals"><a class="header" href="#str_internals"><code>str_internals</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="str_split_as_str"><a class="header" href="#str_split_as_str"><code>str_split_as_str</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/77998">#77998</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="str_split_inclusive_as_str"><a class="header" href="#str_split_inclusive_as_str"><code>str_split_inclusive_as_str</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/77998">#77998</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="str_split_whitespace_as_str"><a class="header" href="#str_split_whitespace_as_str"><code>str_split_whitespace_as_str</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/77998">#77998</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="stream_from_iter"><a class="header" href="#stream_from_iter"><code>stream_from_iter</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/81798">#81798</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="string_extend_from_within"><a class="header" href="#string_extend_from_within"><code>string_extend_from_within</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="string_remove_matches"><a class="header" href="#string_remove_matches"><code>string_remove_matches</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/72826">#72826</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="termination_trait_lib"><a class="header" href="#termination_trait_lib"><code>termination_trait_lib</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/43301">#43301</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="test"><a class="header" href="#test"><code>test</code></a></h1>
<p>The tracking issue for this feature is: None.</p>
<hr />
<p>The internals of the <code>test</code> crate are unstable, behind the <code>test</code> flag.  The
most widely used part of the <code>test</code> crate are benchmark tests, which can test
the performance of your code.  Let's make our <code>src/lib.rs</code> look like this
(comments elided):</p>
<pre><pre class="playground"><code class="language-rust no_run">
<span class="boring">#![allow(unused)]
</span>#![feature(test)]

<span class="boring">fn main() {
</span>extern crate test;

pub fn add_two(a: i32) -&gt; i32 {
    a + 2
}

#[cfg(test)]
mod tests {
    use super::*;
    use test::Bencher;

    #[test]
    fn it_works() {
        assert_eq!(4, add_two(2));
    }

    #[bench]
    fn bench_add_two(b: &amp;mut Bencher) {
        b.iter(|| add_two(2));
    }
}
<span class="boring">}
</span></code></pre></pre>
<p>Note the <code>test</code> feature gate, which enables this unstable feature.</p>
<p>We've imported the <code>test</code> crate, which contains our benchmarking support.
We have a new function as well, with the <code>bench</code> attribute. Unlike regular
tests, which take no arguments, benchmark tests take a <code>&amp;mut Bencher</code>. This
<code>Bencher</code> provides an <code>iter</code> method, which takes a closure. This closure
contains the code we'd like to benchmark.</p>
<p>We can run benchmark tests with <code>cargo bench</code>:</p>
<pre><code class="language-bash">$ cargo bench
   Compiling adder v0.0.1 (file:///home/steve/tmp/adder)
     Running target/release/adder-91b3e234d4ed382a

running 2 tests
test tests::it_works ... ignored
test tests::bench_add_two ... bench:         1 ns/iter (+/- 0)

test result: ok. 0 passed; 0 failed; 1 ignored; 1 measured
</code></pre>
<p>Our non-benchmark test was ignored. You may have noticed that <code>cargo bench</code>
takes a bit longer than <code>cargo test</code>. This is because Rust runs our benchmark
a number of times, and then takes the average. Because we're doing so little
work in this example, we have a <code>1 ns/iter (+/- 0)</code>, but this would show
the variance if there was one.</p>
<p>Advice on writing benchmarks:</p>
<ul>
<li>Move setup code outside the <code>iter</code> loop; only put the part you want to measure inside</li>
<li>Make the code do &quot;the same thing&quot; on each iteration; do not accumulate or change state</li>
<li>Make the outer function idempotent too; the benchmark runner is likely to run
it many times</li>
<li>Make the inner <code>iter</code> loop short and fast so benchmark runs are fast and the
calibrator can adjust the run-length at fine resolution</li>
<li>Make the code in the <code>iter</code> loop do something simple, to assist in pinpointing
performance improvements (or regressions)</li>
</ul>
<h2 id="gotcha-optimizations"><a class="header" href="#gotcha-optimizations">Gotcha: optimizations</a></h2>
<p>There's another tricky part to writing benchmarks: benchmarks compiled with
optimizations activated can be dramatically changed by the optimizer so that
the benchmark is no longer benchmarking what one expects. For example, the
compiler might recognize that some calculation has no external effects and
remove it entirely.</p>
<pre><pre class="playground"><code class="language-rust no_run">
<span class="boring">#![allow(unused)]
</span>#![feature(test)]

<span class="boring">fn main() {
</span>extern crate test;
use test::Bencher;

#[bench]
fn bench_xor_1000_ints(b: &amp;mut Bencher) {
    b.iter(|| {
        (0..1000).fold(0, |old, new| old ^ new);
    });
}
<span class="boring">}
</span></code></pre></pre>
<p>gives the following results</p>
<pre><code class="language-text">running 1 test
test bench_xor_1000_ints ... bench:         0 ns/iter (+/- 0)

test result: ok. 0 passed; 0 failed; 0 ignored; 1 measured
</code></pre>
<p>The benchmarking runner offers two ways to avoid this. Either, the closure that
the <code>iter</code> method receives can return an arbitrary value which forces the
optimizer to consider the result used and ensures it cannot remove the
computation entirely. This could be done for the example above by adjusting the
<code>b.iter</code> call to</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct X;
</span><span class="boring">impl X { fn iter&lt;T, F&gt;(&amp;self, _: F) where F: FnMut() -&gt; T {} } let b = X;
</span>b.iter(|| {
    // Note lack of `;` (could also use an explicit `return`).
    (0..1000).fold(0, |old, new| old ^ new)
});
<span class="boring">}
</span></code></pre></pre>
<p>Or, the other option is to call the generic <code>test::black_box</code> function, which
is an opaque &quot;black box&quot; to the optimizer and so forces it to consider any
argument as used.</p>
<pre><pre class="playground"><code class="language-rust">#![feature(test)]

extern crate test;

<span class="boring">fn main() {
</span><span class="boring">struct X;
</span><span class="boring">impl X { fn iter&lt;T, F&gt;(&amp;self, _: F) where F: FnMut() -&gt; T {} } let b = X;
</span>b.iter(|| {
    let n = test::black_box(1000);

    (0..n).fold(0, |a, b| a ^ b)
})
<span class="boring">}
</span></code></pre></pre>
<p>Neither of these read or modify the value, and are very cheap for small values.
Larger values can be passed indirectly to reduce overhead (e.g.
<code>black_box(&amp;huge_struct)</code>).</p>
<p>Performing either of the above changes gives the following benchmarking results</p>
<pre><code class="language-text">running 1 test
test bench_xor_1000_ints ... bench:       131 ns/iter (+/- 3)

test result: ok. 0 passed; 0 failed; 0 ignored; 1 measured
</code></pre>
<p>However, the optimizer can still modify a testcase in an undesirable manner
even when using either of the above.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="thread_id_value"><a class="header" href="#thread_id_value"><code>thread_id_value</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/67939">#67939</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="thread_local_const_init"><a class="header" href="#thread_local_const_init"><code>thread_local_const_init</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/84223">#84223</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="thread_local_internals"><a class="header" href="#thread_local_internals"><code>thread_local_internals</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="thread_spawn_unchecked"><a class="header" href="#thread_spawn_unchecked"><code>thread_spawn_unchecked</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/55132">#55132</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="toowned_clone_into"><a class="header" href="#toowned_clone_into"><code>toowned_clone_into</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/41263">#41263</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="total_cmp"><a class="header" href="#total_cmp"><code>total_cmp</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/72599">#72599</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="trace_macros"><a class="header" href="#trace_macros"><code>trace_macros</code></a></h1>
<p>The tracking issue for this feature is <a href="https://github.com/rust-lang/rust/issues/29598">#29598</a>.</p>
<hr />
<p>With <code>trace_macros</code> you can trace the expansion of macros in your code.</p>
<h2 id="examples-12"><a class="header" href="#examples-12">Examples</a></h2>
<pre><pre class="playground"><code class="language-rust">#![feature(trace_macros)]

fn main() {
    trace_macros!(true);
    println!(&quot;Hello, Rust!&quot;);
    trace_macros!(false);
}
</code></pre></pre>
<p>The <code>cargo build</code> output:</p>
<pre><code class="language-txt">note: trace_macro
 --&gt; src/main.rs:5:5
  |
5 |     println!(&quot;Hello, Rust!&quot;);
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = note: expanding `println! { &quot;Hello, Rust!&quot; }`
  = note: to `print ! ( concat ! ( &quot;Hello, Rust!&quot; , &quot;\n&quot; ) )`
  = note: expanding `print! { concat ! ( &quot;Hello, Rust!&quot; , &quot;\n&quot; ) }`
  = note: to `$crate :: io :: _print ( format_args ! ( concat ! ( &quot;Hello, Rust!&quot; , &quot;\n&quot; ) )
          )`

    Finished dev [unoptimized + debuginfo] target(s) in 0.60 secs
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="track_path"><a class="header" href="#track_path"><code>track_path</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/73921">#73921</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="trusted_len"><a class="header" href="#trusted_len"><code>trusted_len</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/37572">#37572</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="trusted_random_access"><a class="header" href="#trusted_random_access"><code>trusted_random_access</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="trusted_step"><a class="header" href="#trusted_step"><code>trusted_step</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/85731">#85731</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="try_find"><a class="header" href="#try_find"><code>try_find</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/63178">#63178</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="try_reserve"><a class="header" href="#try_reserve"><code>try_reserve</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/48043">#48043</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="try_reserve_kind"><a class="header" href="#try_reserve_kind"><code>try_reserve_kind</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/48043">#48043</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="try_trait_transition"><a class="header" href="#try_trait_transition"><code>try_trait_transition</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="try_trait_v2"><a class="header" href="#try_trait_v2"><code>try_trait_v2</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/84277">#84277</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="type_name_of_val"><a class="header" href="#type_name_of_val"><code>type_name_of_val</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/66359">#66359</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="unchecked_math"><a class="header" href="#unchecked_math"><code>unchecked_math</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/85122">#85122</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="unicode_internals"><a class="header" href="#unicode_internals"><code>unicode_internals</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="unix_chroot"><a class="header" href="#unix_chroot"><code>unix_chroot</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/84715">#84715</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="unix_process_wait_more"><a class="header" href="#unix_process_wait_more"><code>unix_process_wait_more</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/80695">#80695</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="unix_socket_ancillary_data"><a class="header" href="#unix_socket_ancillary_data"><code>unix_socket_ancillary_data</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/76915">#76915</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="unix_socket_peek"><a class="header" href="#unix_socket_peek"><code>unix_socket_peek</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/76923">#76923</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="unsafe_cell_raw_get"><a class="header" href="#unsafe_cell_raw_get"><code>unsafe_cell_raw_get</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/66358">#66358</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="unsize"><a class="header" href="#unsize"><code>unsize</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/27732">#27732</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="unwrap_infallible"><a class="header" href="#unwrap_infallible"><code>unwrap_infallible</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/61695">#61695</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="unzip_option"><a class="header" href="#unzip_option"><code>unzip_option</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/87800">#87800</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="update_panic_count"><a class="header" href="#update_panic_count"><code>update_panic_count</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="variant_count"><a class="header" href="#variant_count"><code>variant_count</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/73662">#73662</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="vec_into_raw_parts"><a class="header" href="#vec_into_raw_parts"><code>vec_into_raw_parts</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/65816">#65816</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="vec_spare_capacity"><a class="header" href="#vec_spare_capacity"><code>vec_spare_capacity</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/75017">#75017</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="vec_split_at_spare"><a class="header" href="#vec_split_at_spare"><code>vec_split_at_spare</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/81944">#81944</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="wasi_ext"><a class="header" href="#wasi_ext"><code>wasi_ext</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/71213">#71213</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="windows_by_handle"><a class="header" href="#windows_by_handle"><code>windows_by_handle</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/63010">#63010</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="windows_c"><a class="header" href="#windows_c"><code>windows_c</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="windows_file_type_ext"><a class="header" href="#windows_file_type_ext"><code>windows_file_type_ext</code></a></h1>
<p>This feature has no tracking issue, and is therefore likely internal to the compiler, not being intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="windows_handle"><a class="header" href="#windows_handle"><code>windows_handle</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="windows_net"><a class="header" href="#windows_net"><code>windows_net</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="windows_process_extensions_force_quotes"><a class="header" href="#windows_process_extensions_force_quotes"><code>windows_process_extensions_force_quotes</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/82227">#82227</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="windows_process_extensions_raw_arg"><a class="header" href="#windows_process_extensions_raw_arg"><code>windows_process_extensions_raw_arg</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/29494">#29494</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="windows_stdio"><a class="header" href="#windows_stdio"><code>windows_stdio</code></a></h1>
<p>This feature is internal to the Rust compiler and is not intended for general use.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="with_options"><a class="header" href="#with_options"><code>with_options</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/65439">#65439</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrapping_int_impl"><a class="header" href="#wrapping_int_impl"><code>wrapping_int_impl</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/32463">#32463</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrapping_next_power_of_two"><a class="header" href="#wrapping_next_power_of_two"><code>wrapping_next_power_of_two</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/32463">#32463</a></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="write_all_vectored"><a class="header" href="#write_all_vectored"><code>write_all_vectored</code></a></h1>
<p>The tracking issue for this feature is: <a href="https://github.com/rust-lang/rust/issues/70436">#70436</a></p>
<hr />

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
