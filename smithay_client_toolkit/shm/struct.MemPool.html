<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A wrapper handling an SHM memory pool backed by a shared memory file"><meta name="keywords" content="rust, rustlang, rust-lang, MemPool"><title>MemPool in smithay_client_toolkit::shm - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../smithay_client_toolkit/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../smithay_client_toolkit/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">MemPool</a></h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#fields">Fields</a></h3><div class="sidebar-links"><a href="#structfield.buffer_count">buffer_count</a><a href="#structfield.callback">callback</a><a href="#structfield.file">file</a><a href="#structfield.len">len</a><a href="#structfield.mmap">mmap</a><a href="#structfield.pool">pool</a></div><h3 class="sidebar-title"><a href="#implementations">Methods</a></h3><div class="sidebar-links"><a href="#method.buffer">buffer</a><a href="#method.is_used">is_used</a><a href="#method.mmap">mmap</a><a href="#method.new">new</a><a href="#method.resize">resize</a></div><h3 class="sidebar-title"><a href="#trait-implementations">Trait Implementations</a></h3><div class="sidebar-links"><a href="#impl-Drop">Drop</a><a href="#impl-Seek">Seek</a><a href="#impl-Write">Write</a></div><h3 class="sidebar-title"><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><div class="sidebar-links"><a href="#impl-RefUnwindSafe">!RefUnwindSafe</a><a href="#impl-Send">!Send</a><a href="#impl-Sync">!Sync</a><a href="#impl-Unpin">Unpin</a><a href="#impl-UnwindSafe">!UnwindSafe</a></div><h3 class="sidebar-title"><a href="#blanket-implementations">Blanket Implementations</a></h3><div class="sidebar-links"><a href="#impl-Any">Any</a><a href="#impl-Borrow%3CT%3E">Borrow&lt;T&gt;</a><a href="#impl-BorrowMut%3CT%3E">BorrowMut&lt;T&gt;</a><a href="#impl-From%3CT%3E">From&lt;T&gt;</a><a href="#impl-Into%3CU%3E">Into&lt;U&gt;</a><a href="#impl-TryFrom%3CU%3E">TryFrom&lt;U&gt;</a><a href="#impl-TryInto%3CU%3E">TryInto&lt;U&gt;</a></div></div><h2 class="location">In <a href="../index.html">smithay_client_toolkit</a>::<wbr><a href="index.html">shm</a></h2><div id="sidebar-vars" data-name="MemPool" data-ty="struct" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../smithay_client_toolkit/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><div>
                                <input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Struct <a href="../index.html">smithay_client_toolkit</a>::<wbr><a href="index.html">shm</a>::<wbr><a class="struct" href="#">MemPool</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/smithay_client_toolkit/shm/mempool.rs.html#118-125" title="goto source code">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust struct"><code>pub struct MemPool {
    file: <a class="struct" href="../../std/fs/struct.File.html" title="struct std::fs::File">File</a>,
    len: <a class="primitive" href="../../std/primitive.usize.html">usize</a>,
    pool: <a class="struct" href="../../wayland_client/proxy/struct.Main.html" title="struct wayland_client::proxy::Main">Main</a>&lt;<a class="struct" href="../../wayland_client/protocol/wl_shm_pool/struct.WlShmPool.html" title="struct wayland_client::protocol::wl_shm_pool::WlShmPool">WlShmPool</a>&gt;,
    buffer_count: <a class="struct" href="../../alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc">Rc</a>&lt;<a class="struct" href="../../core/cell/struct.RefCell.html" title="struct core::cell::RefCell">RefCell</a>&lt;<a class="primitive" href="../../std/primitive.u32.html">u32</a>&gt;&gt;,
    mmap: <a class="struct" href="../../memmap2/struct.MmapMut.html" title="struct memmap2::MmapMut">MmapMut</a>,
    callback: <a class="struct" href="../../alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc">Rc</a>&lt;<a class="struct" href="../../core/cell/struct.RefCell.html" title="struct core::cell::RefCell">RefCell</a>&lt;dyn <a class="trait" href="../../core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(<a class="struct" href="../../wayland_commons/filter/struct.DispatchData.html" title="struct wayland_commons::filter::DispatchData">DispatchData</a>&lt;'_&gt;)&gt;&gt;,
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A wrapper handling an SHM memory pool backed by a shared memory file</p>
<p>This wrapper handles for you the creation of the shared memory file and its synchronization
with the protocol.</p>
<p>Mempool internally tracks the release of the buffers by the compositor. As such, creating a buffer
that is not commited to a surface (and then never released by the server) would cause the Mempool
to be stuck believing it is still in use.</p>
<p>Mempool will also handle the destruction of buffers and as such the <code>destroy()</code> method should not
be used on buffers created from Mempool.</p>
<p>Overwriting the contents of the memory pool before it is completely freed may cause graphical
glitches due to the possible corruption of data while the compositor is reading it.</p>
<p>Mempool requires a callback that will be called when the pool becomes free, this
happens when all the pools buffers are released by the server.</p>
</div></details><h2 id="fields" class="fields small-section-header">Fields<a href="#fields" class="anchor"></a></h2><span id="structfield.file" class="structfield small-section-header"><a href="#structfield.file" class="anchor field"></a><code>file: <a class="struct" href="../../std/fs/struct.File.html" title="struct std::fs::File">File</a></code></span><span id="structfield.len" class="structfield small-section-header"><a href="#structfield.len" class="anchor field"></a><code>len: <a class="primitive" href="../../std/primitive.usize.html">usize</a></code></span><span id="structfield.pool" class="structfield small-section-header"><a href="#structfield.pool" class="anchor field"></a><code>pool: <a class="struct" href="../../wayland_client/proxy/struct.Main.html" title="struct wayland_client::proxy::Main">Main</a>&lt;<a class="struct" href="../../wayland_client/protocol/wl_shm_pool/struct.WlShmPool.html" title="struct wayland_client::protocol::wl_shm_pool::WlShmPool">WlShmPool</a>&gt;</code></span><span id="structfield.buffer_count" class="structfield small-section-header"><a href="#structfield.buffer_count" class="anchor field"></a><code>buffer_count: <a class="struct" href="../../alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc">Rc</a>&lt;<a class="struct" href="../../core/cell/struct.RefCell.html" title="struct core::cell::RefCell">RefCell</a>&lt;<a class="primitive" href="../../std/primitive.u32.html">u32</a>&gt;&gt;</code></span><span id="structfield.mmap" class="structfield small-section-header"><a href="#structfield.mmap" class="anchor field"></a><code>mmap: <a class="struct" href="../../memmap2/struct.MmapMut.html" title="struct memmap2::MmapMut">MmapMut</a></code></span><span id="structfield.callback" class="structfield small-section-header"><a href="#structfield.callback" class="anchor field"></a><code>callback: <a class="struct" href="../../alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc">Rc</a>&lt;<a class="struct" href="../../core/cell/struct.RefCell.html" title="struct core::cell::RefCell">RefCell</a>&lt;dyn <a class="trait" href="../../core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(<a class="struct" href="../../wayland_commons/filter/struct.DispatchData.html" title="struct wayland_commons::filter::DispatchData">DispatchData</a>&lt;'_&gt;)&gt;&gt;</code></span><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/smithay_client_toolkit/shm/mempool.rs.html#127-224" title="goto source code">source</a></div><a href="#impl" class="anchor"></a><h3 class="code-header in-band">impl <a class="struct" href="mempool/struct.MemPool.html" title="struct smithay_client_toolkit::shm::mempool::MemPool">MemPool</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.new" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/smithay_client_toolkit/shm/mempool.rs.html#129-149" title="goto source code">source</a></div><a href="#method.new" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.new" class="fnname">new</a>&lt;F&gt;(shm: <a class="struct" href="../../wayland_client/proxy/struct.Attached.html" title="struct wayland_client::proxy::Attached">Attached</a>&lt;<a class="struct" href="../../wayland_client/protocol/wl_shm/struct.WlShm.html" title="struct wayland_client::protocol::wl_shm::WlShm">WlShm</a>&gt;, callback: F) -&gt; <a class="type" href="../../std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="mempool/struct.MemPool.html" title="struct smithay_client_toolkit::shm::mempool::MemPool">MemPool</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;F: <a class="trait" href="../../core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(<a class="struct" href="../../wayland_commons/filter/struct.DispatchData.html" title="struct wayland_commons::filter::DispatchData">DispatchData</a>&lt;'_&gt;) + 'static,&nbsp;</span></h4></div></summary><div class="docblock"><p>Create a new memory pool associated with given shm</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.resize" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/smithay_client_toolkit/shm/mempool.rs.html#162-170" title="goto source code">source</a></div><a href="#method.resize" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.resize" class="fnname">resize</a>(&amp;mut self, newsize: <a class="primitive" href="../../std/primitive.usize.html">usize</a>) -&gt; <a class="type" href="../../std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock"><p>Resize the memory pool</p>
<p>This affect the size as it is seen by the wayland server. Even
if you extend the temporary file size by writing to it, you need to
call this method otherwise the server won’t see the new size.</p>
<p>Memory pools can only be extented, as such this method will do nothing
if the requested new size is smaller than the current size.</p>
<p>This method allows you to ensure the underlying pool is large enough to
hold what you want to write to it.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.buffer" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/smithay_client_toolkit/shm/mempool.rs.html#184-213" title="goto source code">source</a></div><a href="#method.buffer" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.buffer" class="fnname">buffer</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;offset: <a class="primitive" href="../../std/primitive.i32.html">i32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;width: <a class="primitive" href="../../std/primitive.i32.html">i32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;height: <a class="primitive" href="../../std/primitive.i32.html">i32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;stride: <a class="primitive" href="../../std/primitive.i32.html">i32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;format: <a class="enum" href="enum.Format.html" title="enum smithay_client_toolkit::shm::Format">Format</a><br>) -&gt; <a class="struct" href="../../wayland_client/protocol/wl_buffer/struct.WlBuffer.html" title="struct wayland_client::protocol::wl_buffer::WlBuffer">WlBuffer</a></h4></div></summary><div class="docblock"><p>Create a new buffer to this pool</p>
<p>The parameters are:</p>
<ul>
<li><code>offset</code>: the offset (in bytes) from the beginning of the pool at which this
buffer starts</li>
<li><code>width</code>: the width of this buffer (in pixels)</li>
<li><code>height</code>: the height of this buffer (in pixels)</li>
<li><code>stride</code>: distance (in bytes) between the beginning of a row and the next one</li>
<li><code>format</code>: the encoding format of the pixels. Using a format that was not
advertised to the <code>wl_shm</code> global by the server is a protocol error and will
terminate your connection</li>
</ul>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.mmap" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/smithay_client_toolkit/shm/mempool.rs.html#216-218" title="goto source code">source</a></div><a href="#method.mmap" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.mmap" class="fnname">mmap</a>(&amp;mut self) -&gt; &amp;mut <a class="struct" href="../../memmap2/struct.MmapMut.html" title="struct memmap2::MmapMut">MmapMut</a></h4></div></summary><div class="docblock"><p>Uses the memmap2 crate to map the underlying shared memory file</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.is_used" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/smithay_client_toolkit/shm/mempool.rs.html#221-223" title="goto source code">source</a></div><a href="#method.is_used" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.is_used" class="fnname">is_used</a>(&amp;self) -&gt; <a class="primitive" href="../../std/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Returns true if the pool contains buffers that are currently in use by the server</p>
</div></details></div></details><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor"></a></h2><div id="trait-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Drop" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/smithay_client_toolkit/shm/mempool.rs.html#226-230" title="goto source code">source</a></div><a href="#impl-Drop" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../../core/ops/drop/trait.Drop.html" title="trait core::ops::drop::Drop">Drop</a> for <a class="struct" href="mempool/struct.MemPool.html" title="struct smithay_client_toolkit::shm::mempool::MemPool">MemPool</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.drop" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/smithay_client_toolkit/shm/mempool.rs.html#227-229" title="goto source code">source</a></div><a href="#method.drop" class="anchor"></a><h4 class="code-header">fn <a href="../../core/ops/drop/trait.Drop.html#tymethod.drop" class="fnname">drop</a>(&amp;mut self)</h4></div></summary><div class='docblock'><p>Executes the destructor for this type. <a href="../../core/ops/drop/trait.Drop.html#tymethod.drop">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Seek" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/smithay_client_toolkit/shm/mempool.rs.html#241-245" title="goto source code">source</a></div><a href="#impl-Seek" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../../std/io/trait.Seek.html" title="trait std::io::Seek">Seek</a> for <a class="struct" href="mempool/struct.MemPool.html" title="struct smithay_client_toolkit::shm::mempool::MemPool">MemPool</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.seek" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/smithay_client_toolkit/shm/mempool.rs.html#242-244" title="goto source code">source</a></div><a href="#method.seek" class="anchor"></a><h4 class="code-header">fn <a href="../../std/io/trait.Seek.html#tymethod.seek" class="fnname">seek</a>(&amp;mut self, pos: <a class="enum" href="../../std/io/enum.SeekFrom.html" title="enum std::io::SeekFrom">SeekFrom</a>) -&gt; <a class="type" href="../../std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.u64.html">u64</a>&gt;</h4></div></summary><div class='docblock'><p>Seek to an offset, in bytes, in a stream. <a href="../../std/io/trait.Seek.html#tymethod.seek">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.rewind" class="method trait-impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.55.0">1.55.0</span> · <a class="srclink" href="../../src/std/io/mod.rs.html#1770" title="goto source code">source</a></div><a href="#method.rewind" class="anchor"></a><h4 class="code-header">fn <a href="../../std/io/trait.Seek.html#method.rewind" class="fnname">rewind</a>(&amp;mut self) -&gt; <a class="enum" href="../../core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.unit.html">()</a>, <a class="struct" href="../../std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Rewind to the beginning of a stream. <a href="../../std/io/trait.Seek.html#method.rewind">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stream_len" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#1810" title="goto source code">source</a></div><a href="#method.stream_len" class="anchor"></a><h4 class="code-header">fn <a href="../../std/io/trait.Seek.html#method.stream_len" class="fnname">stream_len</a>(&amp;mut self) -&gt; <a class="enum" href="../../core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.u64.html">u64</a>, <a class="struct" href="../../std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;</h4></div></summary><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>seek_stream_len</code>)</div></div><div class='docblock'><p>Returns the length of this stream (in bytes). <a href="../../std/io/trait.Seek.html#method.stream_len">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.stream_position" class="method trait-impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.51.0">1.51.0</span> · <a class="srclink" href="../../src/std/io/mod.rs.html#1847" title="goto source code">source</a></div><a href="#method.stream_position" class="anchor"></a><h4 class="code-header">fn <a href="../../std/io/trait.Seek.html#method.stream_position" class="fnname">stream_position</a>(&amp;mut self) -&gt; <a class="enum" href="../../core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.u64.html">u64</a>, <a class="struct" href="../../std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Returns the current seek position from the start of the stream. <a href="../../std/io/trait.Seek.html#method.stream_position">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Write" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/smithay_client_toolkit/shm/mempool.rs.html#232-239" title="goto source code">source</a></div><a href="#impl-Write" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../../std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="mempool/struct.MemPool.html" title="struct smithay_client_toolkit::shm::mempool::MemPool">MemPool</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.write" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/smithay_client_toolkit/shm/mempool.rs.html#233-235" title="goto source code">source</a></div><a href="#method.write" class="anchor"></a><h4 class="code-header">fn <a href="../../std/io/trait.Write.html#tymethod.write" class="fnname">write</a>(&amp;mut self, buf: <a class="primitive" href="../../std/primitive.slice.html">&amp;[</a><a class="primitive" href="../../std/primitive.u8.html">u8</a><a class="primitive" href="../../std/primitive.slice.html">]</a>) -&gt; <a class="type" href="../../std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.usize.html">usize</a>&gt;</h4></div></summary><div class='docblock'><p>Write a buffer into this writer, returning how many bytes were written. <a href="../../std/io/trait.Write.html#tymethod.write">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.flush" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/smithay_client_toolkit/shm/mempool.rs.html#236-238" title="goto source code">source</a></div><a href="#method.flush" class="anchor"></a><h4 class="code-header">fn <a href="../../std/io/trait.Write.html#tymethod.flush" class="fnname">flush</a>(&amp;mut self) -&gt; <a class="type" href="../../std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class='docblock'><p>Flush this output stream, ensuring that all intermediately buffered
contents reach their destination. <a href="../../std/io/trait.Write.html#tymethod.flush">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.write_vectored" class="method trait-impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.36.0">1.36.0</span> · <a class="srclink" href="../../src/std/io/mod.rs.html#1434" title="goto source code">source</a></div><a href="#method.write_vectored" class="anchor"></a><h4 class="code-header">fn <a href="../../std/io/trait.Write.html#method.write_vectored" class="fnname">write_vectored</a>(&amp;mut self, bufs: <a class="primitive" href="../../std/primitive.slice.html">&amp;[</a><a class="struct" href="../../std/io/struct.IoSlice.html" title="struct std::io::IoSlice">IoSlice</a>&lt;'_&gt;<a class="primitive" href="../../std/primitive.slice.html">]</a>) -&gt; <a class="enum" href="../../core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.usize.html">usize</a>, <a class="struct" href="../../std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Like <a href="../../std/io/trait.Write.html#tymethod.write"><code>write</code></a>, except that it writes from a slice of buffers. <a href="../../std/io/trait.Write.html#method.write_vectored">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.is_write_vectored" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#1449" title="goto source code">source</a></div><a href="#method.is_write_vectored" class="anchor"></a><h4 class="code-header">fn <a href="../../std/io/trait.Write.html#method.is_write_vectored" class="fnname">is_write_vectored</a>(&amp;self) -&gt; <a class="primitive" href="../../std/primitive.bool.html">bool</a></h4></div></summary><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>can_vector</code>)</div></div><div class='docblock'><p>Determines if this <code>Write</code>r has an efficient <a href="../../std/io/trait.Write.html#method.write_vectored"><code>write_vectored</code></a>
implementation. <a href="../../std/io/trait.Write.html#method.is_write_vectored">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.write_all" class="method trait-impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> · <a class="srclink" href="../../src/std/io/mod.rs.html#1511" title="goto source code">source</a></div><a href="#method.write_all" class="anchor"></a><h4 class="code-header">fn <a href="../../std/io/trait.Write.html#method.write_all" class="fnname">write_all</a>(&amp;mut self, buf: <a class="primitive" href="../../std/primitive.slice.html">&amp;[</a><a class="primitive" href="../../std/primitive.u8.html">u8</a><a class="primitive" href="../../std/primitive.slice.html">]</a>) -&gt; <a class="enum" href="../../core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.unit.html">()</a>, <a class="struct" href="../../std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Attempts to write an entire buffer into this writer. <a href="../../std/io/trait.Write.html#method.write_all">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.write_all_vectored" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#1576" title="goto source code">source</a></div><a href="#method.write_all_vectored" class="anchor"></a><h4 class="code-header">fn <a href="../../std/io/trait.Write.html#method.write_all_vectored" class="fnname">write_all_vectored</a>(&amp;mut self, bufs: <a class="primitive" href="../../std/primitive.slice.html">&amp;mut [</a><a class="struct" href="../../std/io/struct.IoSlice.html" title="struct std::io::IoSlice">IoSlice</a>&lt;'_&gt;<a class="primitive" href="../../std/primitive.slice.html">]</a>) -&gt; <a class="enum" href="../../core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.unit.html">()</a>, <a class="struct" href="../../std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;</h4></div></summary><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>write_all_vectored</code>)</div></div><div class='docblock'><p>Attempts to write multiple buffers into this writer. <a href="../../std/io/trait.Write.html#method.write_all_vectored">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.write_fmt" class="method trait-impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> · <a class="srclink" href="../../src/std/io/mod.rs.html#1632" title="goto source code">source</a></div><a href="#method.write_fmt" class="anchor"></a><h4 class="code-header">fn <a href="../../std/io/trait.Write.html#method.write_fmt" class="fnname">write_fmt</a>(&amp;mut self, fmt: <a class="struct" href="../../core/fmt/struct.Arguments.html" title="struct core::fmt::Arguments">Arguments</a>&lt;'_&gt;) -&gt; <a class="enum" href="../../core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.unit.html">()</a>, <a class="struct" href="../../std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Writes a formatted string into this writer, returning any error
encountered. <a href="../../std/io/trait.Write.html#method.write_fmt">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.by_ref" class="method trait-impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> · <a class="srclink" href="../../src/std/io/mod.rs.html#1688-1690" title="goto source code">source</a></div><a href="#method.by_ref" class="anchor"></a><h4 class="code-header">fn <a href="../../std/io/trait.Write.html#method.by_ref" class="fnname">by_ref</a>(&amp;mut self) -&gt; <a class="primitive" href="../../std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class='docblock'><p>Creates a “by reference” adapter for this instance of <code>Write</code>. <a href="../../std/io/trait.Write.html#method.by_ref">Read more</a></p>
</div></details></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor"></a></h2><div id="synthetic-implementations-list"><div id="impl-RefUnwindSafe" class="impl has-srclink"><div class="rightside"></div><a href="#impl-RefUnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl !<a class="trait" href="../../core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="mempool/struct.MemPool.html" title="struct smithay_client_toolkit::shm::mempool::MemPool">MemPool</a></h3></div><div id="impl-Send" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Send" class="anchor"></a><h3 class="code-header in-band">impl !<a class="trait" href="../../core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="mempool/struct.MemPool.html" title="struct smithay_client_toolkit::shm::mempool::MemPool">MemPool</a></h3></div><div id="impl-Sync" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Sync" class="anchor"></a><h3 class="code-header in-band">impl !<a class="trait" href="../../core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="mempool/struct.MemPool.html" title="struct smithay_client_toolkit::shm::mempool::MemPool">MemPool</a></h3></div><div id="impl-Unpin" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Unpin" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../../core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="mempool/struct.MemPool.html" title="struct smithay_client_toolkit::shm::mempool::MemPool">MemPool</a></h3></div><div id="impl-UnwindSafe" class="impl has-srclink"><div class="rightside"></div><a href="#impl-UnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl !<a class="trait" href="../../core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="mempool/struct.MemPool.html" title="struct smithay_client_toolkit::shm::mempool::MemPool">MemPool</a></h3></div></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor"></a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Any" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/any.rs.html#132-136" title="goto source code">source</a></div><a href="#impl-Any" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="../../core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="../../core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.type_id" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/any.rs.html#133" title="goto source code">source</a></div><a href="#method.type_id" class="anchor"></a><h4 class="code-header">pub fn <a href="../../core/any/trait.Any.html#tymethod.type_id" class="fnname">type_id</a>(&amp;self) -&gt; <a class="struct" href="../../core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></div></summary><div class='docblock'><p>Gets the <code>TypeId</code> of <code>self</code>. <a href="../../core/any/trait.Any.html#tymethod.type_id">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Borrow%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/borrow.rs.html#209-214" title="goto source code">source</a></div><a href="#impl-Borrow%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="../../core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="../../core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.borrow" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/borrow.rs.html#211" title="goto source code">source</a></div><a href="#method.borrow" class="anchor"></a><h4 class="code-header">pub fn <a href="../../core/borrow/trait.Borrow.html#tymethod.borrow" class="fnname">borrow</a>(&amp;self) -&gt; <a class="primitive" href="../../std/primitive.reference.html">&amp;</a>T</h4></div></summary><div class='docblock'><p>Immutably borrows from an owned value. <a href="../../core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-BorrowMut%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/borrow.rs.html#218-222" title="goto source code">source</a></div><a href="#impl-BorrowMut%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="../../core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="../../core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.borrow_mut" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/borrow.rs.html#219" title="goto source code">source</a></div><a href="#method.borrow_mut" class="anchor"></a><h4 class="code-header">pub fn <a href="../../core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fnname">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="../../std/primitive.reference.html">&amp;mut </a>T</h4></div></summary><div class='docblock'><p>Mutably borrows from an owned value. <a href="../../core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-From%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#549-553" title="goto source code">source</a></div><a href="#impl-From%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="../../core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.from" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#550" title="goto source code">source</a></div><a href="#method.from" class="anchor"></a><h4 class="code-header">pub fn <a href="../../core/convert/trait.From.html#tymethod.from" class="fnname">from</a>(t: T) -&gt; T</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Into%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#537-544" title="goto source code">source</a></div><a href="#impl-Into%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="../../core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="../../core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.into" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#541" title="goto source code">source</a></div><a href="#method.into" class="anchor"></a><h4 class="code-header">pub fn <a href="../../core/convert/trait.Into.html#tymethod.into" class="fnname">into</a>(self) -&gt; U</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-TryFrom%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#589-598" title="goto source code">source</a></div><a href="#impl-TryFrom%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="../../core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="../../core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Error" class="type trait-impl has-srclink"><a href="#associatedtype.Error" class="anchor"></a><h4 class="code-header">type <a href="../../core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="../../core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></div></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.try_from" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#595" title="goto source code">source</a></div><a href="#method.try_from" class="anchor"></a><h4 class="code-header">pub fn <a href="../../core/convert/trait.TryFrom.html#tymethod.try_from" class="fnname">try_from</a>(value: U) -&gt; <a class="enum" href="../../core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="../../core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="../../core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-TryInto%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#574-583" title="goto source code">source</a></div><a href="#impl-TryInto%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="../../core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="../../core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Error-1" class="type trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor"></a><h4 class="code-header">type <a href="../../core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="../../core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="../../core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></div></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.try_into" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#580" title="goto source code">source</a></div><a href="#method.try_into" class="anchor"></a><h4 class="code-header">pub fn <a href="../../core/convert/trait.TryInto.html#tymethod.try_into" class="fnname">try_into</a>(self) -&gt; <a class="enum" href="../../core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="../../core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="../../core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="smithay_client_toolkit" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0-nightly (5e57faa78 2022-01-19)" ></div>
</body></html>