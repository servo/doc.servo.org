<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Smart pointers for the JS-managed DOM objects."><meta name="keywords" content="rust, rustlang, rust-lang, root"><title>script::dom::bindings::root - Rust</title><link rel="stylesheet" type="text/css" href="../../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../../ayu.css" disabled ><script id="default-settings" ></script><script src="../../../../storage.js"></script><script src="../../../../crates.js"></script><noscript><link rel="stylesheet" href="../../../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../../../favicon.svg"><link rel="alternate icon" type="image/png" href="../../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../../../script/index.html'><div class='logo-container rust-logo'><img src='../../../../rust-logo.png' alt='logo'></div></a><h2 class="location">Module root</h2><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><div id="sidebar-vars" data-name="root" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../../../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../../../index.html">script</a>::<wbr><a href="../../index.html">dom</a>::<wbr><a href="../index.html">bindings</a>::<wbr><a class="mod" href="#">root</a><button id="copy-path" onclick="copy_path(this)" title="copy path"><img src="../../../../clipboard.svg" width="19" height="18" alt="Copy item import" title="Copy item import to clipboard"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../../../src/script/dom/bindings/root.rs.html#5-799" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Smart pointers for the JS-managed DOM objects.</p>
<p>The DOM is made up of DOM objects whose lifetime is entirely controlled by
the whims of the SpiderMonkey garbage collector. The types in this module
are designed to ensure that any interactions with said Rust types only
occur on values that will remain alive the entire time.</p>
<p>Here is a brief overview of the important types:</p>
<ul>
<li><code>Root&lt;T&gt;</code>: a stack-based rooted value.</li>
<li><code>DomRoot&lt;T&gt;</code>: a stack-based reference to a rooted DOM object.</li>
<li><code>Dom&lt;T&gt;</code>: a reference to a DOM object that can automatically be traced by
the GC when encountered as a field of a Rust structure.</li>
</ul>
<p><code>Dom&lt;T&gt;</code> does not allow access to their inner value without explicitly
creating a stack-based root via the <code>root</code> method. This returns a <code>DomRoot&lt;T&gt;</code>,
which causes the JS-owned value to be uncollectable for the duration of the
<code>Root</code> object’s lifetime. A reference to the object can then be obtained
from the <code>Root</code> object. These references are not allowed to outlive their
originating <code>DomRoot&lt;T&gt;</code>.</p>
</div></details><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="struct" href="struct.Dom.html" title="script::dom::bindings::root::Dom struct">Dom</a></div><div class="item-right docblock-short"><p>A traced reference to a DOM object</p>
</div><div class="item-left module-item"><a class="struct" href="struct.DomOnceCell.html" title="script::dom::bindings::root::DomOnceCell struct">DomOnceCell</a></div><div class="item-right docblock-short"><p>A holder that allows to lazily initialize the value only once
<code>Dom&lt;T&gt;</code>, using OnceCell
Essentially a <code>OnceCell&lt;Dom&lt;T&gt;&gt;</code>.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.LayoutDom.html" title="script::dom::bindings::root::LayoutDom struct">LayoutDom</a></div><div class="item-right docblock-short"><p>An unrooted reference to a DOM object for use in layout. <code>Layout*Helpers</code>
traits must be implemented on this.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.MaybeUnreflectedDom.html" title="script::dom::bindings::root::MaybeUnreflectedDom struct">MaybeUnreflectedDom</a></div><div class="item-right docblock-short"><p>A traced reference to a DOM object that may not be reflected yet.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.MutDom.html" title="script::dom::bindings::root::MutDom struct">MutDom</a></div><div class="item-right docblock-short"><p>A holder that provides interior mutability for GC-managed values such as
<code>Dom&lt;T&gt;</code>.  Essentially a <code>Cell&lt;Dom&lt;T&gt;&gt;</code>, but safer.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.MutNullableDom.html" title="script::dom::bindings::root::MutNullableDom struct">MutNullableDom</a></div><div class="item-right docblock-short"><p>A holder that provides interior mutability for GC-managed values such as
<code>Dom&lt;T&gt;</code>, with nullability represented by an enclosing Option wrapper.
Essentially a <code>Cell&lt;Option&lt;Dom&lt;T&gt;&gt;&gt;</code>, but safer.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.Root.html" title="script::dom::bindings::root::Root struct">Root</a></div><div class="item-right docblock-short"><p>A rooted value.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.RootCollection.html" title="script::dom::bindings::root::RootCollection struct">RootCollection</a></div><div class="item-right docblock-short"><p>A rooting mechanism for reflectors on the stack.
LIFO is not required.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.ThreadLocalStackRoots.html" title="script::dom::bindings::root::ThreadLocalStackRoots struct">ThreadLocalStackRoots</a></div><div class="item-right docblock-short"></div></div><h2 id="constants" class="section-header"><a href="#constants">Constants</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="constant" href="constant.STACK_ROOTS.html" title="script::dom::bindings::root::STACK_ROOTS constant">STACK_ROOTS</a></div><div class="item-right docblock-short"></div></div><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="trait" href="trait.DomSlice.html" title="script::dom::bindings::root::DomSlice trait">DomSlice</a></div><div class="item-right docblock-short"><p>Get a slice of references to DOM objects.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.OptionalHeapSetter.html" title="script::dom::bindings::root::OptionalHeapSetter trait">OptionalHeapSetter</a></div><div class="item-right docblock-short"><p>Helper trait for safer manipulations of <code>Option&lt;Heap&lt;T&gt;&gt;</code> values.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.StableTraceObject.html" title="script::dom::bindings::root::StableTraceObject trait">StableTraceObject</a></div><div class="item-right docblock-short"><p>Represents values that can be rooted through a stable address that will
not change for their whole lifetime.</p>
</div></div><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="fn" href="fn.assert_in_layout.html" title="script::dom::bindings::root::assert_in_layout fn">assert_in_layout</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="fn" href="fn.assert_in_script.html" title="script::dom::bindings::root::assert_in_script fn">assert_in_script</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="fn" href="fn.trace_roots.html" title="script::dom::bindings::root::trace_roots fn">trace_roots</a><a title="unsafe function" href="#"><sup>⚠</sup></a></div><div class="item-right docblock-short"><p>SM Callback that traces the rooted reflectors</p>
</div></div><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="type" href="type.DomRoot.html" title="script::dom::bindings::root::DomRoot type">DomRoot</a></div><div class="item-right docblock-short"><p>A rooted reference to a DOM object.</p>
</div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../../../" data-current-crate="script" data-search-index-js="../../../../search-index.js" data-search-js="../../../../search.js"></div>
    <script src="../../../../main.js"></script>
</body></html>