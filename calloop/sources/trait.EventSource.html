<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Trait representing an event source"><meta name="keywords" content="rust, rustlang, rust-lang, EventSource"><title>EventSource in calloop::sources - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../favicon.svg"><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../calloop/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><h2 class="location">Trait EventSource</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#associated-types">Associated Types</a></h3><div class="sidebar-links"><a href="#associatedtype.Event">Event</a><a href="#associatedtype.Metadata">Metadata</a><a href="#associatedtype.Ret">Ret</a></div><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><div class="sidebar-links"><a href="#tymethod.process_events">process_events</a><a href="#tymethod.register">register</a><a href="#tymethod.reregister">reregister</a><a href="#tymethod.unregister">unregister</a></div><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div><h2 class="location">Other items in<br><a href="../index.html">calloop</a>::<wbr><a href="index.html">sources</a></h2><div id="sidebar-vars" data-name="EventSource" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="../index.html">calloop</a>::<wbr><a href="index.html">sources</a>::<wbr><a class="trait" href="#">EventSource</a><button id="copy-path" onclick="copy_path(this)" title="copy path"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item import" title="Copy item import to clipboard"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/calloop/sources/mod.rs.html#25-84" title="goto source code">[src]</a></span></h1><div class="docblock type-decl"><pre class="rust trait">pub trait EventSource {
    type <a href="#associatedtype.Event" class="type">Event</a>;
    type <a href="#associatedtype.Metadata" class="type">Metadata</a>;
    type <a href="#associatedtype.Ret" class="type">Ret</a>;
    fn <a href="#tymethod.process_events" class="fnname">process_events</a>&lt;F&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readiness: <a class="struct" href="../sys/struct.Readiness.html" title="struct calloop::sys::Readiness">Readiness</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;token: <a class="struct" href="../sys/struct.Token.html" title="struct calloop::sys::Token">Token</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callback: F<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.unit.html">()</a>&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F: <a class="trait" href="../../core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(Self::<a class="type" href="trait.EventSource.html#associatedtype.Event" title="type calloop::sources::EventSource::Event">Event</a>, &amp;mut Self::<a class="type" href="trait.EventSource.html#associatedtype.Metadata" title="type calloop::sources::EventSource::Metadata">Metadata</a>) -&gt; Self::<a class="type" href="trait.EventSource.html#associatedtype.Ret" title="type calloop::sources::EventSource::Ret">Ret</a></span>;
<div class="item-spacer"></div>    fn <a href="#tymethod.register" class="fnname">register</a>(&amp;mut self, poll: &amp;mut <a class="struct" href="../sys/struct.Poll.html" title="struct calloop::sys::Poll">Poll</a>, token: <a class="struct" href="../sys/struct.Token.html" title="struct calloop::sys::Token">Token</a>) -&gt; <a class="type" href="../../std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.unit.html">()</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.reregister" class="fnname">reregister</a>(&amp;mut self, poll: &amp;mut <a class="struct" href="../sys/struct.Poll.html" title="struct calloop::sys::Poll">Poll</a>, token: <a class="struct" href="../sys/struct.Token.html" title="struct calloop::sys::Token">Token</a>) -&gt; <a class="type" href="../../std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.unit.html">()</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.unregister" class="fnname">unregister</a>(&amp;mut self, poll: &amp;mut <a class="struct" href="../sys/struct.Poll.html" title="struct calloop::sys::Poll">Poll</a>) -&gt; <a class="type" href="../../std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.unit.html">()</a>&gt;;
}</pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Trait representing an event source</p>
<p>This is the trait you need to implement if you wish to create your own
calloop-compatible event sources.</p>
<p>The 3 type parameter define the type of closure the user will need to
provide to process events for your event source.</p>
<p>The <code>process_events</code> method will be called when one of the FD you registered
is ready, with the associated readiness and token.</p>
<p>The last 3 methods are plumbing to let your source register itself with the
polling system. See their documentation for details.</p>
</div></details><h2 id="associated-types" class="small-section-header">Associated Types<a href="#associated-types" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Event" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/calloop/sources/mod.rs.html#27" title="goto source code">[src]</a></div><h4 class="code-header">type <a href="#associatedtype.Event" class="type">Event</a></h4></div></summary><div class="docblock"><p>The type of events generated by your source.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="associatedtype.Metadata" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/calloop/sources/mod.rs.html#35" title="goto source code">[src]</a></div><h4 class="code-header">type <a href="#associatedtype.Metadata" class="type">Metadata</a></h4></div></summary><div class="docblock"><p>Some metadata of your event source</p>
<p>This is typically useful if your source contains some internal state that
the user may need to interact with when processing events. The user callback
will receive a <code>&amp;mut Metadata</code> reference.</p>
<p>Just set to <code>()</code> if not needed.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="associatedtype.Ret" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/calloop/sources/mod.rs.html#43" title="goto source code">[src]</a></div><h4 class="code-header">type <a href="#associatedtype.Ret" class="type">Ret</a></h4></div></summary><div class="docblock"><p>The return type of the user callback</p>
<p>If the user needs to return some value back to your event source once its
processing is finshed (to indicate success or failure for example), you can
specify it using this type.</p>
<p>Just set to <code>()</code> if not needed.</p>
</div></details></div><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.process_events" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/calloop/sources/mod.rs.html#55-62" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.process_events" class="fnname">process_events</a>&lt;F&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;readiness: <a class="struct" href="../sys/struct.Readiness.html" title="struct calloop::sys::Readiness">Readiness</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;token: <a class="struct" href="../sys/struct.Token.html" title="struct calloop::sys::Token">Token</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;callback: F<br>) -&gt; <a class="type" href="../../std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.unit.html">()</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;F: <a class="trait" href="../../core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(Self::<a class="type" href="trait.EventSource.html#associatedtype.Event" title="type calloop::sources::EventSource::Event">Event</a>, &amp;mut Self::<a class="type" href="trait.EventSource.html#associatedtype.Metadata" title="type calloop::sources::EventSource::Metadata">Metadata</a>) -&gt; Self::<a class="type" href="trait.EventSource.html#associatedtype.Ret" title="type calloop::sources::EventSource::Ret">Ret</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Process any relevant events</p>
<p>This method will be called every time one of the FD you registered becomes
ready, including the readiness details and the associated token.</p>
<p>Your event source will then do some processing of the file descriptor(s) to generate
events, and call the provided <code>callback</code> for each one of them.</p>
<p>You should ensure you drained the file descriptors of their events, especially if using
edge-triggered mode.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.register" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/calloop/sources/mod.rs.html#71" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.register" class="fnname">register</a>(&amp;mut self, poll: &amp;mut <a class="struct" href="../sys/struct.Poll.html" title="struct calloop::sys::Poll">Poll</a>, token: <a class="struct" href="../sys/struct.Token.html" title="struct calloop::sys::Token">Token</a>) -&gt; <a class="type" href="../../std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock"><p>Register yourself to this poll instance</p>
<p>You should register all your relevant file descriptors to the provided <code>Poll</code>
using its <code>Poll::register</code> method.</p>
<p>If you need to register more than one file descriptor, you can change the
<code>sub_id</code> field of the <code>Token</code> to differentiate between them.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.reregister" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/calloop/sources/mod.rs.html#77" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.reregister" class="fnname">reregister</a>(&amp;mut self, poll: &amp;mut <a class="struct" href="../sys/struct.Poll.html" title="struct calloop::sys::Poll">Poll</a>, token: <a class="struct" href="../sys/struct.Token.html" title="struct calloop::sys::Token">Token</a>) -&gt; <a class="type" href="../../std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock"><p>Re-register your file descriptors</p>
<p>Your should update the registration of all your relevant file descriptor to
the provided <code>Poll</code> using its <code>Poll::reregister</code>, if necessary.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.unregister" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/calloop/sources/mod.rs.html#83" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.unregister" class="fnname">unregister</a>(&amp;mut self, poll: &amp;mut <a class="struct" href="../sys/struct.Poll.html" title="struct calloop::sys::Poll">Poll</a>) -&gt; <a class="type" href="../../std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="../../std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock"><p>Unregister your file descriptors</p>
<p>You should unregister all your file descriptors from this <code>Poll</code> using its
<code>Poll::unregister</code> method.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"><div id="impl-EventSource" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/calloop/sources/ping.rs.html#47-99" title="goto source code">[src]</a></div><a href="#impl-EventSource" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.EventSource.html" title="trait calloop::sources::EventSource">EventSource</a> for <a class="struct" href="../ping/struct.PingSource.html" title="struct calloop::ping::PingSource">PingSource</a></h3></div><div id="impl-EventSource-1" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/calloop/sources/signals.rs.html#125-165" title="goto source code">[src]</a></div><a href="#impl-EventSource-1" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.EventSource.html" title="trait calloop::sources::EventSource">EventSource</a> for <a class="struct" href="../signals/struct.Signals.html" title="struct calloop::signals::Signals">Signals</a></h3></div><div id="impl-EventSource-2" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/calloop/sources/generic.rs.html#58-86" title="goto source code">[src]</a></div><a href="#impl-EventSource-2" class="anchor"></a><h3 class="code-header in-band">impl&lt;F:&nbsp;<a class="trait" href="../../std/os/imp/unix/io/trait.AsRawFd.html" title="trait std::os::imp::unix::io::AsRawFd">AsRawFd</a>&gt; <a class="trait" href="trait.EventSource.html" title="trait calloop::sources::EventSource">EventSource</a> for <a class="struct" href="../generic/struct.Generic.html" title="struct calloop::generic::Generic">Generic</a>&lt;F&gt;</h3></div><div id="impl-EventSource-3" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/calloop/sources/channel.rs.html#141-180" title="goto source code">[src]</a></div><a href="#impl-EventSource-3" class="anchor"></a><h3 class="code-header in-band">impl&lt;T:&nbsp;'static&gt; <a class="trait" href="trait.EventSource.html" title="trait calloop::sources::EventSource">EventSource</a> for <a class="struct" href="../channel/struct.Channel.html" title="struct calloop::channel::Channel">Channel</a>&lt;T&gt;</h3></div><div id="impl-EventSource-4" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/calloop/sources/timer.rs.html#106-156" title="goto source code">[src]</a></div><a href="#impl-EventSource-4" class="anchor"></a><h3 class="code-header in-band">impl&lt;T:&nbsp;'static&gt; <a class="trait" href="trait.EventSource.html" title="trait calloop::sources::EventSource">EventSource</a> for <a class="struct" href="../timer/struct.Timer.html" title="struct calloop::timer::Timer">Timer</a>&lt;T&gt;</h3></div></div><script type="text/javascript" src="../../implementors/calloop/sources/trait.EventSource.js" async></script></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="calloop" data-search-index-js="../../search-index.js" data-search-js="../../search.js"></div>
    <script src="../../main.js"></script>
</body></html>