<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Non-generic part of `RawTable` which allows functions to be instantiated only once regardless of how many different key-value types are used."><title>RawTableInner in hashbrown::raw::inner - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="hashbrown" data-themes="" data-resource-suffix="" data-rustdoc-version="1.80.1 (3f5fd8dd4 2024-08-06)" data-channel="1.80.1" data-search-js="search-d52510db62a78183.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../hashbrown/index.html">hashbrown</a><span class="version">0.14.5</span></h2></div><h2 class="location"><a href="#">RawTableInner</a></h2><div class="sidebar-elems"><section><h3><a href="#fields">Fields</a></h3><ul class="block structfield"><li><a href="#structfield.bucket_mask">bucket_mask</a></li><li><a href="#structfield.ctrl">ctrl</a></li><li><a href="#structfield.growth_left">growth_left</a></li><li><a href="#structfield.items">items</a></li></ul><h3><a href="#implementations">Associated Constants</a></h3><ul class="block associatedconstant"><li><a href="#associatedconstant.NEW">NEW</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.allocation_info">allocation_info</a></li><li><a href="#method.allocation_info_or_zero">allocation_info_or_zero</a></li><li><a href="#method.bucket">bucket</a></li><li><a href="#method.bucket_ptr">bucket_ptr</a></li><li><a href="#method.buckets">buckets</a></li><li><a href="#method.clear_no_drop">clear_no_drop</a></li><li><a href="#method.ctrl">ctrl</a></li><li><a href="#method.data_end">data_end</a></li><li><a href="#method.drop_elements">drop_elements</a></li><li><a href="#method.drop_inner_table">drop_inner_table</a></li><li><a href="#method.erase">erase</a></li><li><a href="#method.fallible_with_capacity">fallible_with_capacity</a></li><li><a href="#method.find_inner">find_inner</a></li><li><a href="#method.find_insert_slot">find_insert_slot</a></li><li><a href="#method.find_insert_slot_in_group">find_insert_slot_in_group</a></li><li><a href="#method.find_or_find_insert_slot_inner">find_or_find_insert_slot_inner</a></li><li><a href="#method.fix_insert_slot">fix_insert_slot</a></li><li><a href="#method.free_buckets">free_buckets</a></li><li><a href="#method.full_buckets_indices">full_buckets_indices</a></li><li><a href="#method.is_bucket_full">is_bucket_full</a></li><li><a href="#method.is_empty_singleton">is_empty_singleton</a></li><li><a href="#method.is_in_same_group">is_in_same_group</a></li><li><a href="#method.iter">iter</a></li><li><a href="#method.new">new</a></li><li><a href="#method.new_uninitialized">new_uninitialized</a></li><li><a href="#method.num_ctrl_bytes">num_ctrl_bytes</a></li><li><a href="#method.prepare_insert_no_grow">prepare_insert_no_grow</a></li><li><a href="#method.prepare_insert_slot">prepare_insert_slot</a></li><li><a href="#method.prepare_rehash_in_place">prepare_rehash_in_place</a></li><li><a href="#method.prepare_resize">prepare_resize</a></li><li><a href="#method.probe_seq">probe_seq</a></li><li><a href="#method.record_item_insert_at">record_item_insert_at</a></li><li><a href="#method.rehash_in_place">rehash_in_place</a></li><li><a href="#method.replace_ctrl_h2">replace_ctrl_h2</a></li><li><a href="#method.reserve_rehash_inner">reserve_rehash_inner</a></li><li><a href="#method.resize_inner">resize_inner</a></li><li><a href="#method.set_ctrl">set_ctrl</a></li><li><a href="#method.set_ctrl_h2">set_ctrl_h2</a></li><li><a href="#method.with_capacity">with_capacity</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block synthetic-implementation"><li><a href="#impl-Send-for-RawTableInner">!Send</a></li><li><a href="#impl-Sync-for-RawTableInner">!Sync</a></li><li><a href="#impl-Freeze-for-RawTableInner">Freeze</a></li><li><a href="#impl-RefUnwindSafe-for-RawTableInner">RefUnwindSafe</a></li><li><a href="#impl-Unpin-for-RawTableInner">Unpin</a></li><li><a href="#impl-UnwindSafe-for-RawTableInner">UnwindSafe</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block blanket-implementation"><li><a href="#impl-Any-for-T">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-T">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-T">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-From%3CT%3E-for-T">From&lt;T&gt;</a></li><li><a href="#impl-Into%3CU%3E-for-T">Into&lt;U&gt;</a></li><li><a href="#impl-TryFrom%3CU%3E-for-T">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E-for-T">TryInto&lt;U&gt;</a></li></ul></section><h2><a href="index.html">In hashbrown::raw::inner</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Struct <a href="../../index.html">hashbrown</a>::<wbr><a href="../index.html">raw</a>::<wbr><a href="index.html">inner</a>::<wbr><a class="struct" href="#">RawTableInner</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../../src/hashbrown/raw/mod.rs.html#795-809">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>struct RawTableInner {
    bucket_mask: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>,
    ctrl: <a class="struct" href="https://doc.rust-lang.org/1.80.1/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u8.html">u8</a>&gt;,
    growth_left: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>,
    items: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>,
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Non-generic part of <code>RawTable</code> which allows functions to be instantiated only once regardless
of how many different key-value types are used.</p>
</div></details><h2 id="fields" class="fields section-header">Fields<a href="#fields" class="anchor">§</a></h2><span id="structfield.bucket_mask" class="structfield section-header"><a href="#structfield.bucket_mask" class="anchor field">§</a><code>bucket_mask: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a></code></span><span id="structfield.ctrl" class="structfield section-header"><a href="#structfield.ctrl" class="anchor field">§</a><code>ctrl: <a class="struct" href="https://doc.rust-lang.org/1.80.1/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u8.html">u8</a>&gt;</code></span><span id="structfield.growth_left" class="structfield section-header"><a href="#structfield.growth_left" class="anchor field">§</a><code>growth_left: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a></code></span><span id="structfield.items" class="structfield section-header"><a href="#structfield.items" class="anchor field">§</a><code>items: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a></code></span><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-RawTableInner" class="impl"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#1699-1717">source</a><a href="#impl-RawTableInner" class="anchor">§</a><h3 class="code-header">impl <a class="struct" href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner">RawTableInner</a></h3></section></summary><div class="impl-items"><section id="associatedconstant.NEW" class="associatedconstant"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#1700">source</a><h4 class="code-header">const <a href="#associatedconstant.NEW" class="constant">NEW</a>: Self = _</h4></section><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#1708-1716">source</a><h4 class="code-header">const fn <a href="#method.new" class="fn">new</a>() -&gt; Self</h4></section></summary><div class="docblock"><p>Creates a new empty hash table without allocating any memory.</p>
<p>In effect this returns a table with exactly 1 bucket. However we can
leave the data pointer dangling since that bucket is never accessed
due to our load factor forcing us to always have at least 1 free bucket.</p>
</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-RawTableInner-1" class="impl"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#1719-3434">source</a><a href="#impl-RawTableInner-1" class="anchor">§</a><h3 class="code-header">impl <a class="struct" href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner">RawTableInner</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new_uninitialized" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#1733-1763">source</a><h4 class="code-header">unsafe fn <a href="#method.new_uninitialized" class="fn">new_uninitialized</a>&lt;A&gt;(
    alloc: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.reference.html">&amp;A</a>,
    table_layout: <a class="struct" href="struct.TableLayout.html" title="struct hashbrown::raw::inner::TableLayout">TableLayout</a>,
    buckets: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>,
    fallibility: <a class="enum" href="enum.Fallibility.html" title="enum hashbrown::raw::inner::Fallibility">Fallibility</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self, <a class="enum" href="../../enum.TryReserveError.html" title="enum hashbrown::TryReserveError">TryReserveError</a>&gt;<div class="where">where
    A: <a class="trait" href="trait.Allocator.html" title="trait hashbrown::raw::inner::Allocator">Allocator</a>,</div></h4></section></summary><div class="docblock"><p>Allocates a new <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> with the given number of buckets.
The control bytes and buckets are left uninitialized.</p>
<h5 id="safety"><a class="doc-anchor" href="#safety">§</a>Safety</h5>
<p>The caller of this function must ensure that the <code>buckets</code> is power of two
and also initialize all control bytes of the length <code>self.bucket_mask + 1 + Group::WIDTH</code> with the <a href="constant.EMPTY.html" title="constant hashbrown::raw::inner::EMPTY"><code>EMPTY</code></a> bytes.</p>
<p>See also <a href="https://doc.rust-lang.org/alloc/alloc/trait.Allocator.html"><code>Allocator</code></a> API for other safety concerns.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.fallible_with_capacity" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#1770-1797">source</a><h4 class="code-header">fn <a href="#method.fallible_with_capacity" class="fn">fallible_with_capacity</a>&lt;A&gt;(
    alloc: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.reference.html">&amp;A</a>,
    table_layout: <a class="struct" href="struct.TableLayout.html" title="struct hashbrown::raw::inner::TableLayout">TableLayout</a>,
    capacity: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>,
    fallibility: <a class="enum" href="enum.Fallibility.html" title="enum hashbrown::raw::inner::Fallibility">Fallibility</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self, <a class="enum" href="../../enum.TryReserveError.html" title="enum hashbrown::TryReserveError">TryReserveError</a>&gt;<div class="where">where
    A: <a class="trait" href="trait.Allocator.html" title="trait hashbrown::raw::inner::Allocator">Allocator</a>,</div></h4></section></summary><div class="docblock"><p>Attempts to allocate a new <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> with at least enough
capacity for inserting the given number of elements without reallocating.</p>
<p>All the control bytes are initialized with the <a href="constant.EMPTY.html" title="constant hashbrown::raw::inner::EMPTY"><code>EMPTY</code></a> bytes.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.with_capacity" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#1810-1820">source</a><h4 class="code-header">fn <a href="#method.with_capacity" class="fn">with_capacity</a>&lt;A&gt;(
    alloc: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.reference.html">&amp;A</a>,
    table_layout: <a class="struct" href="struct.TableLayout.html" title="struct hashbrown::raw::inner::TableLayout">TableLayout</a>,
    capacity: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>,
) -&gt; Self<div class="where">where
    A: <a class="trait" href="trait.Allocator.html" title="trait hashbrown::raw::inner::Allocator">Allocator</a>,</div></h4></section></summary><div class="docblock"><p>Allocates a new <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> with at least enough capacity for inserting
the given number of elements without reallocating.</p>
<p>Panics if the new capacity exceeds <a href="https://doc.rust-lang.org/1.80.1/std/primitive.isize.html#associatedconstant.MAX" title="associated constant isize::MAX"><code>isize::MAX</code></a> bytes and <a href="https://doc.rust-lang.org/alloc/alloc/fn.handle_alloc_error.html"><code>abort</code></a> the program
in case of allocation error. Use <a href="struct.RawTableInner.html#method.fallible_with_capacity" title="associated function hashbrown::raw::inner::RawTableInner::fallible_with_capacity"><code>fallible_with_capacity</code></a> instead if you want to
handle memory allocation failure.</p>
<p>All the control bytes are initialized with the <a href="constant.EMPTY.html" title="constant hashbrown::raw::inner::EMPTY"><code>EMPTY</code></a> bytes.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.fix_insert_slot" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#1867-1894">source</a><h4 class="code-header">unsafe fn <a href="#method.fix_insert_slot" class="fn">fix_insert_slot</a>(&amp;self, index: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>) -&gt; <a class="struct" href="struct.InsertSlot.html" title="struct hashbrown::raw::inner::InsertSlot">InsertSlot</a></h4></section></summary><div class="docblock"><p>Fixes up an insertion slot returned by the <a href="struct.RawTableInner.html#method.find_insert_slot_in_group" title="method hashbrown::raw::inner::RawTableInner::find_insert_slot_in_group"><code>RawTableInner::find_insert_slot_in_group</code></a> method.</p>
<p>In tables smaller than the group width (<code>self.buckets() &lt; Group::WIDTH</code>), trailing control
bytes outside the range of the table are filled with <a href="constant.EMPTY.html" title="constant hashbrown::raw::inner::EMPTY"><code>EMPTY</code></a> entries. These will unfortunately
trigger a match of <a href="struct.RawTableInner.html#method.find_insert_slot_in_group" title="method hashbrown::raw::inner::RawTableInner::find_insert_slot_in_group"><code>RawTableInner::find_insert_slot_in_group</code></a> function. This is because
the <code>Some(bit)</code> returned by <code>group.match_empty_or_deleted().lowest_set_bit()</code> after masking
(<code>(probe_seq.pos + bit) &amp; self.bucket_mask</code>) may point to a full bucket that is already occupied.
We detect this situation here and perform a second scan starting at the beginning of the table.
This second scan is guaranteed to find an empty slot (due to the load factor) before hitting the
trailing control bytes (containing <a href="constant.EMPTY.html" title="constant hashbrown::raw::inner::EMPTY"><code>EMPTY</code></a> bytes).</p>
<p>If this function is called correctly, it is guaranteed to return <a href="struct.InsertSlot.html" title="struct hashbrown::raw::inner::InsertSlot"><code>InsertSlot</code></a> with an
index of an empty or deleted bucket in the range <code>0..self.buckets()</code> (see <code>Warning</code> and
<code>Safety</code>).</p>
<h5 id="warning"><a class="doc-anchor" href="#warning">§</a>Warning</h5>
<p>The table must have at least 1 empty or deleted <code>bucket</code>, otherwise if the table is less than
the group width (<code>self.buckets() &lt; Group::WIDTH</code>) this function returns an index outside of the
table indices range <code>0..self.buckets()</code> (<code>0..=self.bucket_mask</code>). Attempt to write data at that
index will cause immediate <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
<h5 id="safety-1"><a class="doc-anchor" href="#safety-1">§</a>Safety</h5>
<p>The safety rules are directly derived from the safety rules for <a href="struct.RawTableInner.html#method.ctrl" title="method hashbrown::raw::inner::RawTableInner::ctrl"><code>RawTableInner::ctrl</code></a> method.
Thus, in order to uphold those safety contracts, as well as for the correct logic of the work
of this crate, the following rules are necessary and sufficient:</p>
<ul>
<li>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> must have properly initialized control bytes otherwise calling this
function results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
</li>
<li>
<p>This function must only be used on insertion slots found by <a href="struct.RawTableInner.html#method.find_insert_slot_in_group" title="method hashbrown::raw::inner::RawTableInner::find_insert_slot_in_group"><code>RawTableInner::find_insert_slot_in_group</code></a>
(after the <code>find_insert_slot_in_group</code> function, but before insertion into the table).</p>
</li>
<li>
<p>The <code>index</code> must not be greater than the <code>self.bucket_mask</code>, i.e. <code>(index + 1) &lt;= self.buckets()</code>
(this one is provided by the <a href="struct.RawTableInner.html#method.find_insert_slot_in_group" title="method hashbrown::raw::inner::RawTableInner::find_insert_slot_in_group"><code>RawTableInner::find_insert_slot_in_group</code></a> function).</p>
</li>
</ul>
<p>Calling this function with an index not provided by <a href="struct.RawTableInner.html#method.find_insert_slot_in_group" title="method hashbrown::raw::inner::RawTableInner::find_insert_slot_in_group"><code>RawTableInner::find_insert_slot_in_group</code></a>
may result in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a> even if the index satisfies the safety rules of the
<a href="struct.RawTableInner.html#method.ctrl" title="method hashbrown::raw::inner::RawTableInner::ctrl"><code>RawTableInner::ctrl</code></a> function (<code>index &lt; self.bucket_mask + 1 + Group::WIDTH</code>).</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.find_insert_slot_in_group" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#1904-1914">source</a><h4 class="code-header">fn <a href="#method.find_insert_slot_in_group" class="fn">find_insert_slot_in_group</a>(
    &amp;self,
    group: &amp;<a class="struct" href="sse2/struct.Group.html" title="struct hashbrown::raw::inner::sse2::Group">Group</a>,
    probe_seq: &amp;<a class="struct" href="struct.ProbeSeq.html" title="struct hashbrown::raw::inner::ProbeSeq">ProbeSeq</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>&gt;</h4></section></summary><div class="docblock"><p>Finds the position to insert something in a group.</p>
<p><strong>This may have false positives and must be fixed up with <code>fix_insert_slot</code>
before it’s used.</strong></p>
<p>The function is guaranteed to return the index of an empty or deleted <a href="struct.Bucket.html" title="struct hashbrown::raw::inner::Bucket"><code>Bucket</code></a>
in the range <code>0..self.buckets()</code> (<code>0..=self.bucket_mask</code>).</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.find_or_find_insert_slot_inner" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#1952-2011">source</a><h4 class="code-header">unsafe fn <a href="#method.find_or_find_insert_slot_inner" class="fn">find_or_find_insert_slot_inner</a>(
    &amp;self,
    hash: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u64.html">u64</a>,
    eq: &amp;mut dyn <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.bool.html">bool</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>, <a class="struct" href="struct.InsertSlot.html" title="struct hashbrown::raw::inner::InsertSlot">InsertSlot</a>&gt;</h4></section></summary><div class="docblock"><p>Searches for an element in the table, or a potential slot where that element could
be inserted (an empty or deleted <a href="struct.Bucket.html" title="struct hashbrown::raw::inner::Bucket"><code>Bucket</code></a> index).</p>
<p>This uses dynamic dispatch to reduce the amount of code generated, but that is
eliminated by LLVM optimizations.</p>
<p>This function does not make any changes to the <code>data</code> part of the table, or any
changes to the <code>items</code> or <code>growth_left</code> field of the table.</p>
<p>The table must have at least 1 empty or deleted <code>bucket</code>, otherwise, if the
<code>eq: &amp;mut dyn FnMut(usize) -&gt; bool</code> function does not return <code>true</code>, this function
will never return (will go into an infinite loop) for tables larger than the group
width, or return an index outside of the table indices range if the table is less
than the group width.</p>
<p>This function is guaranteed to provide the <code>eq: &amp;mut dyn FnMut(usize) -&gt; bool</code>
function with only <code>FULL</code> buckets’ indices and return the <code>index</code> of the found
element (as <code>Ok(index)</code>). If the element is not found and there is at least 1
empty or deleted <a href="struct.Bucket.html" title="struct hashbrown::raw::inner::Bucket"><code>Bucket</code></a> in the table, the function is guaranteed to return
<a href="struct.InsertSlot.html" title="struct hashbrown::raw::inner::InsertSlot">InsertSlot</a> with an index in the range <code>0..self.buckets()</code>, but in any case,
if this function returns <a href="struct.InsertSlot.html" title="struct hashbrown::raw::inner::InsertSlot"><code>InsertSlot</code></a>, it will contain an index in the range
<code>0..=self.buckets()</code>.</p>
<h5 id="safety-2"><a class="doc-anchor" href="#safety-2">§</a>Safety</h5>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> must have properly initialized control bytes otherwise calling
this function results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
<p>Attempt to write data at the <a href="struct.InsertSlot.html" title="struct hashbrown::raw::inner::InsertSlot"><code>InsertSlot</code></a> returned by this function when the table is
less than the group width and if there was not at least one empty or deleted bucket in
the table will cause immediate <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>. This is because in this case the
function will return <code>self.bucket_mask + 1</code> as an index due to the trailing <a href="constant.EMPTY.html" title="constant hashbrown::raw::inner::EMPTY">`EMPTY</a>
control bytes outside the table range.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.prepare_insert_slot" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2066-2078">source</a><h4 class="code-header">unsafe fn <a href="#method.prepare_insert_slot" class="fn">prepare_insert_slot</a>(&amp;mut self, hash: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u64.html">u64</a>) -&gt; (<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>, <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u8.html">u8</a>)</h4></section></summary><div class="docblock"><p>Searches for an empty or deleted bucket which is suitable for inserting a new
element and sets the hash for that slot. Returns an index of that slot and the
old control byte stored in the found index.</p>
<p>This function does not check if the given element exists in the table. Also,
this function does not check if there is enough space in the table to insert
a new element. Caller of the funtion must make ensure that the table has at
least 1 empty or deleted <code>bucket</code>, otherwise this function will never return
(will go into an infinite loop) for tables larger than the group width, or
return an index outside of the table indices range if the table is less than
the group width.</p>
<p>If there is at least 1 empty or deleted <code>bucket</code> in the table, the function is
guaranteed to return an <code>index</code> in the range <code>0..self.buckets()</code>, but in any case,
if this function returns an <code>index</code> it will be in the range <code>0..=self.buckets()</code>.</p>
<p>This function does not make any changes to the <code>data</code> parts of the table,
or any changes to the <code>items</code> or <code>growth_left</code> field of the table.</p>
<h5 id="safety-3"><a class="doc-anchor" href="#safety-3">§</a>Safety</h5>
<p>The safety rules are directly derived from the safety rules for the
<a href="struct.RawTableInner.html#method.set_ctrl_h2" title="method hashbrown::raw::inner::RawTableInner::set_ctrl_h2"><code>RawTableInner::set_ctrl_h2</code></a> and <a href="struct.RawTableInner.html#method.find_insert_slot" title="method hashbrown::raw::inner::RawTableInner::find_insert_slot"><code>RawTableInner::find_insert_slot</code></a> methods.
Thus, in order to uphold the safety contracts for that methods, as well as for
the correct logic of the work of this crate, you must observe the following rules
when calling this function:</p>
<ul>
<li>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> has already been allocated and has properly initialized
control bytes otherwise calling this function results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
</li>
<li>
<p>The caller of this function must ensure that the “data” parts of the table
will have an entry in the returned index (matching the given hash) right
after calling this function.</p>
</li>
</ul>
<p>Attempt to write data at the <code>index</code> returned by this function when the table is
less than the group width and if there was not at least one empty or deleted bucket in
the table will cause immediate <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>. This is because in this case the
function will return <code>self.bucket_mask + 1</code> as an index due to the trailing <a href="constant.EMPTY.html" title="constant hashbrown::raw::inner::EMPTY">`EMPTY</a>
control bytes outside the table range.</p>
<p>The caller must independently increase the <code>items</code> field of the table, and also,
if the old control byte was <a href="constant.EMPTY.html" title="constant hashbrown::raw::inner::EMPTY"><code>EMPTY</code></a>, then decrease the table’s <code>growth_left</code>
field, and do not change it if the old control byte was <a href="constant.DELETED.html" title="constant hashbrown::raw::inner::DELETED"><code>DELETED</code></a>.</p>
<p>See also <a href="struct.Bucket.html#method.as_ptr" title="method hashbrown::raw::inner::Bucket::as_ptr"><code>Bucket::as_ptr</code></a> method, for more information about of properly removing
or saving <code>element</code> from / into the <a href="struct.RawTable.html" title="struct hashbrown::raw::inner::RawTable"><code>RawTable</code></a> / <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.find_insert_slot" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2109-2141">source</a><h4 class="code-header">unsafe fn <a href="#method.find_insert_slot" class="fn">find_insert_slot</a>(&amp;self, hash: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u64.html">u64</a>) -&gt; <a class="struct" href="struct.InsertSlot.html" title="struct hashbrown::raw::inner::InsertSlot">InsertSlot</a></h4></section></summary><div class="docblock"><p>Searches for an empty or deleted bucket which is suitable for inserting
a new element, returning the <code>index</code> for the new <a href="struct.Bucket.html" title="struct hashbrown::raw::inner::Bucket"><code>Bucket</code></a>.</p>
<p>This function does not make any changes to the <code>data</code> part of the table, or any
changes to the <code>items</code> or <code>growth_left</code> field of the table.</p>
<p>The table must have at least 1 empty or deleted <code>bucket</code>, otherwise this function
will never return (will go into an infinite loop) for tables larger than the group
width, or return an index outside of the table indices range if the table is less
than the group width.</p>
<p>If there is at least 1 empty or deleted <code>bucket</code> in the table, the function is
guaranteed to return <a href="struct.InsertSlot.html" title="struct hashbrown::raw::inner::InsertSlot"><code>InsertSlot</code></a> with an index in the range <code>0..self.buckets()</code>,
but in any case, if this function returns <a href="struct.InsertSlot.html" title="struct hashbrown::raw::inner::InsertSlot"><code>InsertSlot</code></a>, it will contain an index
in the range <code>0..=self.buckets()</code>.</p>
<h5 id="safety-4"><a class="doc-anchor" href="#safety-4">§</a>Safety</h5>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> must have properly initialized control bytes otherwise calling
this function results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
<p>Attempt to write data at the <a href="struct.InsertSlot.html" title="struct hashbrown::raw::inner::InsertSlot"><code>InsertSlot</code></a> returned by this function when the table is
less than the group width and if there was not at least one empty or deleted bucket in
the table will cause immediate <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>. This is because in this case the
function will return <code>self.bucket_mask + 1</code> as an index due to the trailing <a href="constant.EMPTY.html" title="constant hashbrown::raw::inner::EMPTY">`EMPTY</a>
control bytes outside the table range.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.find_inner" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2166-2203">source</a><h4 class="code-header">unsafe fn <a href="#method.find_inner" class="fn">find_inner</a>(
    &amp;self,
    hash: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u64.html">u64</a>,
    eq: &amp;mut dyn <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.bool.html">bool</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>&gt;</h4></section></summary><div class="docblock"><p>Searches for an element in a table, returning the <code>index</code> of the found element.
This uses dynamic dispatch to reduce the amount of code generated, but it is
eliminated by LLVM optimizations.</p>
<p>This function does not make any changes to the <code>data</code> part of the table, or any
changes to the <code>items</code> or <code>growth_left</code> field of the table.</p>
<p>The table must have at least 1 empty <code>bucket</code>, otherwise, if the
<code>eq: &amp;mut dyn FnMut(usize) -&gt; bool</code> function does not return <code>true</code>,
this function will also never return (will go into an infinite loop).</p>
<p>This function is guaranteed to provide the <code>eq: &amp;mut dyn FnMut(usize) -&gt; bool</code>
function with only <code>FULL</code> buckets’ indices and return the <code>index</code> of the found
element as <code>Some(index)</code>, so the index will always be in the range
<code>0..self.buckets()</code>.</p>
<h5 id="safety-5"><a class="doc-anchor" href="#safety-5">§</a>Safety</h5>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> must have properly initialized control bytes otherwise calling
this function results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.prepare_rehash_in_place" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2240-2275">source</a><h4 class="code-header">unsafe fn <a href="#method.prepare_rehash_in_place" class="fn">prepare_rehash_in_place</a>(&amp;mut self)</h4></section></summary><div class="docblock"><p>Prepares for rehashing data in place (that is, without allocating new memory).
Converts all full index <code>control bytes</code> to <code>DELETED</code> and all <code>DELETED</code> control
bytes to <code>EMPTY</code>, i.e. performs the following conversion:</p>
<ul>
<li><code>EMPTY</code> control bytes   -&gt; <code>EMPTY</code>;</li>
<li><code>DELETED</code> control bytes -&gt; <code>EMPTY</code>;</li>
<li><code>FULL</code> control bytes    -&gt; <code>DELETED</code>.</li>
</ul>
<p>This function does not make any changes to the <code>data</code> parts of the table,
or any changes to the <code>items</code> or <code>growth_left</code> field of the table.</p>
<h5 id="safety-6"><a class="doc-anchor" href="#safety-6">§</a>Safety</h5>
<p>You must observe the following safety rules when calling this function:</p>
<ul>
<li>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> has already been allocated;</p>
</li>
<li>
<p>The caller of this function must convert the <code>DELETED</code> bytes back to <code>FULL</code>
bytes when re-inserting them into their ideal position (which was impossible
to do during the first insert due to tombstones). If the caller does not do
this, then calling this function may result in a memory leak.</p>
</li>
<li>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> must have properly initialized control bytes otherwise
calling this function results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
</li>
</ul>
<p>Calling this function on a table that has not been allocated results in
<a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
<p>See also <a href="struct.Bucket.html#method.as_ptr" title="method hashbrown::raw::inner::Bucket::as_ptr"><code>Bucket::as_ptr</code></a> method, for more information about of properly removing
or saving <code>data element</code> from / into the <a href="struct.RawTable.html" title="struct hashbrown::raw::inner::RawTable"><code>RawTable</code></a> / <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.iter" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2295-2329">source</a><h4 class="code-header">unsafe fn <a href="#method.iter" class="fn">iter</a>&lt;T&gt;(&amp;self) -&gt; <a class="struct" href="struct.RawIter.html" title="struct hashbrown::raw::inner::RawIter">RawIter</a>&lt;T&gt; <a href="#" class="tooltip" data-notable-ty="RawIter&lt;T&gt;">ⓘ</a></h4></section></summary><div class="docblock"><p>Returns an iterator over every element in the table.</p>
<h5 id="safety-7"><a class="doc-anchor" href="#safety-7">§</a>Safety</h5>
<p>If any of the following conditions are violated, the result
is <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>:</p>
<ul>
<li>
<p>The caller has to ensure that the <code>RawTableInner</code> outlives the
<code>RawIter</code>. Because we cannot make the <code>next</code> method unsafe on
the <code>RawIter</code> struct, we have to make the <code>iter</code> method unsafe.</p>
</li>
<li>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> must have properly initialized control bytes.</p>
</li>
</ul>
<p>The type <code>T</code> must be the actual type of the elements stored in the table,
otherwise using the returned <a href="struct.RawIter.html" title="struct hashbrown::raw::inner::RawIter"><code>RawIter</code></a> results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.drop_elements" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2367-2380">source</a><h4 class="code-header">unsafe fn <a href="#method.drop_elements" class="fn">drop_elements</a>&lt;T&gt;(&amp;mut self)</h4></section></summary><div class="docblock"><p>Executes the destructors (if any) of the values stored in the table.</p>
<h5 id="note"><a class="doc-anchor" href="#note">§</a>Note</h5>
<p>This function does not erase the control bytes of the table and does
not make any changes to the <code>items</code> or <code>growth_left</code> fields of the
table. If necessary, the caller of this function must manually set
up these table fields, for example using the <a href="struct.RawTableInner.html#method.clear_no_drop" title="method hashbrown::raw::inner::RawTableInner::clear_no_drop"><code>clear_no_drop</code></a> function.</p>
<p>Be careful during calling this function, because drop function of
the elements can panic, and this can leave table in an inconsistent
state.</p>
<h5 id="safety-8"><a class="doc-anchor" href="#safety-8">§</a>Safety</h5>
<p>The type <code>T</code> must be the actual type of the elements stored in the table,
otherwise calling this function may result in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
<p>If <code>T</code> is a type that should be dropped and <strong>the table is not empty</strong>,
calling this function more than once results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
<p>If <code>T</code> is not <a href="https://doc.rust-lang.org/1.80.1/core/marker/trait.Copy.html" title="trait core::marker::Copy"><code>Copy</code></a>, attempting to use values stored in the table after
calling this function may result in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
<p>It is safe to call this function on a table that has not been allocated,
on a table with uninitialized control bytes, and on a table with no actual
data but with <code>Full</code> control bytes if <code>self.items == 0</code>.</p>
<p>See also <a href="struct.Bucket.html#method.drop" title="method hashbrown::raw::inner::Bucket::drop"><code>Bucket::drop</code></a> / <a href="struct.Bucket.html#method.as_ptr" title="method hashbrown::raw::inner::Bucket::as_ptr"><code>Bucket::as_ptr</code></a> methods, for more information
about of properly removing or saving <code>element</code> from / into the <a href="struct.RawTable.html" title="struct hashbrown::raw::inner::RawTable"><code>RawTable</code></a> /
<a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.drop_inner_table" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2428-2439">source</a><h4 class="code-header">unsafe fn <a href="#method.drop_inner_table" class="fn">drop_inner_table</a>&lt;T, A: <a class="trait" href="trait.Allocator.html" title="trait hashbrown::raw::inner::Allocator">Allocator</a>&gt;(
    &amp;mut self,
    alloc: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.reference.html">&amp;A</a>,
    table_layout: <a class="struct" href="struct.TableLayout.html" title="struct hashbrown::raw::inner::TableLayout">TableLayout</a>,
)</h4></section></summary><div class="docblock"><p>Executes the destructors (if any) of the values stored in the table and than
deallocates the table.</p>
<h5 id="note-1"><a class="doc-anchor" href="#note-1">§</a>Note</h5>
<p>Calling this function automatically makes invalid (dangling) all instances of
buckets (<a href="struct.Bucket.html" title="struct hashbrown::raw::inner::Bucket"><code>Bucket</code></a>) and makes invalid (dangling) the <code>ctrl</code> field of the table.</p>
<p>This function does not make any changes to the <code>bucket_mask</code>, <code>items</code> or <code>growth_left</code>
fields of the table. If necessary, the caller of this function must manually set
up these table fields.</p>
<h5 id="safety-9"><a class="doc-anchor" href="#safety-9">§</a>Safety</h5>
<p>If any of the following conditions are violated, the result is <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>:</p>
<ul>
<li>
<p>Calling this function more than once;</p>
</li>
<li>
<p>The type <code>T</code> must be the actual type of the elements stored in the table.</p>
</li>
<li>
<p>The <code>alloc</code> must be the same <a href="trait.Allocator.html" title="trait hashbrown::raw::inner::Allocator"><code>Allocator</code></a> as the <code>Allocator</code> that was used
to allocate this table.</p>
</li>
<li>
<p>The <code>table_layout</code> must be the same <a href="struct.TableLayout.html" title="struct hashbrown::raw::inner::TableLayout"><code>TableLayout</code></a> as the <code>TableLayout</code> that
was used to allocate this table.</p>
</li>
</ul>
<p>The caller of this function should pay attention to the possibility of the
elements’ drop function panicking, because this:</p>
<ul>
<li>
<p>May leave the table in an inconsistent state;</p>
</li>
<li>
<p>Memory is never deallocated, so a memory leak may occur.</p>
</li>
</ul>
<p>Attempt to use the <code>ctrl</code> field of the table (dereference) after calling this
function results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
<p>It is safe to call this function on a table that has not been allocated,
on a table with uninitialized control bytes, and on a table with no actual
data but with <code>Full</code> control bytes if <code>self.items == 0</code>.</p>
<p>See also <a href="struct.RawTableInner.html#method.drop_elements" title="method hashbrown::raw::inner::RawTableInner::drop_elements"><code>RawTableInner::drop_elements</code></a> or <a href="struct.RawTableInner.html#method.free_buckets" title="method hashbrown::raw::inner::RawTableInner::free_buckets"><code>RawTableInner::free_buckets</code></a>
for more  information.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.bucket" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2499-2503">source</a><h4 class="code-header">unsafe fn <a href="#method.bucket" class="fn">bucket</a>&lt;T&gt;(&amp;self, index: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>) -&gt; <a class="struct" href="struct.Bucket.html" title="struct hashbrown::raw::inner::Bucket">Bucket</a>&lt;T&gt;</h4></section></summary><div class="docblock"><p>Returns a pointer to an element in the table (convenience for
<code>Bucket::from_base_index(self.data_end::&lt;T&gt;(), index)</code>).</p>
<p>The caller must ensure that the <code>RawTableInner</code> outlives the returned <a href="struct.Bucket.html" title="struct hashbrown::raw::inner::Bucket"><code>Bucket&lt;T&gt;</code></a>,
otherwise using it may result in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
<h5 id="safety-10"><a class="doc-anchor" href="#safety-10">§</a>Safety</h5>
<p>If <code>mem::size_of::&lt;T&gt;() != 0</code>, then the safety rules are directly derived from the
safety rules of the <a href="struct.Bucket.html#method.from_base_index" title="associated function hashbrown::raw::inner::Bucket::from_base_index"><code>Bucket::from_base_index</code></a> function. Therefore, when calling
this function, the following safety rules must be observed:</p>
<ul>
<li>
<p>The table must already be allocated;</p>
</li>
<li>
<p>The <code>index</code> must not be greater than the number returned by the <a href="struct.RawTableInner.html#method.buckets" title="method hashbrown::raw::inner::RawTableInner::buckets"><code>RawTableInner::buckets</code></a>
function, i.e. <code>(index + 1) &lt;= self.buckets()</code>.</p>
</li>
<li>
<p>The type <code>T</code> must be the actual type of the elements stored in the table, otherwise
using the returned <a href="struct.Bucket.html" title="struct hashbrown::raw::inner::Bucket"><code>Bucket</code></a> may result in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
</li>
</ul>
<p>It is safe to call this function with index of zero (<code>index == 0</code>) on a table that has
not been allocated, but using the returned <a href="struct.Bucket.html" title="struct hashbrown::raw::inner::Bucket"><code>Bucket</code></a> results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
<p>If <code>mem::size_of::&lt;T&gt;() == 0</code>, then the only requirement is that the <code>index</code> must
not be greater than the number returned by the <a href="struct.RawTable.html#method.buckets" title="method hashbrown::raw::inner::RawTable::buckets"><code>RawTable::buckets</code></a> function, i.e.
<code>(index + 1) &lt;= self.buckets()</code>.</p>
<div class="example-wrap"><pre class="language-none"><code>If mem::size_of::&lt;T&gt;() != 0 then return a pointer to the `element` in the `data part` of the table
(we start counting from &quot;0&quot;, so that in the expression T[n], the &quot;n&quot; index actually one less than
the &quot;buckets&quot; number of our `RawTableInner`, i.e. &quot;n = RawTableInner::buckets() - 1&quot;):

          `table.bucket(3).as_ptr()` returns a pointer that points here in the `data`
          part of the `RawTableInner`, i.e. to the start of T3 (see [`Bucket::as_ptr`])
                 |
                 |               `base = table.data_end::&lt;T&gt;()` points here
                 |               (to the start of CT0 or to the end of T0)
                 v                 v
[Pad], T_n, ..., |T3|, T2, T1, T0, |CT0, CT1, CT2, CT3, ..., CT_n, CTa_0, CTa_1, ..., CTa_m
                    ^                                              \__________  __________/
       `table.bucket(3)` returns a pointer that points                        \/
        here in the `data` part of the `RawTableInner`             additional control bytes
        (to the end of T3)                                          `m = Group::WIDTH - 1`

where: T0...T_n  - our stored data;
       CT0...CT_n - control bytes or metadata for `data`;
       CTa_0...CTa_m - additional control bytes (so that the search with loading `Group` bytes from
                       the heap works properly, even if the result of `h1(hash) &amp; self.bucket_mask`
                       is equal to `self.bucket_mask`). See also `RawTableInner::set_ctrl` function.

P.S. `h1(hash) &amp; self.bucket_mask` is the same as `hash as usize % self.buckets()` because the number
of buckets is a power of two, and `self.bucket_mask = self.buckets() - 1`.
</code></pre></div></div></details><details class="toggle method-toggle" open><summary><section id="method.bucket_ptr" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2552-2557">source</a><h4 class="code-header">unsafe fn <a href="#method.bucket_ptr" class="fn">bucket_ptr</a>(&amp;self, index: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>, size_of: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.pointer.html">*mut </a><a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u8.html">u8</a></h4></section></summary><div class="docblock"><p>Returns a raw <code>*mut u8</code> pointer to the start of the <code>data</code> element in the table
(convenience for <code>self.data_end::&lt;u8&gt;().as_ptr().sub((index + 1) * size_of)</code>).</p>
<p>The caller must ensure that the <code>RawTableInner</code> outlives the returned <code>*mut u8</code>,
otherwise using it may result in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
<h5 id="safety-11"><a class="doc-anchor" href="#safety-11">§</a>Safety</h5>
<p>If any of the following conditions are violated, the result is <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>:</p>
<ul>
<li>
<p>The table must already be allocated;</p>
</li>
<li>
<p>The <code>index</code> must not be greater than the number returned by the <a href="struct.RawTableInner.html#method.buckets" title="method hashbrown::raw::inner::RawTableInner::buckets"><code>RawTableInner::buckets</code></a>
function, i.e. <code>(index + 1) &lt;= self.buckets()</code>;</p>
</li>
<li>
<p>The <code>size_of</code> must be equal to the size of the elements stored in the table;</p>
</li>
</ul>
<div class="example-wrap"><pre class="language-none"><code>If mem::size_of::&lt;T&gt;() != 0 then return a pointer to the `element` in the `data part` of the table
(we start counting from &quot;0&quot;, so that in the expression T[n], the &quot;n&quot; index actually one less than
the &quot;buckets&quot; number of our `RawTableInner`, i.e. &quot;n = RawTableInner::buckets() - 1&quot;):

          `table.bucket_ptr(3, mem::size_of::&lt;T&gt;())` returns a pointer that points here in the
          `data` part of the `RawTableInner`, i.e. to the start of T3
                 |
                 |               `base = table.data_end::&lt;u8&gt;()` points here
                 |               (to the start of CT0 or to the end of T0)
                 v                 v
[Pad], T_n, ..., |T3|, T2, T1, T0, |CT0, CT1, CT2, CT3, ..., CT_n, CTa_0, CTa_1, ..., CTa_m
                                                                   \__________  __________/
                                                                              \/
                                                                   additional control bytes
                                                                    `m = Group::WIDTH - 1`

where: T0...T_n  - our stored data;
       CT0...CT_n - control bytes or metadata for `data`;
       CTa_0...CTa_m - additional control bytes (so that the search with loading `Group` bytes from
                       the heap works properly, even if the result of `h1(hash) &amp; self.bucket_mask`
                       is equal to `self.bucket_mask`). See also `RawTableInner::set_ctrl` function.

P.S. `h1(hash) &amp; self.bucket_mask` is the same as `hash as usize % self.buckets()` because the number
of buckets is a power of two, and `self.bucket_mask = self.buckets() - 1`.
</code></pre></div></div></details><details class="toggle method-toggle" open><summary><section id="method.data_end" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2595-2597">source</a><h4 class="code-header">fn <a href="#method.data_end" class="fn">data_end</a>&lt;T&gt;(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.80.1/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;T&gt;</h4></section></summary><div class="docblock"><p>Returns pointer to one past last <code>data</code> element in the table as viewed from
the start point of the allocation (convenience for <code>self.ctrl.cast()</code>).</p>
<p>This function actually returns a pointer to the end of the <code>data element</code> at
index “0” (zero).</p>
<p>The caller must ensure that the <code>RawTableInner</code> outlives the returned <a href="https://doc.rust-lang.org/1.80.1/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull"><code>NonNull&lt;T&gt;</code></a>,
otherwise using it may result in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
<h5 id="note-2"><a class="doc-anchor" href="#note-2">§</a>Note</h5>
<p>The type <code>T</code> must be the actual type of the elements stored in the table, otherwise
using the returned <a href="https://doc.rust-lang.org/1.80.1/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull"><code>NonNull&lt;T&gt;</code></a> may result in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
<div class="example-wrap"><pre class="language-none"><code>                       `table.data_end::&lt;T&gt;()` returns pointer that points here
                       (to the end of `T0`)
                         ∨
[Pad], T_n, ..., T1, T0, |CT0, CT1, ..., CT_n|, CTa_0, CTa_1, ..., CTa_m
                          \________  ________/
                                   \/
      `n = buckets - 1`, i.e. `RawTableInner::buckets() - 1`

where: T0...T_n  - our stored data;
       CT0...CT_n - control bytes or metadata for `data`.
       CTa_0...CTa_m - additional control bytes, where `m = Group::WIDTH - 1` (so that the search
                       with loading `Group` bytes from the heap works properly, even if the result
                       of `h1(hash) &amp; self.bucket_mask` is equal to `self.bucket_mask`). See also
                       `RawTableInner::set_ctrl` function.

P.S. `h1(hash) &amp; self.bucket_mask` is the same as `hash as usize % self.buckets()` because the number
of buckets is a power of two, and `self.bucket_mask = self.buckets() - 1`.
</code></pre></div></div></details><details class="toggle method-toggle" open><summary><section id="method.probe_seq" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2605-2612">source</a><h4 class="code-header">fn <a href="#method.probe_seq" class="fn">probe_seq</a>(&amp;self, hash: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u64.html">u64</a>) -&gt; <a class="struct" href="struct.ProbeSeq.html" title="struct hashbrown::raw::inner::ProbeSeq">ProbeSeq</a></h4></section></summary><div class="docblock"><p>Returns an iterator-like object for a probe sequence on the table.</p>
<p>This iterator never terminates, but is guaranteed to visit each bucket
group exactly once. The loop using <code>probe_seq</code> must terminate upon
reaching a group containing an empty bucket.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.prepare_insert_no_grow" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2618-2627">source</a><h4 class="code-header">unsafe fn <a href="#method.prepare_insert_no_grow" class="fn">prepare_insert_no_grow</a>(&amp;mut self, hash: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u64.html">u64</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>, <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Returns the index of a bucket for which a value must be inserted if there is enough rooom
in the table, otherwise returns error</p>
</div></details><section id="method.record_item_insert_at" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2630-2634">source</a><h4 class="code-header">unsafe fn <a href="#method.record_item_insert_at" class="fn">record_item_insert_at</a>(
    &amp;mut self,
    index: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>,
    old_ctrl: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u8.html">u8</a>,
    hash: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u64.html">u64</a>,
)</h4></section><section id="method.is_in_same_group" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2637-2642">source</a><h4 class="code-header">fn <a href="#method.is_in_same_group" class="fn">is_in_same_group</a>(&amp;self, i: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>, new_i: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>, hash: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u64.html">u64</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.bool.html">bool</a></h4></section><details class="toggle method-toggle" open><summary><section id="method.set_ctrl_h2" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2672-2675">source</a><h4 class="code-header">unsafe fn <a href="#method.set_ctrl_h2" class="fn">set_ctrl_h2</a>(&amp;mut self, index: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>, hash: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u64.html">u64</a>)</h4></section></summary><div class="docblock"><p>Sets a control byte to the hash, and possibly also the replicated control byte at
the end of the array.</p>
<p>This function does not make any changes to the <code>data</code> parts of the table,
or any changes to the <code>items</code> or <code>growth_left</code> field of the table.</p>
<h5 id="safety-12"><a class="doc-anchor" href="#safety-12">§</a>Safety</h5>
<p>The safety rules are directly derived from the safety rules for <a href="struct.RawTableInner.html#method.set_ctrl" title="method hashbrown::raw::inner::RawTableInner::set_ctrl"><code>RawTableInner::set_ctrl</code></a>
method. Thus, in order to uphold the safety contracts for the method, you must observe the
following rules when calling this function:</p>
<ul>
<li>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> has already been allocated;</p>
</li>
<li>
<p>The <code>index</code> must not be greater than the <code>RawTableInner.bucket_mask</code>, i.e.
<code>index &lt;= RawTableInner.bucket_mask</code> or, in other words, <code>(index + 1)</code> must
be no greater than the number returned by the function <a href="struct.RawTableInner.html#method.buckets" title="method hashbrown::raw::inner::RawTableInner::buckets"><code>RawTableInner::buckets</code></a>.</p>
</li>
</ul>
<p>Calling this function on a table that has not been allocated results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
<p>See also <a href="struct.Bucket.html#method.as_ptr" title="method hashbrown::raw::inner::Bucket::as_ptr"><code>Bucket::as_ptr</code></a> method, for more information about of properly removing
or saving <code>data element</code> from / into the <a href="struct.RawTable.html" title="struct hashbrown::raw::inner::RawTable"><code>RawTable</code></a> / <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.replace_ctrl_h2" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2706-2711">source</a><h4 class="code-header">unsafe fn <a href="#method.replace_ctrl_h2" class="fn">replace_ctrl_h2</a>(&amp;mut self, index: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>, hash: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u64.html">u64</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u8.html">u8</a></h4></section></summary><div class="docblock"><p>Replaces the hash in the control byte at the given index with the provided one,
and possibly also replicates the new control byte at the end of the array of control
bytes, returning the old control byte.</p>
<p>This function does not make any changes to the <code>data</code> parts of the table,
or any changes to the <code>items</code> or <code>growth_left</code> field of the table.</p>
<h5 id="safety-13"><a class="doc-anchor" href="#safety-13">§</a>Safety</h5>
<p>The safety rules are directly derived from the safety rules for <a href="struct.RawTableInner.html#method.set_ctrl_h2" title="method hashbrown::raw::inner::RawTableInner::set_ctrl_h2"><code>RawTableInner::set_ctrl_h2</code></a>
and <a href="struct.RawTableInner.html#method.ctrl" title="method hashbrown::raw::inner::RawTableInner::ctrl"><code>RawTableInner::ctrl</code></a> methods. Thus, in order to uphold the safety contracts for both
methods, you must observe the following rules when calling this function:</p>
<ul>
<li>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> has already been allocated;</p>
</li>
<li>
<p>The <code>index</code> must not be greater than the <code>RawTableInner.bucket_mask</code>, i.e.
<code>index &lt;= RawTableInner.bucket_mask</code> or, in other words, <code>(index + 1)</code> must
be no greater than the number returned by the function <a href="struct.RawTableInner.html#method.buckets" title="method hashbrown::raw::inner::RawTableInner::buckets"><code>RawTableInner::buckets</code></a>.</p>
</li>
</ul>
<p>Calling this function on a table that has not been allocated results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
<p>See also <a href="struct.Bucket.html#method.as_ptr" title="method hashbrown::raw::inner::Bucket::as_ptr"><code>Bucket::as_ptr</code></a> method, for more information about of properly removing
or saving <code>data element</code> from / into the <a href="struct.RawTable.html" title="struct hashbrown::raw::inner::RawTable"><code>RawTable</code></a> / <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_ctrl" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2738-2768">source</a><h4 class="code-header">unsafe fn <a href="#method.set_ctrl" class="fn">set_ctrl</a>(&amp;mut self, index: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>, ctrl: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u8.html">u8</a>)</h4></section></summary><div class="docblock"><p>Sets a control byte, and possibly also the replicated control byte at
the end of the array.</p>
<p>This function does not make any changes to the <code>data</code> parts of the table,
or any changes to the <code>items</code> or <code>growth_left</code> field of the table.</p>
<h5 id="safety-14"><a class="doc-anchor" href="#safety-14">§</a>Safety</h5>
<p>You must observe the following safety rules when calling this function:</p>
<ul>
<li>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> has already been allocated;</p>
</li>
<li>
<p>The <code>index</code> must not be greater than the <code>RawTableInner.bucket_mask</code>, i.e.
<code>index &lt;= RawTableInner.bucket_mask</code> or, in other words, <code>(index + 1)</code> must
be no greater than the number returned by the function <a href="struct.RawTableInner.html#method.buckets" title="method hashbrown::raw::inner::RawTableInner::buckets"><code>RawTableInner::buckets</code></a>.</p>
</li>
</ul>
<p>Calling this function on a table that has not been allocated results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
<p>See also <a href="struct.Bucket.html#method.as_ptr" title="method hashbrown::raw::inner::Bucket::as_ptr"><code>Bucket::as_ptr</code></a> method, for more information about of properly removing
or saving <code>data element</code> from / into the <a href="struct.RawTable.html" title="struct hashbrown::raw::inner::RawTable"><code>RawTable</code></a> / <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.ctrl" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2794-2798">source</a><h4 class="code-header">unsafe fn <a href="#method.ctrl" class="fn">ctrl</a>(&amp;self, index: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.pointer.html">*mut </a><a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u8.html">u8</a></h4></section></summary><div class="docblock"><p>Returns a pointer to a control byte.</p>
<h5 id="safety-15"><a class="doc-anchor" href="#safety-15">§</a>Safety</h5>
<p>For the allocated <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a>, the result is <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>Undefined Behavior</code></a>,
if the <code>index</code> is greater than the <code>self.bucket_mask + 1 + Group::WIDTH</code>.
In that case, calling this function with <code>index == self.bucket_mask + 1 + Group::WIDTH</code>
will return a pointer to the end of the allocated table and it is useless on its own.</p>
<p>Calling this function with <code>index &gt;= self.bucket_mask + 1 + Group::WIDTH</code> on a
table that has not been allocated results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>Undefined Behavior</code></a>.</p>
<p>So to satisfy both requirements you should always follow the rule that
<code>index &lt; self.bucket_mask + 1 + Group::WIDTH</code></p>
<p>Calling this function on <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> that are not already allocated is safe
for read-only purpose.</p>
<p>See also <a href="struct.Bucket.html#method.as_ptr" title="method hashbrown::raw::inner::Bucket::as_ptr"><code>Bucket::as_ptr()</code></a> method, for more information about of properly removing
or saving <code>data element</code> from / into the <a href="struct.RawTable.html" title="struct hashbrown::raw::inner::RawTable"><code>RawTable</code></a> / <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a>.</p>
</div></details><section id="method.buckets" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2801-2803">source</a><h4 class="code-header">fn <a href="#method.buckets" class="fn">buckets</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a></h4></section><details class="toggle method-toggle" open><summary><section id="method.is_bucket_full" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2811-2814">source</a><h4 class="code-header">unsafe fn <a href="#method.is_bucket_full" class="fn">is_bucket_full</a>(&amp;self, index: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Checks whether the bucket at <code>index</code> is full.</p>
<h5 id="safety-16"><a class="doc-anchor" href="#safety-16">§</a>Safety</h5>
<p>The caller must ensure <code>index</code> is less than the number of buckets.</p>
</div></details><section id="method.num_ctrl_bytes" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2817-2819">source</a><h4 class="code-header">fn <a href="#method.num_ctrl_bytes" class="fn">num_ctrl_bytes</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a></h4></section><section id="method.is_empty_singleton" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2822-2824">source</a><h4 class="code-header">fn <a href="#method.is_empty_singleton" class="fn">is_empty_singleton</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.bool.html">bool</a></h4></section><details class="toggle method-toggle" open><summary><section id="method.prepare_resize" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2850-2881">source</a><h4 class="code-header">fn <a href="#method.prepare_resize" class="fn">prepare_resize</a>&lt;'a, A&gt;(
    &amp;self,
    alloc: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.reference.html">&amp;'a A</a>,
    table_layout: <a class="struct" href="struct.TableLayout.html" title="struct hashbrown::raw::inner::TableLayout">TableLayout</a>,
    capacity: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>,
    fallibility: <a class="enum" href="enum.Fallibility.html" title="enum hashbrown::raw::inner::Fallibility">Fallibility</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../scopeguard/struct.ScopeGuard.html" title="struct hashbrown::scopeguard::ScopeGuard">ScopeGuard</a>&lt;Self, impl <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.reference.html">&amp;mut Self</a>) + 'a&gt;, <a class="enum" href="../../enum.TryReserveError.html" title="enum hashbrown::TryReserveError">TryReserveError</a>&gt;<div class="where">where
    A: <a class="trait" href="trait.Allocator.html" title="trait hashbrown::raw::inner::Allocator">Allocator</a>,</div></h4></section></summary><div class="docblock"><p>Attempts to allocate a new hash table with at least enough capacity
for inserting the given number of elements without reallocating,
and return it inside ScopeGuard to protect against panic in the hash
function.</p>
<h5 id="note-3"><a class="doc-anchor" href="#note-3">§</a>Note</h5>
<p>It is recommended (but not required):</p>
<ul>
<li>
<p>That the new table’s <code>capacity</code> be greater than or equal to <code>self.items</code>.</p>
</li>
<li>
<p>The <code>alloc</code> is the same <a href="trait.Allocator.html" title="trait hashbrown::raw::inner::Allocator"><code>Allocator</code></a> as the <code>Allocator</code> used
to allocate this table.</p>
</li>
<li>
<p>The <code>table_layout</code> is the same <a href="struct.TableLayout.html" title="struct hashbrown::raw::inner::TableLayout"><code>TableLayout</code></a> as the <code>TableLayout</code> used
to allocate this table.</p>
</li>
</ul>
<p>If <code>table_layout</code> does not match the <code>TableLayout</code> that was used to allocate
this table, then using <code>mem::swap</code> with the <code>self</code> and the new table returned
by this function results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.reserve_rehash_inner" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2907-2958">source</a><h4 class="code-header">unsafe fn <a href="#method.reserve_rehash_inner" class="fn">reserve_rehash_inner</a>&lt;A&gt;(
    &amp;mut self,
    alloc: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.reference.html">&amp;A</a>,
    additional: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>,
    hasher: &amp;dyn <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.reference.html">&amp;mut Self</a>, <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u64.html">u64</a>,
    fallibility: <a class="enum" href="enum.Fallibility.html" title="enum hashbrown::raw::inner::Fallibility">Fallibility</a>,
    layout: <a class="struct" href="struct.TableLayout.html" title="struct hashbrown::raw::inner::TableLayout">TableLayout</a>,
    drop: <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.fn.html">fn</a>(_: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.pointer.html">*mut </a><a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u8.html">u8</a>)&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.unit.html">()</a>, <a class="enum" href="../../enum.TryReserveError.html" title="enum hashbrown::TryReserveError">TryReserveError</a>&gt;<div class="where">where
    A: <a class="trait" href="trait.Allocator.html" title="trait hashbrown::raw::inner::Allocator">Allocator</a>,</div></h4></section></summary><div class="docblock"><p>Reserves or rehashes to make room for <code>additional</code> more elements.</p>
<p>This uses dynamic dispatch to reduce the amount of
code generated, but it is eliminated by LLVM optimizations when inlined.</p>
<h5 id="safety-17"><a class="doc-anchor" href="#safety-17">§</a>Safety</h5>
<p>If any of the following conditions are violated, the result is
<a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>:</p>
<ul>
<li>
<p>The <code>alloc</code> must be the same <a href="trait.Allocator.html" title="trait hashbrown::raw::inner::Allocator"><code>Allocator</code></a> as the <code>Allocator</code> used
to allocate this table.</p>
</li>
<li>
<p>The <code>layout</code> must be the same <a href="struct.TableLayout.html" title="struct hashbrown::raw::inner::TableLayout"><code>TableLayout</code></a> as the <code>TableLayout</code>
used to allocate this table.</p>
</li>
<li>
<p>The <code>drop</code> function (<code>fn(*mut u8)</code>) must be the actual drop function of
the elements stored in the table.</p>
</li>
<li>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> must have properly initialized control bytes.</p>
</li>
</ul>
</div></details><details class="toggle method-toggle" open><summary><section id="method.full_buckets_indices" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#2973-3003">source</a><h4 class="code-header">unsafe fn <a href="#method.full_buckets_indices" class="fn">full_buckets_indices</a>(&amp;self) -&gt; <a class="struct" href="struct.FullBucketsIndices.html" title="struct hashbrown::raw::inner::FullBucketsIndices">FullBucketsIndices</a> <a href="#" class="tooltip" data-notable-ty="FullBucketsIndices">ⓘ</a></h4></section></summary><div class="docblock"><p>Returns an iterator over full buckets indices in the table.</p>
<h5 id="safety-18"><a class="doc-anchor" href="#safety-18">§</a>Safety</h5>
<p>Behavior is undefined if any of the following conditions are violated:</p>
<ul>
<li>
<p>The caller has to ensure that the <code>RawTableInner</code> outlives the
<code>FullBucketsIndices</code>. Because we cannot make the <code>next</code> method
unsafe on the <code>FullBucketsIndices</code> struct, we have to make the
<code>full_buckets_indices</code> method unsafe.</p>
</li>
<li>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> must have properly initialized control bytes.</p>
</li>
</ul>
</div></details><details class="toggle method-toggle" open><summary><section id="method.resize_inner" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#3047-3117">source</a><h4 class="code-header">unsafe fn <a href="#method.resize_inner" class="fn">resize_inner</a>&lt;A&gt;(
    &amp;mut self,
    alloc: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.reference.html">&amp;A</a>,
    capacity: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>,
    hasher: &amp;dyn <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.reference.html">&amp;mut Self</a>, <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u64.html">u64</a>,
    fallibility: <a class="enum" href="enum.Fallibility.html" title="enum hashbrown::raw::inner::Fallibility">Fallibility</a>,
    layout: <a class="struct" href="struct.TableLayout.html" title="struct hashbrown::raw::inner::TableLayout">TableLayout</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.unit.html">()</a>, <a class="enum" href="../../enum.TryReserveError.html" title="enum hashbrown::TryReserveError">TryReserveError</a>&gt;<div class="where">where
    A: <a class="trait" href="trait.Allocator.html" title="trait hashbrown::raw::inner::Allocator">Allocator</a>,</div></h4></section></summary><div class="docblock"><p>Allocates a new table of a different size and moves the contents of the
current table into it.</p>
<p>This uses dynamic dispatch to reduce the amount of
code generated, but it is eliminated by LLVM optimizations when inlined.</p>
<h5 id="safety-19"><a class="doc-anchor" href="#safety-19">§</a>Safety</h5>
<p>If any of the following conditions are violated, the result is
<a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>:</p>
<ul>
<li>
<p>The <code>alloc</code> must be the same <a href="trait.Allocator.html" title="trait hashbrown::raw::inner::Allocator"><code>Allocator</code></a> as the <code>Allocator</code> used
to allocate this table;</p>
</li>
<li>
<p>The <code>layout</code> must be the same <a href="struct.TableLayout.html" title="struct hashbrown::raw::inner::TableLayout"><code>TableLayout</code></a> as the <code>TableLayout</code>
used to allocate this table;</p>
</li>
<li>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> must have properly initialized control bytes.</p>
</li>
</ul>
<p>The caller of this function must ensure that <code>capacity &gt;= self.items</code>
otherwise:</p>
<ul>
<li>
<p>If <code>self.items != 0</code>, calling of this function with <code>capacity == 0</code>
results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
</li>
<li>
<p>If <code>capacity_to_buckets(capacity) &lt; Group::WIDTH</code> and
<code>self.items &gt; capacity_to_buckets(capacity)</code> calling this function
results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
</li>
<li>
<p>If <code>capacity_to_buckets(capacity) &gt;= Group::WIDTH</code> and
<code>self.items &gt; capacity_to_buckets(capacity)</code> calling this function
are never return (will go into an infinite loop).</p>
</li>
</ul>
<p>Note: It is recommended (but not required) that the new table’s <code>capacity</code>
be greater than or equal to <code>self.items</code>. In case if <code>capacity &lt;= self.items</code>
this function can never return. See <a href="struct.RawTableInner.html#method.find_insert_slot" title="method hashbrown::raw::inner::RawTableInner::find_insert_slot"><code>RawTableInner::find_insert_slot</code></a> for
more information.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.rehash_in_place" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#3144-3225">source</a><h4 class="code-header">unsafe fn <a href="#method.rehash_in_place" class="fn">rehash_in_place</a>(
    &amp;mut self,
    hasher: &amp;dyn <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.reference.html">&amp;mut Self</a>, <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u64.html">u64</a>,
    size_of: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>,
    drop: <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.fn.html">fn</a>(_: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.pointer.html">*mut </a><a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u8.html">u8</a>)&gt;,
)</h4></section></summary><div class="docblock"><p>Rehashes the contents of the table in place (i.e. without changing the
allocation).</p>
<p>If <code>hasher</code> panics then some the table’s contents may be lost.</p>
<p>This uses dynamic dispatch to reduce the amount of
code generated, but it is eliminated by LLVM optimizations when inlined.</p>
<h5 id="safety-20"><a class="doc-anchor" href="#safety-20">§</a>Safety</h5>
<p>If any of the following conditions are violated, the result is <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>:</p>
<ul>
<li>
<p>The <code>size_of</code> must be equal to the size of the elements stored in the table;</p>
</li>
<li>
<p>The <code>drop</code> function (<code>fn(*mut u8)</code>) must be the actual drop function of
the elements stored in the table.</p>
</li>
<li>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> has already been allocated;</p>
</li>
<li>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> must have properly initialized control bytes.</p>
</li>
</ul>
</div></details><details class="toggle method-toggle" open><summary><section id="method.free_buckets" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#3254-3262">source</a><h4 class="code-header">unsafe fn <a href="#method.free_buckets" class="fn">free_buckets</a>&lt;A&gt;(&amp;mut self, alloc: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.reference.html">&amp;A</a>, table_layout: <a class="struct" href="struct.TableLayout.html" title="struct hashbrown::raw::inner::TableLayout">TableLayout</a>)<div class="where">where
    A: <a class="trait" href="trait.Allocator.html" title="trait hashbrown::raw::inner::Allocator">Allocator</a>,</div></h4></section></summary><div class="docblock"><p>Deallocates the table without dropping any entries.</p>
<h5 id="note-4"><a class="doc-anchor" href="#note-4">§</a>Note</h5>
<p>This function must be called only after <a href="struct.RawTableInner.html#method.drop_elements" title="method hashbrown::raw::inner::RawTableInner::drop_elements"><code>drop_elements</code></a>,
else it can lead to leaking of memory. Also calling this function automatically
makes invalid (dangling) all instances of buckets (<a href="struct.Bucket.html" title="struct hashbrown::raw::inner::Bucket"><code>Bucket</code></a>) and makes invalid
(dangling) the <code>ctrl</code> field of the table.</p>
<h5 id="safety-21"><a class="doc-anchor" href="#safety-21">§</a>Safety</h5>
<p>If any of the following conditions are violated, the result is <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>Undefined Behavior</code></a>:</p>
<ul>
<li>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> has already been allocated;</p>
</li>
<li>
<p>The <code>alloc</code> must be the same <a href="trait.Allocator.html" title="trait hashbrown::raw::inner::Allocator"><code>Allocator</code></a> as the <code>Allocator</code> that was used
to allocate this table.</p>
</li>
<li>
<p>The <code>table_layout</code> must be the same <a href="struct.TableLayout.html" title="struct hashbrown::raw::inner::TableLayout"><code>TableLayout</code></a> as the <code>TableLayout</code> that was used
to allocate this table.</p>
</li>
</ul>
<p>See also <a href="https://doc.rust-lang.org/alloc/alloc/trait.GlobalAlloc.html#tymethod.dealloc"><code>GlobalAlloc::dealloc</code></a> or <a href="https://doc.rust-lang.org/alloc/alloc/trait.Allocator.html#tymethod.deallocate"><code>Allocator::deallocate</code></a> for more  information.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.allocation_info" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#3284-3300">source</a><h4 class="code-header">unsafe fn <a href="#method.allocation_info" class="fn">allocation_info</a>(
    &amp;self,
    table_layout: <a class="struct" href="struct.TableLayout.html" title="struct hashbrown::raw::inner::TableLayout">TableLayout</a>,
) -&gt; (<a class="struct" href="https://doc.rust-lang.org/1.80.1/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u8.html">u8</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/1.80.1/core/alloc/layout/struct.Layout.html" title="struct core::alloc::layout::Layout">Layout</a>)</h4></section></summary><div class="docblock"><p>Returns a pointer to the allocated memory and the layout that was used to
allocate the table.</p>
<h5 id="safety-22"><a class="doc-anchor" href="#safety-22">§</a>Safety</h5>
<p>Caller of this function must observe the following safety rules:</p>
<ul>
<li>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> has already been allocated, otherwise
calling this function results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a></p>
</li>
<li>
<p>The <code>table_layout</code> must be the same <a href="struct.TableLayout.html" title="struct hashbrown::raw::inner::TableLayout"><code>TableLayout</code></a> as the <code>TableLayout</code>
that was used to allocate this table. Failure to comply with this condition
may result in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
</li>
</ul>
<p>See also <a href="https://doc.rust-lang.org/alloc/alloc/trait.GlobalAlloc.html#tymethod.dealloc"><code>GlobalAlloc::dealloc</code></a> or <a href="https://doc.rust-lang.org/alloc/alloc/trait.Allocator.html#tymethod.deallocate"><code>Allocator::deallocate</code></a> for more  information.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.allocation_info_or_zero" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#3318-3328">source</a><h4 class="code-header">unsafe fn <a href="#method.allocation_info_or_zero" class="fn">allocation_info_or_zero</a>(
    &amp;self,
    table_layout: <a class="struct" href="struct.TableLayout.html" title="struct hashbrown::raw::inner::TableLayout">TableLayout</a>,
) -&gt; (<a class="struct" href="https://doc.rust-lang.org/1.80.1/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u8.html">u8</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/1.80.1/core/alloc/layout/struct.Layout.html" title="struct core::alloc::layout::Layout">Layout</a>)</h4></section></summary><div class="docblock"><p>Returns a pointer to the allocated memory and the layout that was used to
allocate the table. If <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> has not been allocated, this
function return <code>dangling</code> pointer and <code>()</code> (unit) layout.</p>
<h5 id="safety-23"><a class="doc-anchor" href="#safety-23">§</a>Safety</h5>
<p>The <code>table_layout</code> must be the same <a href="struct.TableLayout.html" title="struct hashbrown::raw::inner::TableLayout"><code>TableLayout</code></a> as the <code>TableLayout</code>
that was used to allocate this table. Failure to comply with this condition
may result in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
<p>See also <a href="https://doc.rust-lang.org/alloc/alloc/trait.GlobalAlloc.html#tymethod.dealloc"><code>GlobalAlloc::dealloc</code></a> or <a href="https://doc.rust-lang.org/alloc/alloc/trait.Allocator.html#tymethod.deallocate"><code>Allocator::deallocate</code></a> for more  information.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.clear_no_drop" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#3332-3340">source</a><h4 class="code-header">fn <a href="#method.clear_no_drop" class="fn">clear_no_drop</a>(&amp;mut self)</h4></section></summary><div class="docblock"><p>Marks all table buckets as empty without dropping their contents.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.erase" class="method"><a class="src rightside" href="../../../src/hashbrown/raw/mod.rs.html#3376-3433">source</a><h4 class="code-header">unsafe fn <a href="#method.erase" class="fn">erase</a>(&amp;mut self, index: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>)</h4></section></summary><div class="docblock"><p>Erases the <a href="struct.Bucket.html" title="struct hashbrown::raw::inner::Bucket"><code>Bucket</code></a>’s control byte at the given index so that it does not
triggered as full, decreases the <code>items</code> of the table and, if it can be done,
increases <code>self.growth_left</code>.</p>
<p>This function does not actually erase / drop the <a href="struct.Bucket.html" title="struct hashbrown::raw::inner::Bucket"><code>Bucket</code></a> itself, i.e. it
does not make any changes to the <code>data</code> parts of the table. The caller of this
function must take care to properly drop the <code>data</code>, otherwise calling this
function may result in a memory leak.</p>
<h5 id="safety-24"><a class="doc-anchor" href="#safety-24">§</a>Safety</h5>
<p>You must observe the following safety rules when calling this function:</p>
<ul>
<li>
<p>The <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a> has already been allocated;</p>
</li>
<li>
<p>It must be the full control byte at the given position;</p>
</li>
<li>
<p>The <code>index</code> must not be greater than the <code>RawTableInner.bucket_mask</code>, i.e.
<code>index &lt;= RawTableInner.bucket_mask</code> or, in other words, <code>(index + 1)</code> must
be no greater than the number returned by the function <a href="struct.RawTableInner.html#method.buckets" title="method hashbrown::raw::inner::RawTableInner::buckets"><code>RawTableInner::buckets</code></a>.</p>
</li>
</ul>
<p>Calling this function on a table that has not been allocated results in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a>.</p>
<p>Calling this function on a table with no elements is unspecified, but calling subsequent
functions is likely to result in <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html"><code>undefined behavior</code></a> due to overflow subtraction
(<code>self.items -= 1 cause overflow when self.items == 0</code>).</p>
<p>See also <a href="struct.Bucket.html#method.as_ptr" title="method hashbrown::raw::inner::Bucket::as_ptr"><code>Bucket::as_ptr</code></a> method, for more information about of properly removing
or saving <code>data element</code> from / into the <a href="struct.RawTable.html" title="struct hashbrown::raw::inner::RawTable"><code>RawTable</code></a> / <a href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner"><code>RawTableInner</code></a>.</p>
</div></details></div></details></div><h2 id="synthetic-implementations" class="section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-Freeze-for-RawTableInner" class="impl"><a href="#impl-Freeze-for-RawTableInner" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/marker/trait.Freeze.html" title="trait core::marker::Freeze">Freeze</a> for <a class="struct" href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner">RawTableInner</a></h3></section><section id="impl-RefUnwindSafe-for-RawTableInner" class="impl"><a href="#impl-RefUnwindSafe-for-RawTableInner" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner">RawTableInner</a></h3></section><section id="impl-Send-for-RawTableInner" class="impl"><a href="#impl-Send-for-RawTableInner" class="anchor">§</a><h3 class="code-header">impl !<a class="trait" href="https://doc.rust-lang.org/1.80.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner">RawTableInner</a></h3></section><section id="impl-Sync-for-RawTableInner" class="impl"><a href="#impl-Sync-for-RawTableInner" class="anchor">§</a><h3 class="code-header">impl !<a class="trait" href="https://doc.rust-lang.org/1.80.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner">RawTableInner</a></h3></section><section id="impl-Unpin-for-RawTableInner" class="impl"><a href="#impl-Unpin-for-RawTableInner" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner">RawTableInner</a></h3></section><section id="impl-UnwindSafe-for-RawTableInner" class="impl"><a href="#impl-UnwindSafe-for-RawTableInner" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.RawTableInner.html" title="struct hashbrown::raw::inner::RawTableInner">RawTableInner</a></h3></section></div><h2 id="blanket-implementations" class="section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/any.rs.html#140">source</a><a href="#impl-Any-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<div class="where">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/1.80.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/any.rs.html#141">source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.80.1/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.80.1/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/1.80.1/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/borrow.rs.html#208">source</a><a href="#impl-Borrow%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.80.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/borrow.rs.html#210">source</a><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.80.1/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.80.1/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/borrow.rs.html#216">source</a><a href="#impl-BorrowMut%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.80.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/borrow.rs.html#217">source</a><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.80.1/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.80.1/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/convert/mod.rs.html#765">source</a><a href="#impl-From%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/convert/mod.rs.html#768">source</a><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.80.1/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/convert/mod.rs.html#748-750">source</a><a href="#impl-Into%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/convert/mod.rs.html#758">source</a><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.80.1/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/1.80.1/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/convert/mod.rs.html#805-807">source</a><a href="#impl-TryFrom%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/convert/mod.rs.html#812">source</a><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/convert/mod.rs.html#790-792">source</a><a href="#impl-TryInto%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/convert/mod.rs.html#797">source</a><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details></div><script type="text/json" id="notable-traits-data">{"FullBucketsIndices":"<h3>Notable traits for <code><a class=\"struct\" href=\"struct.FullBucketsIndices.html\" title=\"struct hashbrown::raw::inner::FullBucketsIndices\">FullBucketsIndices</a></code></h3><pre><code><div class=\"where\">impl <a class=\"trait\" href=\"https://doc.rust-lang.org/1.80.1/core/iter/traits/iterator/trait.Iterator.html\" title=\"trait core::iter::traits::iterator::Iterator\">Iterator</a> for <a class=\"struct\" href=\"struct.FullBucketsIndices.html\" title=\"struct hashbrown::raw::inner::FullBucketsIndices\">FullBucketsIndices</a></div><div class=\"where\">    type <a href=\"https://doc.rust-lang.org/1.80.1/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item\" class=\"associatedtype\">Item</a> = <a class=\"primitive\" href=\"https://doc.rust-lang.org/1.80.1/std/primitive.usize.html\">usize</a>;</div>","RawIter<T>":"<h3>Notable traits for <code><a class=\"struct\" href=\"struct.RawIter.html\" title=\"struct hashbrown::raw::inner::RawIter\">RawIter</a>&lt;T&gt;</code></h3><pre><code><div class=\"where\">impl&lt;T&gt; <a class=\"trait\" href=\"https://doc.rust-lang.org/1.80.1/core/iter/traits/iterator/trait.Iterator.html\" title=\"trait core::iter::traits::iterator::Iterator\">Iterator</a> for <a class=\"struct\" href=\"struct.RawIter.html\" title=\"struct hashbrown::raw::inner::RawIter\">RawIter</a>&lt;T&gt;</div><div class=\"where\">    type <a href=\"https://doc.rust-lang.org/1.80.1/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item\" class=\"associatedtype\">Item</a> = <a class=\"struct\" href=\"struct.Bucket.html\" title=\"struct hashbrown::raw::inner::Bucket\">Bucket</a>&lt;T&gt;;</div>"}</script></section></div></main></body></html>