<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This module holds the 64-bit `CollationElement` struct used for the actual comparison, the 32-bit `CollationElement32` struct thatâ€™s used for storage. (Strictly speaking, the storage is `RawBytesULE&lt;4&gt;`.) And the `CollationElements` iterator adapter that turns an iterator over `char` into an iterator over `CollationElement`. (To match the structure of ICU4C, this isnâ€™t a real Rust `Iterator`. Instead of signaling end by returning `None`, it signals end by returning `NO_CE`.)"><title>icu_collator::elements - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="icu_collator" data-themes="" data-resource-suffix="" data-rustdoc-version="1.80.1 (3f5fd8dd4 2024-08-06)" data-channel="1.80.1" data-search-js="search-d52510db62a78183.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../icu_collator/index.html">icu_collator</a><span class="version">1.5.0</span></h2></div><h2 class="location"><a href="#">Module elements</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In crate icu_collator</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">icu_collator</a>::<wbr><a class="mod" href="#">elements</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/icu_collator/elements.rs.html#9-2260">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This module holds the 64-bit <code>CollationElement</code> struct used for
the actual comparison, the 32-bit <code>CollationElement32</code> struct
thatâ€™s used for storage. (Strictly speaking, the storage is
<code>RawBytesULE&lt;4&gt;</code>.) And the <code>CollationElements</code> iterator adapter
that turns an iterator over <code>char</code> into an iterator over
<code>CollationElement</code>. (To match the structure of ICU4C, this isnâ€™t
a real Rust <code>Iterator</code>. Instead of signaling end by returning
<code>None</code>, it signals end by returning <code>NO_CE</code>.)</p>
<p>This module also declares various constants that are also used
by the <code>comparison</code> module.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.CharacterAndClass.html" title="struct icu_collator::elements::CharacterAndClass">CharacterAndClass</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Pack a <code>char</code> and a <code>CanonicalCombiningClass</code> in
32 bits (the former in the lower 24 bits and the
latter in the high 8 bits). The latter can be
initialized to 0xFF upon creation, in which case
it can be actually set later by calling
<code>set_ccc_from_trie_if_not_already_set</code>. This is
a micro optimization to avoid the Canonical
Combining Class trie lookup when there is only
one combining character in a sequence. This type
is intentionally non-<code>Copy</code> to get compiler help
in making sure that the class is set on the
instance on which it is intended to be set
and not on a temporary copy.</div></li><li><div class="item-name"><a class="struct" href="struct.CharacterAndClassAndTrieValue.html" title="struct icu_collator::elements::CharacterAndClassAndTrieValue">CharacterAndClassAndTrieValue</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">This struct makes the handling of the <code>upcoming</code> buffer
easily so that trie lookups are done at most once. However,
when <code>upcoming[0]</code> is an undecomposed starter, we donâ€™t
need the ccc yet, and when lookahead has already done the
trie lookups, we donâ€™t need <code>trie_value</code>, as it is implied
by ccc.</div></li><li><div class="item-name"><a class="struct" href="struct.CollationElement.html" title="struct icu_collator::elements::CollationElement">CollationElement</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">A collation element is a 64-bit value.</div></li><li><div class="item-name"><a class="struct" href="struct.CollationElement32.html" title="struct icu_collator::elements::CollationElement32">CollationElement32</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">A compressed form of a collation element as stored in the collation
data.</div></li><li><div class="item-name"><a class="struct" href="struct.CollationElements.html" title="struct icu_collator::elements::CollationElements">CollationElements</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Iterator that transforms an iterator over <code>char</code> into an iterator
over <code>CollationElement</code> with a tailoring.
Not a real Rust iterator: Instead of <code>None</code> uses <code>NO_CE</code> to indicate
end of iteration to optimize comparison.</div></li><li><div class="item-name"><a class="struct" href="struct.NonPrimary.html" title="struct icu_collator::elements::NonPrimary">NonPrimary</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">The purpose of grouping the non-primary bits
into a struct is to allow for a future optimization
that specializes code over whether storage for primary
weights is needed or not. (I.e. whether to specialize
on <code>CollationElement</code> or <code>NonPrimary</code>.)</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Tag.html" title="enum icu_collator::elements::Tag">Tag</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Special-CE32 tags, from bits 3..0 of a special 32-bit CE.
Bits 31..8 are available for tag-specific data.
Bits  5..4: Reserved. May be used in the future to indicate lccc!=0 and tccc!=0.</div></li></ul><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.BACKWARD_COMBINING_STARTER_MARKER.html" title="constant icu_collator::elements::BACKWARD_COMBINING_STARTER_MARKER">BACKWARD_COMBINING_STARTER_MARKER</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Marker for starters that decompose to themselves but may
combine backwards under canonical composition.
(Main trie only; not used in the supplementary trie.)</div></li><li><div class="item-name"><a class="constant" href="constant.CASE_MASK.html" title="constant icu_collator::elements::CASE_MASK">CASE_MASK</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.COMBINING_DIACRITICS_BASE.html" title="constant icu_collator::elements::COMBINING_DIACRITICS_BASE">COMBINING_DIACRITICS_BASE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.COMMON_SECONDARY_CE.html" title="constant icu_collator::elements::COMMON_SECONDARY_CE">COMMON_SECONDARY_CE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.COMMON_SEC_AND_TER_CE.html" title="constant icu_collator::elements::COMMON_SEC_AND_TER_CE">COMMON_SEC_AND_TER_CE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.COMMON_TERTIARY_CE.html" title="constant icu_collator::elements::COMMON_TERTIARY_CE">COMMON_TERTIARY_CE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.CONTRACT_HAS_STARTER.html" title="constant icu_collator::elements::CONTRACT_HAS_STARTER">CONTRACT_HAS_STARTER</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Set if at least one contraction suffix contains a starter</div></li><li><div class="item-name"><a class="constant" href="constant.CONTRACT_NEXT_CCC.html" title="constant icu_collator::elements::CONTRACT_NEXT_CCC">CONTRACT_NEXT_CCC</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Set if there is no match for the single (no-suffix) character itself.
This is only possible if there is a prefix.
In this case, discontiguous contraction matching cannot add combining marks
starting from an empty suffix.
The default CE32 is used anyway if there is no suffix match.
Set if the first character of every contraction suffix has lccc!=0.</div></li><li><div class="item-name"><a class="constant" href="constant.CONTRACT_TRAILING_CCC.html" title="constant icu_collator::elements::CONTRACT_TRAILING_CCC">CONTRACT_TRAILING_CCC</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Set if any contraction suffix ends with lccc!=0.</div></li><li><div class="item-name"><a class="constant" href="constant.EMPTY_CHAR.html" title="constant icu_collator::elements::EMPTY_CHAR">EMPTY_CHAR</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.EMPTY_U16.html" title="constant icu_collator::elements::EMPTY_U16">EMPTY_U16</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.FALLBACK_CE32.html" title="constant icu_collator::elements::FALLBACK_CE32">FALLBACK_CE32</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.FDFA_MARKER.html" title="constant icu_collator::elements::FDFA_MARKER">FDFA_MARKER</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Marker value for U+FDFA in NFKD</div></li><li><div class="item-name"><a class="constant" href="constant.FFFD_CE.html" title="constant icu_collator::elements::FFFD_CE">FFFD_CE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.FFFD_CE32.html" title="constant icu_collator::elements::FFFD_CE32">FFFD_CE32</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.FFFD_CE32_VALUE.html" title="constant icu_collator::elements::FFFD_CE32_VALUE">FFFD_CE32_VALUE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.FFFD_CE_VALUE.html" title="constant icu_collator::elements::FFFD_CE_VALUE">FFFD_CE_VALUE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.FFFD_PRIMARY.html" title="constant icu_collator::elements::FFFD_PRIMARY">FFFD_PRIMARY</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.HANGUL_L_BASE.html" title="constant icu_collator::elements::HANGUL_L_BASE">HANGUL_L_BASE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.HANGUL_N_COUNT.html" title="constant icu_collator::elements::HANGUL_N_COUNT">HANGUL_N_COUNT</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.HANGUL_S_BASE.html" title="constant icu_collator::elements::HANGUL_S_BASE">HANGUL_S_BASE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.HANGUL_S_COUNT.html" title="constant icu_collator::elements::HANGUL_S_COUNT">HANGUL_S_COUNT</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.HANGUL_T_BASE.html" title="constant icu_collator::elements::HANGUL_T_BASE">HANGUL_T_BASE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.HANGUL_T_COUNT.html" title="constant icu_collator::elements::HANGUL_T_COUNT">HANGUL_T_COUNT</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.HANGUL_V_BASE.html" title="constant icu_collator::elements::HANGUL_V_BASE">HANGUL_V_BASE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.JAMO_COUNT.html" title="constant icu_collator::elements::JAMO_COUNT">JAMO_COUNT</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.LONG_PRIMARY_CE32_LOW_BYTE.html" title="constant icu_collator::elements::LONG_PRIMARY_CE32_LOW_BYTE">LONG_PRIMARY_CE32_LOW_BYTE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.NON_ROUND_TRIP_MARKER.html" title="constant icu_collator::elements::NON_ROUND_TRIP_MARKER">NON_ROUND_TRIP_MARKER</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Marker that a complex decomposition isnâ€™t round-trippable
under re-composition.</div></li><li><div class="item-name"><a class="constant" href="constant.NO_CE.html" title="constant icu_collator::elements::NO_CE">NO_CE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.NO_CE_PRIMARY.html" title="constant icu_collator::elements::NO_CE_PRIMARY">NO_CE_PRIMARY</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.NO_CE_SECONDARY.html" title="constant icu_collator::elements::NO_CE_SECONDARY">NO_CE_SECONDARY</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.NO_CE_TERTIARY.html" title="constant icu_collator::elements::NO_CE_TERTIARY">NO_CE_TERTIARY</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.NO_CE_VALUE.html" title="constant icu_collator::elements::NO_CE_VALUE">NO_CE_VALUE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.OPTIMIZED_DIACRITICS_LIMIT.html" title="constant icu_collator::elements::OPTIMIZED_DIACRITICS_LIMIT">OPTIMIZED_DIACRITICS_LIMIT</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.OPTIMIZED_DIACRITICS_MAX_COUNT.html" title="constant icu_collator::elements::OPTIMIZED_DIACRITICS_MAX_COUNT">OPTIMIZED_DIACRITICS_MAX_COUNT</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.QUATERNARY_MASK.html" title="constant icu_collator::elements::QUATERNARY_MASK">QUATERNARY_MASK</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.SINGLE_REPLACEMENT_CHARACTER_CHAR.html" title="constant icu_collator::elements::SINGLE_REPLACEMENT_CHARACTER_CHAR">SINGLE_REPLACEMENT_CHARACTER_CHAR</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.SINGLE_REPLACEMENT_CHARACTER_U16.html" title="constant icu_collator::elements::SINGLE_REPLACEMENT_CHARACTER_U16">SINGLE_REPLACEMENT_CHARACTER_U16</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.SPECIAL_CE32_LOW_BYTE.html" title="constant icu_collator::elements::SPECIAL_CE32_LOW_BYTE">SPECIAL_CE32_LOW_BYTE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.SPECIAL_NON_STARTER_DECOMPOSITION_MARKER.html" title="constant icu_collator::elements::SPECIAL_NON_STARTER_DECOMPOSITION_MARKER">SPECIAL_NON_STARTER_DECOMPOSITION_MARKER</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.SPECIAL_NON_STARTER_DECOMPOSITION_MARKER_U16.html" title="constant icu_collator::elements::SPECIAL_NON_STARTER_DECOMPOSITION_MARKER_U16">SPECIAL_NON_STARTER_DECOMPOSITION_MARKER_U16</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short"><code>u16</code> version of the previous marker value.</div></li><li><div class="item-name"><a class="constant" href="constant.TERTIARY_MASK.html" title="constant icu_collator::elements::TERTIARY_MASK">TERTIARY_MASK</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.UNASSIGNED_IMPLICIT_BYTE.html" title="constant icu_collator::elements::UNASSIGNED_IMPLICIT_BYTE">UNASSIGNED_IMPLICIT_BYTE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.ccc_from_trie_value.html" title="fn icu_collator::elements::ccc_from_trie_value">ccc_from_trie_value</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Extracts a canonical combining class (possibly zero) from a trie value.</div></li><li><div class="item-name"><a class="fn" href="fn.char_from_u16.html" title="fn icu_collator::elements::char_from_u16">char_from_u16</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Convert a <code>u16</code> <em>obtained from data provider data</em> to <code>char</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.char_from_u32.html" title="fn icu_collator::elements::char_from_u32">char_from_u32</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Convert a <code>u32</code> <em>obtained from data provider data</em> to <code>char</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.decomposition_starts_with_non_starter.html" title="fn icu_collator::elements::decomposition_starts_with_non_starter">decomposition_starts_with_non_starter</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Checks if a trie value signifies a character whose decomposition
starts with a non-starter.</div></li><li><div class="item-name"><a class="fn" href="fn.in_inclusive_range.html" title="fn icu_collator::elements::in_inclusive_range">in_inclusive_range</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="fn" href="fn.trie_value_has_ccc.html" title="fn icu_collator::elements::trie_value_has_ccc">trie_value_has_ccc</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Checks if a trie value carries a (non-zero) canonical
combining class.</div></li><li><div class="item-name"><a class="fn" href="fn.trie_value_indicates_special_non_starter_decomposition.html" title="fn icu_collator::elements::trie_value_indicates_special_non_starter_decomposition">trie_value_indicates_special_non_starter_decomposition</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Checks if the trie signifies a special non-starter decomposition.</div></li><li><div class="item-name"><a class="fn" href="fn.unwrap_or_gigo.html" title="fn icu_collator::elements::unwrap_or_gigo">unwrap_or_gigo</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">If <code>opt</code> is <code>Some</code>, unwrap it. If <code>None</code>, panic if debug assertions
are enabled and return <code>default</code> if debug assertions are not enabled.</div></li></ul></section></div></main></body></html>