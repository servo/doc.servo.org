<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Simple 2D geometric primitives on top of euclid."><meta name="keywords" content="rust, rustlang, rust-lang, lyon_geom"><title>lyon_geom - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg"><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../lyon_geom/index.html'><div class='logo-container rust-logo'><img src='https:&#x2F;&#x2F;nical.github.io&#x2F;lyon-doc&#x2F;lyon-logo.svg' alt='logo'></div></a><h2 class="location">Crate lyon_geom</h2><div class="block version"><div class="narrow-helper"></div><p>Version 0.15.0</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all lyon_geom's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></div><div id="sidebar-vars" data-name="lyon_geom" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">lyon_geom</a><button id="copy-path" onclick="copy_path(this)" title="copy path"><img src="../clipboard.svg" width="19" height="18" alt="Copy item import" title="Copy item import to clipboard"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/lyon_geom/lib.rs.html#1-336" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Simple 2D geometric primitives on top of euclid.</p>
<p>This crate is reexported in <a href="https://docs.rs/lyon/">lyon</a>.</p>
<h1 id="overview" class="section-header"><a href="#overview">Overview.</a></h1>
<p>This crate implements some of the maths to work with:</p>
<ul>
<li>lines and line segments,</li>
<li>quadratic and cubic bézier curves,</li>
<li>elliptic arcs,</li>
<li>triangles.</li>
</ul>
<h1 id="flattening" class="section-header"><a href="#flattening">Flattening</a></h1>
<p>Flattening is the action of approximating a curve with a succession of line segments.</p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 30" height="30mm" width="120mm">
  <path d="M26.7 24.94l.82-11.15M44.46 5.1L33.8 7.34" fill="none" stroke="#55d400" stroke-width=".5"/>
  <path d="M26.7 24.94c.97-11.13 7.17-17.6 17.76-19.84M75.27 24.94l1.13-5.5 2.67-5.48 4-4.42L88 6.7l5.02-1.6" fill="none" stroke="#000"/>
  <path d="M77.57 19.37a1.1 1.1 0 0 1-1.08 1.08 1.1 1.1 0 0 1-1.1-1.08 1.1 1.1 0 0 1 1.08-1.1 1.1 1.1 0 0 1 1.1 1.1" color="#000" fill="none" stroke="#030303" stroke-linecap="round" stroke-opacity=".5"/>
  <path d="M77.57 19.37a1.1 1.1 0 0 1-1.08 1.08 1.1 1.1 0 0 1-1.1-1.08 1.1 1.1 0 0 1 1.08-1.1 1.1 1.1 0 0 1 1.1 1.1" color="#000" fill="#fff"/>
  <path d="M80.22 13.93a1.1 1.1 0 0 1-1.1 1.1 1.1 1.1 0 0 1-1.08-1.1 1.1 1.1 0 0 1 1.1-1.08 1.1 1.1 0 0 1 1.08 1.08" color="#000" fill="none" stroke="#030303" stroke-linecap="round" stroke-opacity=".5"/>
  <path d="M80.22 13.93a1.1 1.1 0 0 1-1.1 1.1 1.1 1.1 0 0 1-1.08-1.1 1.1 1.1 0 0 1 1.1-1.08 1.1 1.1 0 0 1 1.08 1.08" color="#000" fill="#fff"/>
  <path d="M84.08 9.55a1.1 1.1 0 0 1-1.08 1.1 1.1 1.1 0 0 1-1.1-1.1 1.1 1.1 0 0 1 1.1-1.1 1.1 1.1 0 0 1 1.08 1.1" color="#000" fill="none" stroke="#030303" stroke-linecap="round" stroke-opacity=".5"/>
  <path d="M84.08 9.55a1.1 1.1 0 0 1-1.08 1.1 1.1 1.1 0 0 1-1.1-1.1 1.1 1.1 0 0 1 1.1-1.1 1.1 1.1 0 0 1 1.08 1.1" color="#000" fill="#fff"/>
  <path d="M89.1 6.66a1.1 1.1 0 0 1-1.08 1.1 1.1 1.1 0 0 1-1.08-1.1 1.1 1.1 0 0 1 1.08-1.08 1.1 1.1 0 0 1 1.1 1.08" color="#000" fill="none" stroke="#030303" stroke-linecap="round" stroke-opacity=".5"/>
  <path d="M89.1 6.66a1.1 1.1 0 0 1-1.08 1.1 1.1 1.1 0 0 1-1.08-1.1 1.1 1.1 0 0 1 1.08-1.08 1.1 1.1 0 0 1 1.1 1.08" color="#000" fill="#fff"/>
  <path d="M94.4 5a1.1 1.1 0 0 1-1.1 1.1A1.1 1.1 0 0 1 92.23 5a1.1 1.1 0 0 1 1.08-1.08A1.1 1.1 0 0 1 94.4 5" color="#000" fill="none" stroke="#030303" stroke-linecap="round" stroke-opacity=".5"/>
  <path d="M94.4 5a1.1 1.1 0 0 1-1.1 1.1A1.1 1.1 0 0 1 92.23 5a1.1 1.1 0 0 1 1.08-1.08A1.1 1.1 0 0 1 94.4 5" color="#000" fill="#fff"/>
  <path d="M76.44 25.13a1.1 1.1 0 0 1-1.1 1.1 1.1 1.1 0 0 1-1.08-1.1 1.1 1.1 0 0 1 1.1-1.1 1.1 1.1 0 0 1 1.08 1.1" color="#000" fill="none" stroke="#030303" stroke-linecap="round" stroke-opacity=".5"/>
  <path d="M76.44 25.13a1.1 1.1 0 0 1-1.1 1.1 1.1 1.1 0 0 1-1.08-1.1 1.1 1.1 0 0 1 1.1-1.1 1.1 1.1 0 0 1 1.08 1.1" color="#000" fill="#fff"/>
  <path d="M27.78 24.9a1.1 1.1 0 0 1-1.08 1.08 1.1 1.1 0 0 1-1.1-1.08 1.1 1.1 0 0 1 1.1-1.1 1.1 1.1 0 0 1 1.08 1.1" color="#000" fill="none" stroke="#030303" stroke-linecap="round" stroke-opacity=".5"/>
  <path d="M27.78 24.9a1.1 1.1 0 0 1-1.08 1.08 1.1 1.1 0 0 1-1.1-1.08 1.1 1.1 0 0 1 1.1-1.1 1.1 1.1 0 0 1 1.08 1.1" color="#000" fill="#fff"/>
  <path d="M45.4 5.14a1.1 1.1 0 0 1-1.08 1.1 1.1 1.1 0 0 1-1.1-1.1 1.1 1.1 0 0 1 1.1-1.08 1.1 1.1 0 0 1 1.1 1.08" color="#000" fill="none" stroke="#030303" stroke-linecap="round" stroke-opacity=".5"/>
  <path d="M45.4 5.14a1.1 1.1 0 0 1-1.08 1.1 1.1 1.1 0 0 1-1.1-1.1 1.1 1.1 0 0 1 1.1-1.08 1.1 1.1 0 0 1 1.1 1.08" color="#000" fill="#fff"/>
  <path d="M28.67 13.8a1.1 1.1 0 0 1-1.1 1.08 1.1 1.1 0 0 1-1.08-1.08 1.1 1.1 0 0 1 1.08-1.1 1.1 1.1 0 0 1 1.1 1.1" color="#000" fill="none" stroke="#030303" stroke-linecap="round" stroke-opacity=".5"/>
  <path d="M28.67 13.8a1.1 1.1 0 0 1-1.1 1.08 1.1 1.1 0 0 1-1.08-1.08 1.1 1.1 0 0 1 1.08-1.1 1.1 1.1 0 0 1 1.1 1.1" color="#000" fill="#fff"/>
  <path d="M35 7.32a1.1 1.1 0 0 1-1.1 1.1 1.1 1.1 0 0 1-1.08-1.1 1.1 1.1 0 0 1 1.1-1.1A1.1 1.1 0 0 1 35 7.33" color="#000" fill="none" stroke="#030303" stroke-linecap="round" stroke-opacity=".5"/>
  <path d="M35 7.32a1.1 1.1 0 0 1-1.1 1.1 1.1 1.1 0 0 1-1.08-1.1 1.1 1.1 0 0 1 1.1-1.1A1.1 1.1 0 0 1 35 7.33" color="#000" fill="#fff"/>
  <text style="line-height:6.61458302px" x="35.74" y="284.49" font-size="5.29" font-family="Sans" letter-spacing="0" word-spacing="0" fill="#b3b3b3" stroke-width=".26" transform="translate(19.595 -267)">
    <tspan x="35.74" y="284.49" font-size="10.58">→</tspan>
  </text>
</svg>
<p>The flattening algorithm implemented in this crate is based on the paper
<a href="http://cis.usouthal.edu/%7Ehain/general/Publications/Bezier/Bezier%20Offset%20Curves.pdf">Fast, Precise Flattening of Cubic Bézier Segment Offset Curves</a>.
It tends to produce a better approximations than the usual recursive subdivision approach (or
in other words, it generates less segments for a given tolerance threshold).</p>
<p>The tolerance threshold taken as input by the flattening algorithms corresponds
to the maximum distance between the curve and its linear approximation.
The smaller the tolerance is, the more precise the approximation and the more segments
are generated. This value is typically chosen in function of the zoom level.</p>
<svg viewBox="0 0 47.5 13.2" height="100" width="350" xmlns="http://www.w3.org/2000/svg">
  <path d="M-2.44 9.53c16.27-8.5 39.68-7.93 52.13 1.9" fill="none" stroke="#dde9af" stroke-width="4.6"/>
  <path d="M-1.97 9.3C14.28 1.03 37.36 1.7 49.7 11.4" fill="none" stroke="#00d400" stroke-width=".57" stroke-linecap="round" stroke-dasharray="4.6, 2.291434"/>
  <path d="M-1.94 10.46L6.2 6.08l28.32-1.4 15.17 6.74" fill="none" stroke="#000" stroke-width=".6"/>
  <path d="M6.83 6.57a.9.9 0 0 1-1.25.15.9.9 0 0 1-.15-1.25.9.9 0 0 1 1.25-.15.9.9 0 0 1 .15 1.25" color="#000" stroke="#000" stroke-width=".57" stroke-linecap="round" stroke-opacity=".5"/>
  <path d="M35.35 5.3a.9.9 0 0 1-1.25.15.9.9 0 0 1-.15-1.25.9.9 0 0 1 1.25-.15.9.9 0 0 1 .15 1.24" color="#000" stroke="#000" stroke-width=".6" stroke-opacity=".5"/>
  <g fill="none" stroke="#ff7f2a" stroke-width=".26">
    <path d="M20.4 3.8l.1 1.83M19.9 4.28l.48-.56.57.52M21.02 5.18l-.5.56-.6-.53" stroke-width=".2978872"/>
  </g>
</svg>
<p>The figure above shows a close up on a curve (the dotted line) and its linear
approximation (the black segments). The tolerance threshold is represented by
the light green area and the orange arrow.</p>
</div></details><h2 id="reexports" class="section-header"><a href="#reexports">Re-exports</a></h2>
<div class="item-table"><div class="item-left import-item"><code>pub use <a class="mod" href="../arrayvec/index.html" title="mod arrayvec">arrayvec</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use <a class="mod" href="../euclid/index.html" title="mod euclid">euclid</a>;</code></div><div class="item-right docblock-short"></div></div><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="mod" href="arc/index.html" title="lyon_geom::arc mod">arc</a></div><div class="item-right docblock-short"><p>Elliptic arc related maths and tools.</p>
</div><div class="item-left module-item"><a class="mod" href="cubic_bezier/index.html" title="lyon_geom::cubic_bezier mod">cubic_bezier</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="mod" href="cubic_bezier_intersections/index.html" title="lyon_geom::cubic_bezier_intersections mod">cubic_bezier_intersections</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="mod" href="cubic_to_quadratic/index.html" title="lyon_geom::cubic_to_quadratic mod">cubic_to_quadratic</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="mod" href="flatten_cubic/index.html" title="lyon_geom::flatten_cubic mod">flatten_cubic</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="mod" href="generic_math/index.html" title="lyon_geom::generic_math mod">generic_math</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="mod" href="line/index.html" title="lyon_geom::line mod">line</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="mod" href="math/index.html" title="lyon_geom::math mod">math</a></div><div class="item-right docblock-short"><p>Basic types that are used everywhere. Most other lyon crates
reexport them.</p>
</div><div class="item-left module-item"><a class="mod" href="monotonic/index.html" title="lyon_geom::monotonic mod">monotonic</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="mod" href="quadratic_bezier/index.html" title="lyon_geom::quadratic_bezier mod">quadratic_bezier</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="mod" href="scalar/index.html" title="lyon_geom::scalar mod">scalar</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="mod" href="segment/index.html" title="lyon_geom::segment mod">segment</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="mod" href="traits/index.html" title="lyon_geom::traits mod">traits</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="mod" href="triangle/index.html" title="lyon_geom::triangle mod">triangle</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="mod" href="utils/index.html" title="lyon_geom::utils mod">utils</a></div><div class="item-right docblock-short"></div></div><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="struct" href="struct.Arc.html" title="lyon_geom::Arc struct">Arc</a></div><div class="item-right docblock-short"><p>An elliptic arc curve segment.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.ArcFlags.html" title="lyon_geom::ArcFlags struct">ArcFlags</a></div><div class="item-right docblock-short"><p>Flag parameters for arcs as described by the SVG specification.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.CubicBezierSegment.html" title="lyon_geom::CubicBezierSegment struct">CubicBezierSegment</a></div><div class="item-right docblock-short"><p>A 2d curve segment defined by four points: the beginning of the segment, two control
points and the end of the segment.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.Line.html" title="lyon_geom::Line struct">Line</a></div><div class="item-right docblock-short"><p>An infinite line defined by a point and a vector.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.LineEquation.html" title="lyon_geom::LineEquation struct">LineEquation</a></div><div class="item-right docblock-short"><p>A line defined by the equation
<code>a * x + b * y + c = 0; a * a + b * b = 1</code>.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.LineSegment.html" title="lyon_geom::LineSegment struct">LineSegment</a></div><div class="item-right docblock-short"><p>A linear segment.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.Monotonic.html" title="lyon_geom::Monotonic struct">Monotonic</a></div><div class="item-right docblock-short"><p>A x and y monotonic curve segment, for example <code>Monotonic&lt;QuadraticBezierSegment&gt;</code>.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.QuadraticBezierSegment.html" title="lyon_geom::QuadraticBezierSegment struct">QuadraticBezierSegment</a></div><div class="item-right docblock-short"><p>A 2d curve segment defined by three points: the beginning of the segment, a control
point and the end of the segment.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.SvgArc.html" title="lyon_geom::SvgArc struct">SvgArc</a></div><div class="item-right docblock-short"><p>An elliptic arc curve segment using the SVG’s end-point notation.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.Triangle.html" title="lyon_geom::Triangle struct">Triangle</a></div><div class="item-right docblock-short"><p>A 2D triangle defined by three points <code>a</code>, <code>b</code> and <code>c</code>.</p>
</div></div><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="enum" href="enum.BezierSegment.html" title="lyon_geom::BezierSegment enum">BezierSegment</a></div><div class="item-right docblock-short"><p>Either a cubic, quadratic or linear bézier segment.</p>
</div></div><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="trait" href="trait.Scalar.html" title="lyon_geom::Scalar trait">Scalar</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="trait" href="trait.Segment.html" title="lyon_geom::Segment trait">Segment</a></div><div class="item-right docblock-short"><p>Common APIs to segment types.</p>
</div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="lyon_geom" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
    <script src="../main.js"></script>
</body></html>