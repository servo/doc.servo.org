<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Source of the Rust file `/home/runner/work/servo/servo/target/debug/build/wayland-protocols-cef38b2f1f182a30/out/fullscreen-shell-v1_client_api.rs`."><meta name="keywords" content="rust, rustlang, rust-lang"><title>fullscreen-shell-v1_client_api.rs - source</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../../../../../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../../../../../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../../../../../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../../../../../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../../../../../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../../../../../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../../../../../../../../../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../../../../../../../../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../../../../../../../../../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../../../../../../../../../../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../../../../../../../../../../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../../../../../../../../../../../storage.js"></script><script src="../../../../../../../../../../../../crates.js"></script><script defer src="../../../../../../../../../../../../main.js"></script><script defer src="../../../../../../../../../../../../source-script.js"></script><script defer src="../../../../../../../../../../../../source-files.js"></script>
    <noscript><link rel="stylesheet" href="../../../../../../../../../../../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../../../../../../../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../../../../../../../../../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../../../../../../../../../../../favicon.svg"></head><body class="rustdoc source"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../../../../../../../../../../../wayland_protocols/index.html"><div class="logo-container"><img class="rust-logo" src="../../../../../../../../../../../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../../../../../../../../../../../wayland_protocols/index.html"><div class="logo-container"><img class="rust-logo" src="../../../../../../../../../../../../rust-logo.svg" alt="logo"></div>
        </a></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../../../../../../../../../../../wayland_protocols/index.html"><img class="rust-logo" src="../../../../../../../../../../../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../../../../../../../../../../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><div>
                                <input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../../../../../../../../../../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../../../../../../../../../../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="example-wrap"><pre class="line-numbers"><span id="1">1</span>
</pre><pre class="rust"><code><span class="kw">use</span> <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: { <span class="ident">c_char</span> , <span class="ident">c_void</span> } ; <span class="kw">const</span> <span class="ident">NULLPTR</span> : <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_void</span> <span class="op">=</span> <span class="number">0</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_void</span> ; <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">types_null</span> : [<span class="op">*</span> <span class="kw">const</span> <span class="ident">sys</span> :: <span class="ident">common</span> :: <span class="ident">wl_interface</span> ; <span class="number">1</span>] <span class="op">=</span> [<span class="ident">NULLPTR</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">sys</span> :: <span class="ident">common</span> :: <span class="ident">wl_interface</span> ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;displays a single surface per output\n\nDisplays a single surface per output.\n\nThis interface provides a mechanism for a single client to display\nsimple full-screen surfaces.  While there technically may be multiple\nclients bound to this interface, only one of those clients should be\nshown at a time.\n\nTo present a surface, the client uses either the present_surface or\npresent_surface_for_mode requests.  Presenting a surface takes effect\non the next wl_surface.commit.  See the individual requests for\ndetails about scaling and mode switches.\n\nThe client can have at most one surface per output at any time.\nRequesting a surface to be presented on an output that already has a\nsurface replaces the previously presented surface.  Presenting a null\nsurface removes its content and effectively disables the output.\nExactly what happens when an output is \&quot;disabled\&quot; is\ncompositor-specific.  The same surface may be presented on multiple\noutputs simultaneously.\n\nOnce a surface is presented on an output, it stays on that output\nuntil either the client removes it or the compositor destroys the\noutput.  This way, the client can update the output&#39;s contents by\nsimply attaching a new buffer.\n\nWarning! The protocol described in this file is experimental and\nbackward incompatible changes may be made. Backward compatible changes\nmay be added together with the corresponding interface version bump.\nBackward incompatible changes are done by bumping the version number in\nthe protocol and interface names and resetting the interface version.\nOnce the protocol is to be declared stable, the &#39;z&#39; prefix and the\nversion number in the protocol and interface names are removed and the\ninterface version number is reset.&quot;</span>] <span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">zwp_fullscreen_shell_v1</span> { <span class="kw">use</span> <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_char</span> ; <span class="kw">use</span> <span class="kw">super</span> :: { <span class="ident">Proxy</span> , <span class="ident">AnonymousObject</span> , <span class="ident">Interface</span> , <span class="ident">MessageGroup</span> , <span class="ident">MessageDesc</span> , <span class="ident">ArgumentType</span> , <span class="ident">Object</span> , <span class="ident">Message</span> , <span class="ident">Argument</span> , <span class="ident">ObjectMetadata</span> , <span class="ident">types_null</span> , <span class="ident">NULLPTR</span> , <span class="ident">Main</span> , <span class="ident">smallvec</span> , } ; <span class="kw">use</span> <span class="kw">super</span> :: <span class="ident">sys</span> :: <span class="ident">common</span> :: { <span class="ident">wl_interface</span> , <span class="ident">wl_array</span> , <span class="ident">wl_argument</span> , <span class="ident">wl_message</span> } ; <span class="kw">use</span> <span class="kw">super</span> :: <span class="ident">sys</span> :: <span class="ident">client</span> :: <span class="op">*</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;capabilities advertised by the compositor\n\nVarious capabilities that can be advertised by the compositor.  They\nare advertised one-at-a-time when the wl_fullscreen_shell interface is\nbound.  See the wl_fullscreen_shell.capability event for more details.\n\nARBITRARY_MODES:\nThis is a hint to the client that indicates that the compositor is\ncapable of setting practically any mode on its outputs.  If this\ncapability is provided, wl_fullscreen_shell.present_surface_for_mode\nwill almost never fail and clients should feel free to set whatever\nmode they like.  If the compositor does not advertise this, it may\nstill support some modes that are not advertised through wl_global.mode\nbut it is less likely.\n\nCURSOR_PLANE:\nThis is a hint to the client that indicates that the compositor can\nhandle a cursor surface from the client without actually compositing.\nThis may be because of a hardware cursor plane or some other mechanism.\nIf the compositor does not advertise this capability then setting\nwl_pointer.cursor may degrade performance or be ignored entirely.  If\nCURSOR_PLANE is not advertised, it is recommended that the client draw\nits own cursor and set wl_pointer.cursor(NULL).&quot;</span>] # [<span class="ident">repr</span> (<span class="ident">u32</span>)] # [<span class="ident">derive</span> (<span class="ident">Copy</span> , <span class="ident">Clone</span> , <span class="ident">Debug</span> , <span class="ident">PartialEq</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Capability</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;compositor is capable of almost any output mode&quot;</span>] <span class="ident">ArbitraryModes</span> <span class="op">=</span> <span class="number">1</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;compositor has a separate cursor plane&quot;</span>] <span class="ident">CursorPlane</span> <span class="op">=</span> <span class="number">2</span> , } <span class="kw">impl</span> <span class="ident">Capability</span> { <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">n</span> : <span class="ident">u32</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Capability</span> <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">n</span> { <span class="number">1</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Capability</span> :: <span class="ident">ArbitraryModes</span>) , <span class="number">2</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Capability</span> :: <span class="ident">CursorPlane</span>) , <span class="kw">_</span> =&gt; <span class="prelude-ty">Option</span> :: <span class="prelude-val">None</span> } } <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">to_raw</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="op">*</span> <span class="self">self</span> <span class="kw">as</span> <span class="ident">u32</span> } } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;different method to set the surface fullscreen\n\nHints to indicate to the compositor how to deal with a conflict\nbetween the dimensions of the surface and the dimensions of the\noutput. The compositor is free to ignore this parameter.&quot;</span>] # [<span class="ident">repr</span> (<span class="ident">u32</span>)] # [<span class="ident">derive</span> (<span class="ident">Copy</span> , <span class="ident">Clone</span> , <span class="ident">Debug</span> , <span class="ident">PartialEq</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">PresentMethod</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;no preference, apply default policy&quot;</span>] <span class="ident">Default</span> <span class="op">=</span> <span class="number">0</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;center the surface on the output&quot;</span>] <span class="ident">Center</span> <span class="op">=</span> <span class="number">1</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;scale the surface, preserving aspect ratio, to the largest size that will fit on the output&quot;</span>] <span class="ident">Zoom</span> <span class="op">=</span> <span class="number">2</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;scale the surface, preserving aspect ratio, to fully fill the output cropping if needed&quot;</span>] <span class="ident">ZoomCrop</span> <span class="op">=</span> <span class="number">3</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;scale the surface to the size of the output ignoring aspect ratio&quot;</span>] <span class="ident">Stretch</span> <span class="op">=</span> <span class="number">4</span> , } <span class="kw">impl</span> <span class="ident">PresentMethod</span> { <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">n</span> : <span class="ident">u32</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">PresentMethod</span> <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">n</span> { <span class="number">0</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">PresentMethod</span> :: <span class="ident">Default</span>) , <span class="number">1</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">PresentMethod</span> :: <span class="ident">Center</span>) , <span class="number">2</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">PresentMethod</span> :: <span class="ident">Zoom</span>) , <span class="number">3</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">PresentMethod</span> :: <span class="ident">ZoomCrop</span>) , <span class="number">4</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">PresentMethod</span> :: <span class="ident">Stretch</span>) , <span class="kw">_</span> =&gt; <span class="prelude-ty">Option</span> :: <span class="prelude-val">None</span> } } <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">to_raw</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="op">*</span> <span class="self">self</span> <span class="kw">as</span> <span class="ident">u32</span> } } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;wl_fullscreen_shell error values\n\nThese errors can be emitted in response to wl_fullscreen_shell requests.&quot;</span>] # [<span class="ident">repr</span> (<span class="ident">u32</span>)] # [<span class="ident">derive</span> (<span class="ident">Copy</span> , <span class="ident">Clone</span> , <span class="ident">Debug</span> , <span class="ident">PartialEq</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Error</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;present_method is not known&quot;</span>] <span class="ident">InvalidMethod</span> <span class="op">=</span> <span class="number">0</span> , } <span class="kw">impl</span> <span class="ident">Error</span> { <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">n</span> : <span class="ident">u32</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Error</span> <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">n</span> { <span class="number">0</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Error</span> :: <span class="ident">InvalidMethod</span>) , <span class="kw">_</span> =&gt; <span class="prelude-ty">Option</span> :: <span class="prelude-val">None</span> } } <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">to_raw</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="op">*</span> <span class="self">self</span> <span class="kw">as</span> <span class="ident">u32</span> } } # [<span class="ident">derive</span> (<span class="ident">Debug</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Request</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;release the wl_fullscreen_shell interface\n\nRelease the binding from the wl_fullscreen_shell interface.\n\nThis destroys the server-side object and frees this binding.  If\nthe client binds to wl_fullscreen_shell multiple times, it may wish\nto free some of those bindings.\n\nThis is a destructor, once sent this object cannot be used any longer.&quot;</span>] <span class="ident">Release</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;present surface for display\n\nPresent a surface on the given output.\n\nIf the output is null, the compositor will present the surface on\nwhatever display (or displays) it thinks best.  In particular, this\nmay replace any or all surfaces currently presented so it should\nnot be used in combination with placing surfaces on specific\noutputs.\n\nThe method parameter is a hint to the compositor for how the surface\nis to be presented.  In particular, it tells the compositor how to\nhandle a size mismatch between the presented surface and the\noutput.  The compositor is free to ignore this parameter.\n\nThe \&quot;zoom\&quot;, \&quot;zoom_crop\&quot;, and \&quot;stretch\&quot; methods imply a scaling\noperation on the surface.  This will override any kind of output\nscaling, so the buffer_scale property of the surface is effectively\nignored.&quot;</span>] <span class="ident">PresentSurface</span> { <span class="ident">surface</span> : <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="kw">super</span> :: <span class="ident">wl_surface</span> :: <span class="ident">WlSurface</span> <span class="op">&gt;</span> , <span class="ident">method</span> : <span class="ident">u32</span> , <span class="ident">output</span> : <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="kw">super</span> :: <span class="ident">wl_output</span> :: <span class="ident">WlOutput</span> <span class="op">&gt;</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;present surface for display at a particular mode\n\nPresents a surface on the given output for a particular mode.\n\nIf the current size of the output differs from that of the surface,\nthe compositor will attempt to change the size of the output to\nmatch the surface.  The result of the mode-switch operation will be\nreturned via the provided wl_fullscreen_shell_mode_feedback object.\n\nIf the current output mode matches the one requested or if the\ncompositor successfully switches the mode to match the surface,\nthen the mode_successful event will be sent and the output will\ncontain the contents of the given surface.  If the compositor\ncannot match the output size to the surface size, the mode_failed\nwill be sent and the output will contain the contents of the\npreviously presented surface (if any).  If another surface is\npresented on the given output before either of these has a chance\nto happen, the present_cancelled event will be sent.\n\nDue to race conditions and other issues unknown to the client, no\nmode-switch operation is guaranteed to succeed.  However, if the\nmode is one advertised by wl_output.mode or if the compositor\nadvertises the ARBITRARY_MODES capability, then the client should\nexpect that the mode-switch operation will usually succeed.\n\nIf the size of the presented surface changes, the resulting output\nis undefined.  The compositor may attempt to change the output mode\nto compensate.  However, there is no guarantee that a suitable mode\nwill be found and the client has no way to be notified of success\nor failure.\n\nThe framerate parameter specifies the desired framerate for the\noutput in mHz.  The compositor is free to ignore this parameter.  A\nvalue of 0 indicates that the client has no preference.\n\nIf the value of wl_output.scale differs from wl_surface.buffer_scale,\nthen the compositor may choose a mode that matches either the buffer\nsize or the surface size.  In either case, the surface will fill the\noutput.&quot;</span>] <span class="ident">PresentSurfaceForMode</span> { <span class="ident">surface</span> : <span class="kw">super</span> :: <span class="ident">wl_surface</span> :: <span class="ident">WlSurface</span> , <span class="ident">output</span> : <span class="kw">super</span> :: <span class="ident">wl_output</span> :: <span class="ident">WlOutput</span> , <span class="ident">framerate</span> : <span class="ident">i32</span> , } , } <span class="kw">impl</span> <span class="kw">super</span> :: <span class="ident">MessageGroup</span> <span class="kw">for</span> <span class="ident">Request</span> { <span class="kw">const</span> <span class="ident">MESSAGES</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span>] <span class="op">=</span> <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;release&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [] , <span class="ident">destructor</span> : <span class="bool-val">true</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;present_surface&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Object</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Uint</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Object</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;present_surface_for_mode&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Object</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Object</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">NewId</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } ,] ; <span class="kw">type</span> <span class="ident">Map</span> <span class="op">=</span> <span class="kw">super</span> :: <span class="ident">ProxyMap</span> ; <span class="kw">fn</span> <span class="ident">is_destructor</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">bool</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Release</span> =&gt; <span class="bool-val">true</span> , <span class="kw">_</span> =&gt; <span class="bool-val">false</span> , } } <span class="kw">fn</span> <span class="ident">opcode</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u16</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Release</span> =&gt; <span class="number">0</span> , <span class="ident">Request</span> :: <span class="ident">PresentSurface</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">PresentSurfaceForMode</span> { .. } =&gt; <span class="number">2</span> , } } <span class="kw">fn</span> <span class="ident">since</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Release</span> =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">PresentSurface</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">PresentSurfaceForMode</span> { .. } =&gt; <span class="number">1</span> , } } <span class="kw">fn</span> <span class="ident">child</span> <span class="op">&lt;</span> <span class="ident">Meta</span> : <span class="ident">ObjectMetadata</span> <span class="op">&gt;</span> (<span class="ident">opcode</span> : <span class="ident">u16</span> , <span class="ident">version</span> : <span class="ident">u32</span> , <span class="ident">meta</span> : <span class="op">&amp;</span> <span class="ident">Meta</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Object</span> <span class="op">&lt;</span> <span class="ident">Meta</span> <span class="op">&gt;</span><span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="number">2</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Object</span> :: <span class="ident">from_interface</span> :: <span class="op">&lt;</span> <span class="kw">super</span> :: <span class="ident">zwp_fullscreen_shell_mode_feedback_v1</span> :: <span class="ident">ZwpFullscreenShellModeFeedbackV1</span> <span class="op">&gt;</span> (<span class="ident">version</span> , <span class="ident">meta</span> . <span class="ident">child</span> () ,)) , <span class="kw">_</span> =&gt; <span class="prelude-val">None</span> , } } <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">msg</span> : <span class="ident">Message</span> , <span class="ident">map</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="self">Self</span> :: <span class="ident">Map</span>) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="self">Self</span> , () <span class="op">&gt;</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Request::from_raw can not be used Client-side.&quot;</span>) } <span class="kw">fn</span> <span class="ident">into_raw</span> (<span class="self">self</span> , <span class="ident">sender_id</span> : <span class="ident">u32</span>) -&gt; <span class="ident">Message</span> { <span class="kw">match</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Release</span> =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">0</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [] , } , <span class="ident">Request</span> :: <span class="ident">PresentSurface</span> { <span class="ident">surface</span> , <span class="ident">method</span> , <span class="ident">output</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">1</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Object</span> (<span class="ident">surface</span> . <span class="ident">map</span> (<span class="op">|</span> <span class="ident">o</span> <span class="op">|</span> <span class="ident">o</span> . <span class="ident">as_ref</span> () . <span class="ident">id</span> ()) . <span class="ident">unwrap_or</span> (<span class="number">0</span>)) , <span class="ident">Argument</span> :: <span class="ident">Uint</span> (<span class="ident">method</span>) , <span class="ident">Argument</span> :: <span class="ident">Object</span> (<span class="ident">output</span> . <span class="ident">map</span> (<span class="op">|</span> <span class="ident">o</span> <span class="op">|</span> <span class="ident">o</span> . <span class="ident">as_ref</span> () . <span class="ident">id</span> ()) . <span class="ident">unwrap_or</span> (<span class="number">0</span>)) ,] , } , <span class="ident">Request</span> :: <span class="ident">PresentSurfaceForMode</span> { <span class="ident">surface</span> , <span class="ident">output</span> , <span class="ident">framerate</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">2</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Object</span> (<span class="ident">surface</span> . <span class="ident">as_ref</span> () . <span class="ident">id</span> ()) , <span class="ident">Argument</span> :: <span class="ident">Object</span> (<span class="ident">output</span> . <span class="ident">as_ref</span> () . <span class="ident">id</span> ()) , <span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">framerate</span>) , <span class="ident">Argument</span> :: <span class="ident">NewId</span> (<span class="number">0</span>) ,] , } , } } <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">from_raw_c</span> (<span class="ident">obj</span> : <span class="op">*</span> <span class="kw-2">mut</span> :: <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_void</span> , <span class="ident">opcode</span> : <span class="ident">u32</span> , <span class="ident">args</span> : <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_argument</span> ,) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="ident">Request</span> , () <span class="op">&gt;</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Request::from_raw_c can not be used Client-side.&quot;</span>) } <span class="kw">fn</span> <span class="ident">as_raw_c_in</span> <span class="op">&lt;</span> <span class="ident">F</span> , <span class="ident">T</span> <span class="op">&gt;</span> (<span class="self">self</span> , <span class="ident">f</span> : <span class="ident">F</span>) -&gt; <span class="ident">T</span> <span class="kw">where</span> <span class="ident">F</span> : <span class="ident">FnOnce</span> (<span class="ident">u32</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> [<span class="ident">wl_argument</span>]) -&gt; <span class="ident">T</span> { <span class="kw">match</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Release</span> =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">0</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">f</span> (<span class="number">0</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">PresentSurface</span> { <span class="ident">surface</span> , <span class="ident">method</span> , <span class="ident">output</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">3</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">o</span> <span class="op">=</span> <span class="ident">surface</span> . <span class="ident">map</span> (<span class="op">|</span> <span class="ident">o</span> <span class="op">|</span> <span class="ident">o</span> . <span class="ident">as_ref</span> () . <span class="ident">c_ptr</span> () <span class="kw">as</span> <span class="op">*</span> <span class="kw-2">mut</span> <span class="kw">_</span>) . <span class="ident">unwrap_or</span> (:: <span class="ident">std</span> :: <span class="ident">ptr</span> :: <span class="ident">null_mut</span> ()) ; <span class="ident">_args_array</span> [<span class="number">1</span>] . <span class="ident">u</span> <span class="op">=</span> <span class="ident">method</span> ; <span class="ident">_args_array</span> [<span class="number">2</span>] . <span class="ident">o</span> <span class="op">=</span> <span class="ident">output</span> . <span class="ident">map</span> (<span class="op">|</span> <span class="ident">o</span> <span class="op">|</span> <span class="ident">o</span> . <span class="ident">as_ref</span> () . <span class="ident">c_ptr</span> () <span class="kw">as</span> <span class="op">*</span> <span class="kw-2">mut</span> <span class="kw">_</span>) . <span class="ident">unwrap_or</span> (:: <span class="ident">std</span> :: <span class="ident">ptr</span> :: <span class="ident">null_mut</span> ()) ; <span class="ident">f</span> (<span class="number">1</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">PresentSurfaceForMode</span> { <span class="ident">surface</span> , <span class="ident">output</span> , <span class="ident">framerate</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">4</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">o</span> <span class="op">=</span> <span class="ident">surface</span> . <span class="ident">as_ref</span> () . <span class="ident">c_ptr</span> () <span class="kw">as</span> <span class="op">*</span> <span class="kw-2">mut</span> <span class="kw">_</span> ; <span class="ident">_args_array</span> [<span class="number">1</span>] . <span class="ident">o</span> <span class="op">=</span> <span class="ident">output</span> . <span class="ident">as_ref</span> () . <span class="ident">c_ptr</span> () <span class="kw">as</span> <span class="op">*</span> <span class="kw-2">mut</span> <span class="kw">_</span> ; <span class="ident">_args_array</span> [<span class="number">2</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">framerate</span> ; <span class="ident">_args_array</span> [<span class="number">3</span>] . <span class="ident">o</span> <span class="op">=</span> :: <span class="ident">std</span> :: <span class="ident">ptr</span> :: <span class="ident">null_mut</span> () <span class="kw">as</span> <span class="op">*</span> <span class="kw-2">mut</span> <span class="kw">_</span> ; <span class="ident">f</span> (<span class="number">2</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , } } } # [<span class="ident">derive</span> (<span class="ident">Debug</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Event</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;advertises a capability of the compositor\n\nAdvertises a single capability of the compositor.\n\nWhen the wl_fullscreen_shell interface is bound, this event is emitted\nonce for each capability advertised.  Valid capabilities are given by\nthe wl_fullscreen_shell.capability enum.  If clients want to take\nadvantage of any of these capabilities, they should use a\nwl_display.sync request immediately after binding to ensure that they\nreceive all the capability events.&quot;</span>] <span class="ident">Capability</span> { <span class="ident">capability</span> : <span class="ident">u32</span> , } , } <span class="kw">impl</span> <span class="kw">super</span> :: <span class="ident">MessageGroup</span> <span class="kw">for</span> <span class="ident">Event</span> { <span class="kw">const</span> <span class="ident">MESSAGES</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span>] <span class="op">=</span> <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;capability&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Uint</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } ,] ; <span class="kw">type</span> <span class="ident">Map</span> <span class="op">=</span> <span class="kw">super</span> :: <span class="ident">ProxyMap</span> ; <span class="kw">fn</span> <span class="ident">is_destructor</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">bool</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="kw">_</span> =&gt; <span class="bool-val">false</span> , } } <span class="kw">fn</span> <span class="ident">opcode</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u16</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Event</span> :: <span class="ident">Capability</span> { .. } =&gt; <span class="number">0</span> , } } <span class="kw">fn</span> <span class="ident">since</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Event</span> :: <span class="ident">Capability</span> { .. } =&gt; <span class="number">1</span> , } } <span class="kw">fn</span> <span class="ident">child</span> <span class="op">&lt;</span> <span class="ident">Meta</span> : <span class="ident">ObjectMetadata</span> <span class="op">&gt;</span> (<span class="ident">opcode</span> : <span class="ident">u16</span> , <span class="ident">version</span> : <span class="ident">u32</span> , <span class="ident">meta</span> : <span class="op">&amp;</span> <span class="ident">Meta</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Object</span> <span class="op">&lt;</span> <span class="ident">Meta</span> <span class="op">&gt;</span><span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="kw">_</span> =&gt; <span class="prelude-val">None</span> , } } <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">msg</span> : <span class="ident">Message</span> , <span class="ident">map</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="self">Self</span> :: <span class="ident">Map</span>) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="self">Self</span> , () <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">msg</span> . <span class="ident">opcode</span> { <span class="number">0</span> =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">args</span> <span class="op">=</span> <span class="ident">msg</span> . <span class="ident">args</span> . <span class="ident">into_iter</span> () ; <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">Capability</span> { <span class="ident">capability</span> : { <span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Some</span> (<span class="ident">Argument</span> :: <span class="ident">Uint</span> (<span class="ident">val</span>)) <span class="op">=</span> <span class="ident">args</span> . <span class="ident">next</span> () { <span class="ident">val</span> } <span class="kw">else</span> { <span class="kw">return</span> <span class="prelude-val">Err</span> (()) ; } } , }) } , <span class="kw">_</span> =&gt; <span class="prelude-val">Err</span> (()) , } } <span class="kw">fn</span> <span class="ident">into_raw</span> (<span class="self">self</span> , <span class="ident">sender_id</span> : <span class="ident">u32</span>) -&gt; <span class="ident">Message</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Event::into_raw can not be used Client-side.&quot;</span>) } <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">from_raw_c</span> (<span class="ident">obj</span> : <span class="op">*</span> <span class="kw-2">mut</span> :: <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_void</span> , <span class="ident">opcode</span> : <span class="ident">u32</span> , <span class="ident">args</span> : <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_argument</span> ,) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="ident">Event</span> , () <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="number">0</span> =&gt; { <span class="kw">let</span> <span class="ident">_args</span> <span class="op">=</span> :: <span class="ident">std</span> :: <span class="ident">slice</span> :: <span class="ident">from_raw_parts</span> (<span class="ident">args</span> , <span class="number">1</span>) ; <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">Capability</span> { <span class="ident">capability</span> : <span class="ident">_args</span> [<span class="number">0</span>] . <span class="ident">u</span> , }) } , <span class="kw">_</span> =&gt; <span class="kw">return</span> <span class="prelude-val">Err</span> (()) , } } <span class="kw">fn</span> <span class="ident">as_raw_c_in</span> <span class="op">&lt;</span> <span class="ident">F</span> , <span class="ident">T</span> <span class="op">&gt;</span> (<span class="self">self</span> , <span class="ident">f</span> : <span class="ident">F</span>) -&gt; <span class="ident">T</span> <span class="kw">where</span> <span class="ident">F</span> : <span class="ident">FnOnce</span> (<span class="ident">u32</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> [<span class="ident">wl_argument</span>]) -&gt; <span class="ident">T</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Event::as_raw_c_in can not be used Client-side.&quot;</span>) } } # [<span class="ident">derive</span> (<span class="ident">Clone</span> , <span class="ident">Eq</span> , <span class="ident">PartialEq</span>)] <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">ZwpFullscreenShellV1</span> (<span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZwpFullscreenShellV1</span> <span class="op">&gt;</span>) ; <span class="kw">impl</span> <span class="ident">AsRef</span> <span class="op">&lt;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZwpFullscreenShellV1</span> <span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">ZwpFullscreenShellV1</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">as_ref</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="op">&amp;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="self">Self</span> <span class="op">&gt;</span> { <span class="op">&amp;</span> <span class="self">self</span> . <span class="number">0</span> } } <span class="kw">impl</span> <span class="ident">From</span> <span class="op">&lt;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZwpFullscreenShellV1</span> <span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">ZwpFullscreenShellV1</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">from</span> (<span class="ident">value</span> : <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="self">Self</span> <span class="op">&gt;</span>) -&gt; <span class="self">Self</span> { <span class="ident">ZwpFullscreenShellV1</span> (<span class="ident">value</span>) } } <span class="kw">impl</span> <span class="ident">From</span> <span class="op">&lt;</span> <span class="ident">ZwpFullscreenShellV1</span> <span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZwpFullscreenShellV1</span> <span class="op">&gt;</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">from</span> (<span class="ident">value</span> : <span class="ident">ZwpFullscreenShellV1</span>) -&gt; <span class="self">Self</span> { <span class="ident">value</span> . <span class="number">0</span> } } <span class="kw">impl</span> <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="ident">Debug</span> <span class="kw">for</span> <span class="ident">ZwpFullscreenShellV1</span> { <span class="kw">fn</span> <span class="ident">fmt</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">f</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="ident">Formatter</span> <span class="op">&lt;</span> <span class="lifetime">&#39;_</span> <span class="op">&gt;</span>) -&gt; <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="prelude-ty">Result</span> { <span class="ident">f</span> . <span class="ident">write_fmt</span> (<span class="ident">format_args</span> <span class="op">!</span> (<span class="string">&quot;{:?}&quot;</span> , <span class="self">self</span> . <span class="number">0</span>)) } } <span class="kw">impl</span> <span class="ident">Interface</span> <span class="kw">for</span> <span class="ident">ZwpFullscreenShellV1</span> { <span class="kw">type</span> <span class="ident">Request</span> <span class="op">=</span> <span class="ident">Request</span> ; <span class="kw">type</span> <span class="ident">Event</span> <span class="op">=</span> <span class="ident">Event</span> ; <span class="kw">const</span> <span class="ident">NAME</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> <span class="ident">str</span> <span class="op">=</span> <span class="string">&quot;zwp_fullscreen_shell_v1&quot;</span> ; <span class="kw">const</span> <span class="ident">VERSION</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1</span> ; <span class="kw">fn</span> <span class="ident">c_interface</span> () -&gt; <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> { <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zwp_fullscreen_shell_v1_interface</span> } } } <span class="kw">impl</span> <span class="ident">ZwpFullscreenShellV1</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;release the wl_fullscreen_shell interface\n\nRelease the binding from the wl_fullscreen_shell interface.\n\nThis destroys the server-side object and frees this binding.  If\nthe client binds to wl_fullscreen_shell multiple times, it may wish\nto free some of those bindings.\n\nThis is a destructor, you cannot send requests to this object any longer once this method is called.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">release</span> (<span class="op">&amp;</span> <span class="self">self</span> ,) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">Release</span> ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;present surface for display\n\nPresent a surface on the given output.\n\nIf the output is null, the compositor will present the surface on\nwhatever display (or displays) it thinks best.  In particular, this\nmay replace any or all surfaces currently presented so it should\nnot be used in combination with placing surfaces on specific\noutputs.\n\nThe method parameter is a hint to the compositor for how the surface\nis to be presented.  In particular, it tells the compositor how to\nhandle a size mismatch between the presented surface and the\noutput.  The compositor is free to ignore this parameter.\n\nThe \&quot;zoom\&quot;, \&quot;zoom_crop\&quot;, and \&quot;stretch\&quot; methods imply a scaling\noperation on the surface.  This will override any kind of output\nscaling, so the buffer_scale property of the surface is effectively\nignored.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">present_surface</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">surface</span> : <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_surface</span> :: <span class="ident">WlSurface</span> <span class="op">&gt;</span> , <span class="ident">method</span> : <span class="ident">u32</span> , <span class="ident">output</span> : <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_output</span> :: <span class="ident">WlOutput</span> <span class="op">&gt;</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">PresentSurface</span> { <span class="ident">surface</span> : <span class="ident">surface</span> . <span class="ident">map</span> (<span class="op">|</span> <span class="ident">o</span> <span class="op">|</span> <span class="ident">o</span> . <span class="ident">clone</span> ()) , <span class="ident">method</span> : <span class="ident">method</span> , <span class="ident">output</span> : <span class="ident">output</span> . <span class="ident">map</span> (<span class="op">|</span> <span class="ident">o</span> <span class="op">|</span> <span class="ident">o</span> . <span class="ident">clone</span> ()) } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;present surface for display at a particular mode\n\nPresents a surface on the given output for a particular mode.\n\nIf the current size of the output differs from that of the surface,\nthe compositor will attempt to change the size of the output to\nmatch the surface.  The result of the mode-switch operation will be\nreturned via the provided wl_fullscreen_shell_mode_feedback object.\n\nIf the current output mode matches the one requested or if the\ncompositor successfully switches the mode to match the surface,\nthen the mode_successful event will be sent and the output will\ncontain the contents of the given surface.  If the compositor\ncannot match the output size to the surface size, the mode_failed\nwill be sent and the output will contain the contents of the\npreviously presented surface (if any).  If another surface is\npresented on the given output before either of these has a chance\nto happen, the present_cancelled event will be sent.\n\nDue to race conditions and other issues unknown to the client, no\nmode-switch operation is guaranteed to succeed.  However, if the\nmode is one advertised by wl_output.mode or if the compositor\nadvertises the ARBITRARY_MODES capability, then the client should\nexpect that the mode-switch operation will usually succeed.\n\nIf the size of the presented surface changes, the resulting output\nis undefined.  The compositor may attempt to change the output mode\nto compensate.  However, there is no guarantee that a suitable mode\nwill be found and the client has no way to be notified of success\nor failure.\n\nThe framerate parameter specifies the desired framerate for the\noutput in mHz.  The compositor is free to ignore this parameter.  A\nvalue of 0 indicates that the client has no preference.\n\nIf the value of wl_output.scale differs from wl_surface.buffer_scale,\nthen the compositor may choose a mode that matches either the buffer\nsize or the surface size.  In either case, the surface will fill the\noutput.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">present_surface_for_mode</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">surface</span> : <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_surface</span> :: <span class="ident">WlSurface</span> , <span class="ident">output</span> : <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_output</span> :: <span class="ident">WlOutput</span> , <span class="ident">framerate</span> : <span class="ident">i32</span>) -&gt; <span class="ident">Main</span> <span class="op">&lt;</span> <span class="kw">super</span> :: <span class="ident">zwp_fullscreen_shell_mode_feedback_v1</span> :: <span class="ident">ZwpFullscreenShellModeFeedbackV1</span> <span class="op">&gt;</span> { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">PresentSurfaceForMode</span> { <span class="ident">surface</span> : <span class="ident">surface</span> . <span class="ident">clone</span> () , <span class="ident">output</span> : <span class="ident">output</span> . <span class="ident">clone</span> () , <span class="ident">framerate</span> : <span class="ident">framerate</span> } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) . <span class="ident">unwrap</span> () } } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_RELEASE_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_PRESENT_SURFACE_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_PRESENT_SURFACE_FOR_MODE_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this event&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">EVT_CAPABILITY_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zwp_fullscreen_shell_v1_requests_present_surface_types</span> : [<span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> ; <span class="number">3</span>] <span class="op">=</span> [<span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_surface</span> :: <span class="ident">wl_surface_interface</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> } , <span class="ident">NULLPTR</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> , <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_output</span> :: <span class="ident">wl_output_interface</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> } ,] ; <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zwp_fullscreen_shell_v1_requests_present_surface_for_mode_types</span> : [<span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> ; <span class="number">4</span>] <span class="op">=</span> [<span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_surface</span> :: <span class="ident">wl_surface_interface</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> } , <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_output</span> :: <span class="ident">wl_output_interface</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> } , <span class="ident">NULLPTR</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> , <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">zwp_fullscreen_shell_mode_feedback_v1</span> :: <span class="ident">zwp_fullscreen_shell_mode_feedback_v1_interface</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> } ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C-representation of the messages of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zwp_fullscreen_shell_v1_requests</span> : [<span class="ident">wl_message</span> ; <span class="number">3</span>] <span class="op">=</span> [<span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;release\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;present_surface\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;?ou?o\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zwp_fullscreen_shell_v1_requests_present_surface_types</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;present_surface_for_mode\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;ooin\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zwp_fullscreen_shell_v1_requests_present_surface_for_mode_types</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C-representation of the messages of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zwp_fullscreen_shell_v1_events</span> : [<span class="ident">wl_message</span> ; <span class="number">1</span>] <span class="op">=</span> [<span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;capability\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;u\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C representation of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zwp_fullscreen_shell_v1_interface</span> : <span class="ident">wl_interface</span> <span class="op">=</span> <span class="ident">wl_interface</span> { <span class="ident">name</span> : <span class="string">b&quot;zwp_fullscreen_shell_v1\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">version</span> : <span class="number">1</span> , <span class="ident">request_count</span> : <span class="number">3</span> , <span class="ident">requests</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zwp_fullscreen_shell_v1_requests</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , <span class="ident">event_count</span> : <span class="number">1</span> , <span class="ident">events</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zwp_fullscreen_shell_v1_events</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } ; } <span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">zwp_fullscreen_shell_mode_feedback_v1</span> { <span class="kw">use</span> <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_char</span> ; <span class="kw">use</span> <span class="kw">super</span> :: { <span class="ident">Proxy</span> , <span class="ident">AnonymousObject</span> , <span class="ident">Interface</span> , <span class="ident">MessageGroup</span> , <span class="ident">MessageDesc</span> , <span class="ident">ArgumentType</span> , <span class="ident">Object</span> , <span class="ident">Message</span> , <span class="ident">Argument</span> , <span class="ident">ObjectMetadata</span> , <span class="ident">types_null</span> , <span class="ident">NULLPTR</span> , <span class="ident">Main</span> , <span class="ident">smallvec</span> , } ; <span class="kw">use</span> <span class="kw">super</span> :: <span class="ident">sys</span> :: <span class="ident">common</span> :: { <span class="ident">wl_interface</span> , <span class="ident">wl_array</span> , <span class="ident">wl_argument</span> , <span class="ident">wl_message</span> } ; <span class="kw">use</span> <span class="kw">super</span> :: <span class="ident">sys</span> :: <span class="ident">client</span> :: <span class="op">*</span> ; # [<span class="ident">derive</span> (<span class="ident">Debug</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Request</span> { } <span class="kw">impl</span> <span class="kw">super</span> :: <span class="ident">MessageGroup</span> <span class="kw">for</span> <span class="ident">Request</span> { <span class="kw">const</span> <span class="ident">MESSAGES</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span>] <span class="op">=</span> <span class="op">&amp;</span> [] ; <span class="kw">type</span> <span class="ident">Map</span> <span class="op">=</span> <span class="kw">super</span> :: <span class="ident">ProxyMap</span> ; <span class="kw">fn</span> <span class="ident">is_destructor</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">bool</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { } } <span class="kw">fn</span> <span class="ident">opcode</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u16</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { } } <span class="kw">fn</span> <span class="ident">since</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { } } <span class="kw">fn</span> <span class="ident">child</span> <span class="op">&lt;</span> <span class="ident">Meta</span> : <span class="ident">ObjectMetadata</span> <span class="op">&gt;</span> (<span class="ident">opcode</span> : <span class="ident">u16</span> , <span class="ident">version</span> : <span class="ident">u32</span> , <span class="ident">meta</span> : <span class="op">&amp;</span> <span class="ident">Meta</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Object</span> <span class="op">&lt;</span> <span class="ident">Meta</span> <span class="op">&gt;</span><span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="kw">_</span> =&gt; <span class="prelude-val">None</span> , } } <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">msg</span> : <span class="ident">Message</span> , <span class="ident">map</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="self">Self</span> :: <span class="ident">Map</span>) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="self">Self</span> , () <span class="op">&gt;</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Request::from_raw can not be used Client-side.&quot;</span>) } <span class="kw">fn</span> <span class="ident">into_raw</span> (<span class="self">self</span> , <span class="ident">sender_id</span> : <span class="ident">u32</span>) -&gt; <span class="ident">Message</span> { <span class="kw">match</span> <span class="self">self</span> { } } <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">from_raw_c</span> (<span class="ident">obj</span> : <span class="op">*</span> <span class="kw-2">mut</span> :: <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_void</span> , <span class="ident">opcode</span> : <span class="ident">u32</span> , <span class="ident">args</span> : <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_argument</span> ,) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="ident">Request</span> , () <span class="op">&gt;</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Request::from_raw_c can not be used Client-side.&quot;</span>) } <span class="kw">fn</span> <span class="ident">as_raw_c_in</span> <span class="op">&lt;</span> <span class="ident">F</span> , <span class="ident">T</span> <span class="op">&gt;</span> (<span class="self">self</span> , <span class="ident">f</span> : <span class="ident">F</span>) -&gt; <span class="ident">T</span> <span class="kw">where</span> <span class="ident">F</span> : <span class="ident">FnOnce</span> (<span class="ident">u32</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> [<span class="ident">wl_argument</span>]) -&gt; <span class="ident">T</span> { <span class="kw">match</span> <span class="self">self</span> { } } } # [<span class="ident">derive</span> (<span class="ident">Debug</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Event</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;mode switch succeeded\n\nThis event indicates that the attempted mode switch operation was\nsuccessful.  A surface of the size requested in the mode switch\nwill fill the output without scaling.\n\nUpon receiving this event, the client should destroy the\nwl_fullscreen_shell_mode_feedback object.&quot;</span>] <span class="ident">ModeSuccessful</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;mode switch failed\n\nThis event indicates that the attempted mode switch operation\nfailed.  This may be because the requested output mode is not\npossible or it may mean that the compositor does not want to allow it.\n\nUpon receiving this event, the client should destroy the\nwl_fullscreen_shell_mode_feedback object.&quot;</span>] <span class="ident">ModeFailed</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;mode switch cancelled\n\nThis event indicates that the attempted mode switch operation was\ncancelled.  Most likely this is because the client requested a\nsecond mode switch before the first one completed.\n\nUpon receiving this event, the client should destroy the\nwl_fullscreen_shell_mode_feedback object.&quot;</span>] <span class="ident">PresentCancelled</span> , } <span class="kw">impl</span> <span class="kw">super</span> :: <span class="ident">MessageGroup</span> <span class="kw">for</span> <span class="ident">Event</span> { <span class="kw">const</span> <span class="ident">MESSAGES</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span>] <span class="op">=</span> <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;mode_successful&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;mode_failed&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;present_cancelled&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } ,] ; <span class="kw">type</span> <span class="ident">Map</span> <span class="op">=</span> <span class="kw">super</span> :: <span class="ident">ProxyMap</span> ; <span class="kw">fn</span> <span class="ident">is_destructor</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">bool</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="kw">_</span> =&gt; <span class="bool-val">false</span> , } } <span class="kw">fn</span> <span class="ident">opcode</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u16</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Event</span> :: <span class="ident">ModeSuccessful</span> =&gt; <span class="number">0</span> , <span class="ident">Event</span> :: <span class="ident">ModeFailed</span> =&gt; <span class="number">1</span> , <span class="ident">Event</span> :: <span class="ident">PresentCancelled</span> =&gt; <span class="number">2</span> , } } <span class="kw">fn</span> <span class="ident">since</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Event</span> :: <span class="ident">ModeSuccessful</span> =&gt; <span class="number">1</span> , <span class="ident">Event</span> :: <span class="ident">ModeFailed</span> =&gt; <span class="number">1</span> , <span class="ident">Event</span> :: <span class="ident">PresentCancelled</span> =&gt; <span class="number">1</span> , } } <span class="kw">fn</span> <span class="ident">child</span> <span class="op">&lt;</span> <span class="ident">Meta</span> : <span class="ident">ObjectMetadata</span> <span class="op">&gt;</span> (<span class="ident">opcode</span> : <span class="ident">u16</span> , <span class="ident">version</span> : <span class="ident">u32</span> , <span class="ident">meta</span> : <span class="op">&amp;</span> <span class="ident">Meta</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Object</span> <span class="op">&lt;</span> <span class="ident">Meta</span> <span class="op">&gt;</span><span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="kw">_</span> =&gt; <span class="prelude-val">None</span> , } } <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">msg</span> : <span class="ident">Message</span> , <span class="ident">map</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="self">Self</span> :: <span class="ident">Map</span>) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="self">Self</span> , () <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">msg</span> . <span class="ident">opcode</span> { <span class="number">0</span> =&gt; <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">ModeSuccessful</span>) , <span class="number">1</span> =&gt; <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">ModeFailed</span>) , <span class="number">2</span> =&gt; <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">PresentCancelled</span>) , <span class="kw">_</span> =&gt; <span class="prelude-val">Err</span> (()) , } } <span class="kw">fn</span> <span class="ident">into_raw</span> (<span class="self">self</span> , <span class="ident">sender_id</span> : <span class="ident">u32</span>) -&gt; <span class="ident">Message</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Event::into_raw can not be used Client-side.&quot;</span>) } <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">from_raw_c</span> (<span class="ident">obj</span> : <span class="op">*</span> <span class="kw-2">mut</span> :: <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_void</span> , <span class="ident">opcode</span> : <span class="ident">u32</span> , <span class="ident">args</span> : <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_argument</span> ,) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="ident">Event</span> , () <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="number">0</span> =&gt; { <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">ModeSuccessful</span>) } , <span class="number">1</span> =&gt; { <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">ModeFailed</span>) } , <span class="number">2</span> =&gt; { <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">PresentCancelled</span>) } , <span class="kw">_</span> =&gt; <span class="kw">return</span> <span class="prelude-val">Err</span> (()) , } } <span class="kw">fn</span> <span class="ident">as_raw_c_in</span> <span class="op">&lt;</span> <span class="ident">F</span> , <span class="ident">T</span> <span class="op">&gt;</span> (<span class="self">self</span> , <span class="ident">f</span> : <span class="ident">F</span>) -&gt; <span class="ident">T</span> <span class="kw">where</span> <span class="ident">F</span> : <span class="ident">FnOnce</span> (<span class="ident">u32</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> [<span class="ident">wl_argument</span>]) -&gt; <span class="ident">T</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Event::as_raw_c_in can not be used Client-side.&quot;</span>) } } # [<span class="ident">derive</span> (<span class="ident">Clone</span> , <span class="ident">Eq</span> , <span class="ident">PartialEq</span>)] <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">ZwpFullscreenShellModeFeedbackV1</span> (<span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZwpFullscreenShellModeFeedbackV1</span> <span class="op">&gt;</span>) ; <span class="kw">impl</span> <span class="ident">AsRef</span> <span class="op">&lt;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZwpFullscreenShellModeFeedbackV1</span> <span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">ZwpFullscreenShellModeFeedbackV1</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">as_ref</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="op">&amp;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="self">Self</span> <span class="op">&gt;</span> { <span class="op">&amp;</span> <span class="self">self</span> . <span class="number">0</span> } } <span class="kw">impl</span> <span class="ident">From</span> <span class="op">&lt;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZwpFullscreenShellModeFeedbackV1</span> <span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">ZwpFullscreenShellModeFeedbackV1</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">from</span> (<span class="ident">value</span> : <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="self">Self</span> <span class="op">&gt;</span>) -&gt; <span class="self">Self</span> { <span class="ident">ZwpFullscreenShellModeFeedbackV1</span> (<span class="ident">value</span>) } } <span class="kw">impl</span> <span class="ident">From</span> <span class="op">&lt;</span> <span class="ident">ZwpFullscreenShellModeFeedbackV1</span> <span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZwpFullscreenShellModeFeedbackV1</span> <span class="op">&gt;</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">from</span> (<span class="ident">value</span> : <span class="ident">ZwpFullscreenShellModeFeedbackV1</span>) -&gt; <span class="self">Self</span> { <span class="ident">value</span> . <span class="number">0</span> } } <span class="kw">impl</span> <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="ident">Debug</span> <span class="kw">for</span> <span class="ident">ZwpFullscreenShellModeFeedbackV1</span> { <span class="kw">fn</span> <span class="ident">fmt</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">f</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="ident">Formatter</span> <span class="op">&lt;</span> <span class="lifetime">&#39;_</span> <span class="op">&gt;</span>) -&gt; <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="prelude-ty">Result</span> { <span class="ident">f</span> . <span class="ident">write_fmt</span> (<span class="ident">format_args</span> <span class="op">!</span> (<span class="string">&quot;{:?}&quot;</span> , <span class="self">self</span> . <span class="number">0</span>)) } } <span class="kw">impl</span> <span class="ident">Interface</span> <span class="kw">for</span> <span class="ident">ZwpFullscreenShellModeFeedbackV1</span> { <span class="kw">type</span> <span class="ident">Request</span> <span class="op">=</span> <span class="ident">Request</span> ; <span class="kw">type</span> <span class="ident">Event</span> <span class="op">=</span> <span class="ident">Event</span> ; <span class="kw">const</span> <span class="ident">NAME</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> <span class="ident">str</span> <span class="op">=</span> <span class="string">&quot;zwp_fullscreen_shell_mode_feedback_v1&quot;</span> ; <span class="kw">const</span> <span class="ident">VERSION</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1</span> ; <span class="kw">fn</span> <span class="ident">c_interface</span> () -&gt; <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> { <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zwp_fullscreen_shell_mode_feedback_v1_interface</span> } } } <span class="kw">impl</span> <span class="ident">ZwpFullscreenShellModeFeedbackV1</span> { } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this event&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">EVT_MODE_SUCCESSFUL_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this event&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">EVT_MODE_FAILED_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this event&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">EVT_PRESENT_CANCELLED_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C-representation of the messages of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zwp_fullscreen_shell_mode_feedback_v1_events</span> : [<span class="ident">wl_message</span> ; <span class="number">3</span>] <span class="op">=</span> [<span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;mode_successful\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;mode_failed\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;present_cancelled\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C representation of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zwp_fullscreen_shell_mode_feedback_v1_interface</span> : <span class="ident">wl_interface</span> <span class="op">=</span> <span class="ident">wl_interface</span> { <span class="ident">name</span> : <span class="string">b&quot;zwp_fullscreen_shell_mode_feedback_v1\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">version</span> : <span class="number">1</span> , <span class="ident">request_count</span> : <span class="number">0</span> , <span class="ident">requests</span> : <span class="ident">NULLPTR</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_message</span> , <span class="ident">event_count</span> : <span class="number">3</span> , <span class="ident">events</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zwp_fullscreen_shell_mode_feedback_v1_events</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } ; }</code></pre></div>
</section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../../../../../../../../../../../" data-current-crate="wayland_protocols" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0-nightly (5e57faa78 2022-01-19)" ></div>
</body></html>