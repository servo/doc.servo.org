<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Source of the Rust file `/home/runner/work/servo/servo/target/debug/build/wayland-protocols-cef38b2f1f182a30/out/xdg-shell-v6_client_api.rs`."><meta name="keywords" content="rust, rustlang, rust-lang"><title>xdg-shell-v6_client_api.rs - source</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../../../../../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../../../../../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../../../../../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../../../../../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../../../../../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../../../../../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../../../../../../../../../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../../../../../../../../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../../../../../../../../../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../../../../../../../../../../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../../../../../../../../../../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../../../../../../../../../../../storage.js"></script><script src="../../../../../../../../../../../../crates.js"></script><script defer src="../../../../../../../../../../../../main.js"></script><script defer src="../../../../../../../../../../../../source-script.js"></script><script defer src="../../../../../../../../../../../../source-files.js"></script>
    <noscript><link rel="stylesheet" href="../../../../../../../../../../../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../../../../../../../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../../../../../../../../../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../../../../../../../../../../../favicon.svg"></head><body class="rustdoc source"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../../../../../../../../../../../wayland_protocols/index.html"><div class="logo-container"><img class="rust-logo" src="../../../../../../../../../../../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../../../../../../../../../../../wayland_protocols/index.html"><div class="logo-container"><img class="rust-logo" src="../../../../../../../../../../../../rust-logo.svg" alt="logo"></div>
        </a></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../../../../../../../../../../../wayland_protocols/index.html"><img class="rust-logo" src="../../../../../../../../../../../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../../../../../../../../../../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><div>
                                <input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../../../../../../../../../../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../../../../../../../../../../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="example-wrap"><pre class="line-numbers"><span id="1">1</span>
</pre><pre class="rust"><code><span class="kw">use</span> <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: { <span class="ident">c_char</span> , <span class="ident">c_void</span> } ; <span class="kw">const</span> <span class="ident">NULLPTR</span> : <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_void</span> <span class="op">=</span> <span class="number">0</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_void</span> ; <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">types_null</span> : [<span class="op">*</span> <span class="kw">const</span> <span class="ident">sys</span> :: <span class="ident">common</span> :: <span class="ident">wl_interface</span> ; <span class="number">4</span>] <span class="op">=</span> [<span class="ident">NULLPTR</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">sys</span> :: <span class="ident">common</span> :: <span class="ident">wl_interface</span> , <span class="ident">NULLPTR</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">sys</span> :: <span class="ident">common</span> :: <span class="ident">wl_interface</span> , <span class="ident">NULLPTR</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">sys</span> :: <span class="ident">common</span> :: <span class="ident">wl_interface</span> , <span class="ident">NULLPTR</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">sys</span> :: <span class="ident">common</span> :: <span class="ident">wl_interface</span> ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;create desktop-style surfaces\n\nxdg_shell allows clients to turn a wl_surface into a \&quot;real window\&quot;\nwhich can be dragged, resized, stacked, and moved around by the\nuser. Everything about this interface is suited towards traditional\ndesktop environments.&quot;</span>] <span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">zxdg_shell_v6</span> { <span class="kw">use</span> <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_char</span> ; <span class="kw">use</span> <span class="kw">super</span> :: { <span class="ident">Proxy</span> , <span class="ident">AnonymousObject</span> , <span class="ident">Interface</span> , <span class="ident">MessageGroup</span> , <span class="ident">MessageDesc</span> , <span class="ident">ArgumentType</span> , <span class="ident">Object</span> , <span class="ident">Message</span> , <span class="ident">Argument</span> , <span class="ident">ObjectMetadata</span> , <span class="ident">types_null</span> , <span class="ident">NULLPTR</span> , <span class="ident">Main</span> , <span class="ident">smallvec</span> , } ; <span class="kw">use</span> <span class="kw">super</span> :: <span class="ident">sys</span> :: <span class="ident">common</span> :: { <span class="ident">wl_interface</span> , <span class="ident">wl_array</span> , <span class="ident">wl_argument</span> , <span class="ident">wl_message</span> } ; <span class="kw">use</span> <span class="kw">super</span> :: <span class="ident">sys</span> :: <span class="ident">client</span> :: <span class="op">*</span> ; # [<span class="ident">repr</span> (<span class="ident">u32</span>)] # [<span class="ident">derive</span> (<span class="ident">Copy</span> , <span class="ident">Clone</span> , <span class="ident">Debug</span> , <span class="ident">PartialEq</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Error</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;given wl_surface has another role&quot;</span>] <span class="ident">Role</span> <span class="op">=</span> <span class="number">0</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;xdg_shell was destroyed before children&quot;</span>] <span class="ident">DefunctSurfaces</span> <span class="op">=</span> <span class="number">1</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;the client tried to map or destroy a non-topmost popup&quot;</span>] <span class="ident">NotTheTopmostPopup</span> <span class="op">=</span> <span class="number">2</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;the client specified an invalid popup parent surface&quot;</span>] <span class="ident">InvalidPopupParent</span> <span class="op">=</span> <span class="number">3</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;the client provided an invalid surface state&quot;</span>] <span class="ident">InvalidSurfaceState</span> <span class="op">=</span> <span class="number">4</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;the client provided an invalid positioner&quot;</span>] <span class="ident">InvalidPositioner</span> <span class="op">=</span> <span class="number">5</span> , } <span class="kw">impl</span> <span class="ident">Error</span> { <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">n</span> : <span class="ident">u32</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Error</span> <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">n</span> { <span class="number">0</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Error</span> :: <span class="ident">Role</span>) , <span class="number">1</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Error</span> :: <span class="ident">DefunctSurfaces</span>) , <span class="number">2</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Error</span> :: <span class="ident">NotTheTopmostPopup</span>) , <span class="number">3</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Error</span> :: <span class="ident">InvalidPopupParent</span>) , <span class="number">4</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Error</span> :: <span class="ident">InvalidSurfaceState</span>) , <span class="number">5</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Error</span> :: <span class="ident">InvalidPositioner</span>) , <span class="kw">_</span> =&gt; <span class="prelude-ty">Option</span> :: <span class="prelude-val">None</span> } } <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">to_raw</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="op">*</span> <span class="self">self</span> <span class="kw">as</span> <span class="ident">u32</span> } } # [<span class="ident">derive</span> (<span class="ident">Debug</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Request</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;destroy xdg_shell\n\nDestroy this xdg_shell object.\n\nDestroying a bound xdg_shell object while there are surfaces\nstill alive created by this xdg_shell object instance is illegal\nand will result in a protocol error.\n\nThis is a destructor, once sent this object cannot be used any longer.&quot;</span>] <span class="ident">Destroy</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;create a positioner object\n\nCreate a positioner object. A positioner object is used to position\nsurfaces relative to some parent surface. See the interface description\nand xdg_surface.get_popup for details.&quot;</span>] <span class="ident">CreatePositioner</span> { } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;create a shell surface from a surface\n\nThis creates an xdg_surface for the given surface. While xdg_surface\nitself is not a role, the corresponding surface may only be assigned\na role extending xdg_surface, such as xdg_toplevel or xdg_popup.\n\nThis creates an xdg_surface for the given surface. An xdg_surface is\nused as basis to define a role to a given surface, such as xdg_toplevel\nor xdg_popup. It also manages functionality shared between xdg_surface\nbased surface roles.\n\nSee the documentation of xdg_surface for more details about what an\nxdg_surface is and how it is used.&quot;</span>] <span class="ident">GetXdgSurface</span> { <span class="ident">surface</span> : <span class="kw">super</span> :: <span class="ident">wl_surface</span> :: <span class="ident">WlSurface</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;respond to a ping event\n\nA client must respond to a ping event with a pong request or\nthe client may be deemed unresponsive. See xdg_shell.ping.&quot;</span>] <span class="ident">Pong</span> { <span class="ident">serial</span> : <span class="ident">u32</span> , } , } <span class="kw">impl</span> <span class="kw">super</span> :: <span class="ident">MessageGroup</span> <span class="kw">for</span> <span class="ident">Request</span> { <span class="kw">const</span> <span class="ident">MESSAGES</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span>] <span class="op">=</span> <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;destroy&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [] , <span class="ident">destructor</span> : <span class="bool-val">true</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;create_positioner&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">NewId</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;get_xdg_surface&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">NewId</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Object</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;pong&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Uint</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } ,] ; <span class="kw">type</span> <span class="ident">Map</span> <span class="op">=</span> <span class="kw">super</span> :: <span class="ident">ProxyMap</span> ; <span class="kw">fn</span> <span class="ident">is_destructor</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">bool</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="bool-val">true</span> , <span class="kw">_</span> =&gt; <span class="bool-val">false</span> , } } <span class="kw">fn</span> <span class="ident">opcode</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u16</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="number">0</span> , <span class="ident">Request</span> :: <span class="ident">CreatePositioner</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">GetXdgSurface</span> { .. } =&gt; <span class="number">2</span> , <span class="ident">Request</span> :: <span class="ident">Pong</span> { .. } =&gt; <span class="number">3</span> , } } <span class="kw">fn</span> <span class="ident">since</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">CreatePositioner</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">GetXdgSurface</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">Pong</span> { .. } =&gt; <span class="number">1</span> , } } <span class="kw">fn</span> <span class="ident">child</span> <span class="op">&lt;</span> <span class="ident">Meta</span> : <span class="ident">ObjectMetadata</span> <span class="op">&gt;</span> (<span class="ident">opcode</span> : <span class="ident">u16</span> , <span class="ident">version</span> : <span class="ident">u32</span> , <span class="ident">meta</span> : <span class="op">&amp;</span> <span class="ident">Meta</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Object</span> <span class="op">&lt;</span> <span class="ident">Meta</span> <span class="op">&gt;</span><span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="number">1</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Object</span> :: <span class="ident">from_interface</span> :: <span class="op">&lt;</span> <span class="kw">super</span> :: <span class="ident">zxdg_positioner_v6</span> :: <span class="ident">ZxdgPositionerV6</span> <span class="op">&gt;</span> (<span class="ident">version</span> , <span class="ident">meta</span> . <span class="ident">child</span> () ,)) , <span class="number">2</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Object</span> :: <span class="ident">from_interface</span> :: <span class="op">&lt;</span> <span class="kw">super</span> :: <span class="ident">zxdg_surface_v6</span> :: <span class="ident">ZxdgSurfaceV6</span> <span class="op">&gt;</span> (<span class="ident">version</span> , <span class="ident">meta</span> . <span class="ident">child</span> () ,)) , <span class="kw">_</span> =&gt; <span class="prelude-val">None</span> , } } <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">msg</span> : <span class="ident">Message</span> , <span class="ident">map</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="self">Self</span> :: <span class="ident">Map</span>) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="self">Self</span> , () <span class="op">&gt;</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Request::from_raw can not be used Client-side.&quot;</span>) } <span class="kw">fn</span> <span class="ident">into_raw</span> (<span class="self">self</span> , <span class="ident">sender_id</span> : <span class="ident">u32</span>) -&gt; <span class="ident">Message</span> { <span class="kw">match</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">0</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [] , } , <span class="ident">Request</span> :: <span class="ident">CreatePositioner</span> { } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">1</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">NewId</span> (<span class="number">0</span>) ,] , } , <span class="ident">Request</span> :: <span class="ident">GetXdgSurface</span> { <span class="ident">surface</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">2</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">NewId</span> (<span class="number">0</span>) , <span class="ident">Argument</span> :: <span class="ident">Object</span> (<span class="ident">surface</span> . <span class="ident">as_ref</span> () . <span class="ident">id</span> ()) ,] , } , <span class="ident">Request</span> :: <span class="ident">Pong</span> { <span class="ident">serial</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">3</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Uint</span> (<span class="ident">serial</span>) ,] , } , } } <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">from_raw_c</span> (<span class="ident">obj</span> : <span class="op">*</span> <span class="kw-2">mut</span> :: <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_void</span> , <span class="ident">opcode</span> : <span class="ident">u32</span> , <span class="ident">args</span> : <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_argument</span> ,) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="ident">Request</span> , () <span class="op">&gt;</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Request::from_raw_c can not be used Client-side.&quot;</span>) } <span class="kw">fn</span> <span class="ident">as_raw_c_in</span> <span class="op">&lt;</span> <span class="ident">F</span> , <span class="ident">T</span> <span class="op">&gt;</span> (<span class="self">self</span> , <span class="ident">f</span> : <span class="ident">F</span>) -&gt; <span class="ident">T</span> <span class="kw">where</span> <span class="ident">F</span> : <span class="ident">FnOnce</span> (<span class="ident">u32</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> [<span class="ident">wl_argument</span>]) -&gt; <span class="ident">T</span> { <span class="kw">match</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">0</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">f</span> (<span class="number">0</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">CreatePositioner</span> { } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">1</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">o</span> <span class="op">=</span> :: <span class="ident">std</span> :: <span class="ident">ptr</span> :: <span class="ident">null_mut</span> () <span class="kw">as</span> <span class="op">*</span> <span class="kw-2">mut</span> <span class="kw">_</span> ; <span class="ident">f</span> (<span class="number">1</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">GetXdgSurface</span> { <span class="ident">surface</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">2</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">o</span> <span class="op">=</span> :: <span class="ident">std</span> :: <span class="ident">ptr</span> :: <span class="ident">null_mut</span> () <span class="kw">as</span> <span class="op">*</span> <span class="kw-2">mut</span> <span class="kw">_</span> ; <span class="ident">_args_array</span> [<span class="number">1</span>] . <span class="ident">o</span> <span class="op">=</span> <span class="ident">surface</span> . <span class="ident">as_ref</span> () . <span class="ident">c_ptr</span> () <span class="kw">as</span> <span class="op">*</span> <span class="kw-2">mut</span> <span class="kw">_</span> ; <span class="ident">f</span> (<span class="number">2</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">Pong</span> { <span class="ident">serial</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">1</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">u</span> <span class="op">=</span> <span class="ident">serial</span> ; <span class="ident">f</span> (<span class="number">3</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , } } } # [<span class="ident">derive</span> (<span class="ident">Debug</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Event</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;check if the client is alive\n\nThe ping event asks the client if it&#39;s still alive. Pass the\nserial specified in the event back to the compositor by sending\na \&quot;pong\&quot; request back with the specified serial. See xdg_shell.ping.\n\nCompositors can use this to determine if the client is still\nalive. It&#39;s unspecified what will happen if the client doesn&#39;t\nrespond to the ping request, or in what timeframe. Clients should\ntry to respond in a reasonable amount of time.\n\nA compositor is free to ping in any way it wants, but a client must\nalways respond to any xdg_shell object it created.&quot;</span>] <span class="ident">Ping</span> { <span class="ident">serial</span> : <span class="ident">u32</span> , } , } <span class="kw">impl</span> <span class="kw">super</span> :: <span class="ident">MessageGroup</span> <span class="kw">for</span> <span class="ident">Event</span> { <span class="kw">const</span> <span class="ident">MESSAGES</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span>] <span class="op">=</span> <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;ping&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Uint</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } ,] ; <span class="kw">type</span> <span class="ident">Map</span> <span class="op">=</span> <span class="kw">super</span> :: <span class="ident">ProxyMap</span> ; <span class="kw">fn</span> <span class="ident">is_destructor</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">bool</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="kw">_</span> =&gt; <span class="bool-val">false</span> , } } <span class="kw">fn</span> <span class="ident">opcode</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u16</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Event</span> :: <span class="ident">Ping</span> { .. } =&gt; <span class="number">0</span> , } } <span class="kw">fn</span> <span class="ident">since</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Event</span> :: <span class="ident">Ping</span> { .. } =&gt; <span class="number">1</span> , } } <span class="kw">fn</span> <span class="ident">child</span> <span class="op">&lt;</span> <span class="ident">Meta</span> : <span class="ident">ObjectMetadata</span> <span class="op">&gt;</span> (<span class="ident">opcode</span> : <span class="ident">u16</span> , <span class="ident">version</span> : <span class="ident">u32</span> , <span class="ident">meta</span> : <span class="op">&amp;</span> <span class="ident">Meta</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Object</span> <span class="op">&lt;</span> <span class="ident">Meta</span> <span class="op">&gt;</span><span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="kw">_</span> =&gt; <span class="prelude-val">None</span> , } } <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">msg</span> : <span class="ident">Message</span> , <span class="ident">map</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="self">Self</span> :: <span class="ident">Map</span>) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="self">Self</span> , () <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">msg</span> . <span class="ident">opcode</span> { <span class="number">0</span> =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">args</span> <span class="op">=</span> <span class="ident">msg</span> . <span class="ident">args</span> . <span class="ident">into_iter</span> () ; <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">Ping</span> { <span class="ident">serial</span> : { <span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Some</span> (<span class="ident">Argument</span> :: <span class="ident">Uint</span> (<span class="ident">val</span>)) <span class="op">=</span> <span class="ident">args</span> . <span class="ident">next</span> () { <span class="ident">val</span> } <span class="kw">else</span> { <span class="kw">return</span> <span class="prelude-val">Err</span> (()) ; } } , }) } , <span class="kw">_</span> =&gt; <span class="prelude-val">Err</span> (()) , } } <span class="kw">fn</span> <span class="ident">into_raw</span> (<span class="self">self</span> , <span class="ident">sender_id</span> : <span class="ident">u32</span>) -&gt; <span class="ident">Message</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Event::into_raw can not be used Client-side.&quot;</span>) } <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">from_raw_c</span> (<span class="ident">obj</span> : <span class="op">*</span> <span class="kw-2">mut</span> :: <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_void</span> , <span class="ident">opcode</span> : <span class="ident">u32</span> , <span class="ident">args</span> : <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_argument</span> ,) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="ident">Event</span> , () <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="number">0</span> =&gt; { <span class="kw">let</span> <span class="ident">_args</span> <span class="op">=</span> :: <span class="ident">std</span> :: <span class="ident">slice</span> :: <span class="ident">from_raw_parts</span> (<span class="ident">args</span> , <span class="number">1</span>) ; <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">Ping</span> { <span class="ident">serial</span> : <span class="ident">_args</span> [<span class="number">0</span>] . <span class="ident">u</span> , }) } , <span class="kw">_</span> =&gt; <span class="kw">return</span> <span class="prelude-val">Err</span> (()) , } } <span class="kw">fn</span> <span class="ident">as_raw_c_in</span> <span class="op">&lt;</span> <span class="ident">F</span> , <span class="ident">T</span> <span class="op">&gt;</span> (<span class="self">self</span> , <span class="ident">f</span> : <span class="ident">F</span>) -&gt; <span class="ident">T</span> <span class="kw">where</span> <span class="ident">F</span> : <span class="ident">FnOnce</span> (<span class="ident">u32</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> [<span class="ident">wl_argument</span>]) -&gt; <span class="ident">T</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Event::as_raw_c_in can not be used Client-side.&quot;</span>) } } # [<span class="ident">derive</span> (<span class="ident">Clone</span> , <span class="ident">Eq</span> , <span class="ident">PartialEq</span>)] <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">ZxdgShellV6</span> (<span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgShellV6</span> <span class="op">&gt;</span>) ; <span class="kw">impl</span> <span class="ident">AsRef</span> <span class="op">&lt;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgShellV6</span> <span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">ZxdgShellV6</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">as_ref</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="op">&amp;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="self">Self</span> <span class="op">&gt;</span> { <span class="op">&amp;</span> <span class="self">self</span> . <span class="number">0</span> } } <span class="kw">impl</span> <span class="ident">From</span> <span class="op">&lt;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgShellV6</span> <span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">ZxdgShellV6</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">from</span> (<span class="ident">value</span> : <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="self">Self</span> <span class="op">&gt;</span>) -&gt; <span class="self">Self</span> { <span class="ident">ZxdgShellV6</span> (<span class="ident">value</span>) } } <span class="kw">impl</span> <span class="ident">From</span> <span class="op">&lt;</span> <span class="ident">ZxdgShellV6</span> <span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgShellV6</span> <span class="op">&gt;</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">from</span> (<span class="ident">value</span> : <span class="ident">ZxdgShellV6</span>) -&gt; <span class="self">Self</span> { <span class="ident">value</span> . <span class="number">0</span> } } <span class="kw">impl</span> <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="ident">Debug</span> <span class="kw">for</span> <span class="ident">ZxdgShellV6</span> { <span class="kw">fn</span> <span class="ident">fmt</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">f</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="ident">Formatter</span> <span class="op">&lt;</span> <span class="lifetime">&#39;_</span> <span class="op">&gt;</span>) -&gt; <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="prelude-ty">Result</span> { <span class="ident">f</span> . <span class="ident">write_fmt</span> (<span class="ident">format_args</span> <span class="op">!</span> (<span class="string">&quot;{:?}&quot;</span> , <span class="self">self</span> . <span class="number">0</span>)) } } <span class="kw">impl</span> <span class="ident">Interface</span> <span class="kw">for</span> <span class="ident">ZxdgShellV6</span> { <span class="kw">type</span> <span class="ident">Request</span> <span class="op">=</span> <span class="ident">Request</span> ; <span class="kw">type</span> <span class="ident">Event</span> <span class="op">=</span> <span class="ident">Event</span> ; <span class="kw">const</span> <span class="ident">NAME</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> <span class="ident">str</span> <span class="op">=</span> <span class="string">&quot;zxdg_shell_v6&quot;</span> ; <span class="kw">const</span> <span class="ident">VERSION</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1</span> ; <span class="kw">fn</span> <span class="ident">c_interface</span> () -&gt; <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> { <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_shell_v6_interface</span> } } } <span class="kw">impl</span> <span class="ident">ZxdgShellV6</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;destroy xdg_shell\n\nDestroy this xdg_shell object.\n\nDestroying a bound xdg_shell object while there are surfaces\nstill alive created by this xdg_shell object instance is illegal\nand will result in a protocol error.\n\nThis is a destructor, you cannot send requests to this object any longer once this method is called.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">destroy</span> (<span class="op">&amp;</span> <span class="self">self</span> ,) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">Destroy</span> ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;create a positioner object\n\nCreate a positioner object. A positioner object is used to position\nsurfaces relative to some parent surface. See the interface description\nand xdg_surface.get_popup for details.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">create_positioner</span> (<span class="op">&amp;</span> <span class="self">self</span> ,) -&gt; <span class="ident">Main</span> <span class="op">&lt;</span> <span class="kw">super</span> :: <span class="ident">zxdg_positioner_v6</span> :: <span class="ident">ZxdgPositionerV6</span> <span class="op">&gt;</span> { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">CreatePositioner</span> { } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) . <span class="ident">unwrap</span> () } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;create a shell surface from a surface\n\nThis creates an xdg_surface for the given surface. While xdg_surface\nitself is not a role, the corresponding surface may only be assigned\na role extending xdg_surface, such as xdg_toplevel or xdg_popup.\n\nThis creates an xdg_surface for the given surface. An xdg_surface is\nused as basis to define a role to a given surface, such as xdg_toplevel\nor xdg_popup. It also manages functionality shared between xdg_surface\nbased surface roles.\n\nSee the documentation of xdg_surface for more details about what an\nxdg_surface is and how it is used.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">get_xdg_surface</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">surface</span> : <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_surface</span> :: <span class="ident">WlSurface</span>) -&gt; <span class="ident">Main</span> <span class="op">&lt;</span> <span class="kw">super</span> :: <span class="ident">zxdg_surface_v6</span> :: <span class="ident">ZxdgSurfaceV6</span> <span class="op">&gt;</span> { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">GetXdgSurface</span> { <span class="ident">surface</span> : <span class="ident">surface</span> . <span class="ident">clone</span> () } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) . <span class="ident">unwrap</span> () } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;respond to a ping event\n\nA client must respond to a ping event with a pong request or\nthe client may be deemed unresponsive. See xdg_shell.ping.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">pong</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">serial</span> : <span class="ident">u32</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">Pong</span> { <span class="ident">serial</span> : <span class="ident">serial</span> } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_DESTROY_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_CREATE_POSITIONER_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_GET_XDG_SURFACE_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_PONG_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this event&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">EVT_PING_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_shell_v6_requests_create_positioner_types</span> : [<span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> ; <span class="number">1</span>] <span class="op">=</span> [<span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">zxdg_positioner_v6</span> :: <span class="ident">zxdg_positioner_v6_interface</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> } ,] ; <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_shell_v6_requests_get_xdg_surface_types</span> : [<span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> ; <span class="number">2</span>] <span class="op">=</span> [<span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">zxdg_surface_v6</span> :: <span class="ident">zxdg_surface_v6_interface</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> } , <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_surface</span> :: <span class="ident">wl_surface_interface</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> } ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C-representation of the messages of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_shell_v6_requests</span> : [<span class="ident">wl_message</span> ; <span class="number">4</span>] <span class="op">=</span> [<span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;destroy\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;create_positioner\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;n\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_shell_v6_requests_create_positioner_types</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;get_xdg_surface\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;no\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_shell_v6_requests_get_xdg_surface_types</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;pong\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;u\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C-representation of the messages of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_shell_v6_events</span> : [<span class="ident">wl_message</span> ; <span class="number">1</span>] <span class="op">=</span> [<span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;ping\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;u\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C representation of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_shell_v6_interface</span> : <span class="ident">wl_interface</span> <span class="op">=</span> <span class="ident">wl_interface</span> { <span class="ident">name</span> : <span class="string">b&quot;zxdg_shell_v6\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">version</span> : <span class="number">1</span> , <span class="ident">request_count</span> : <span class="number">4</span> , <span class="ident">requests</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_shell_v6_requests</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , <span class="ident">event_count</span> : <span class="number">1</span> , <span class="ident">events</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_shell_v6_events</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;child surface positioner\n\nThe xdg_positioner provides a collection of rules for the placement of a\nchild surface relative to a parent surface. Rules can be defined to ensure\nthe child surface remains within the visible area&#39;s borders, and to\nspecify how the child surface changes its position, such as sliding along\nan axis, or flipping around a rectangle. These positioner-created rules are\nconstrained by the requirement that a child surface must intersect with or\nbe at least partially adjacent to its parent surface.\n\nSee the various requests for details about possible rules.\n\nAt the time of the request, the compositor makes a copy of the rules\nspecified by the xdg_positioner. Thus, after the request is complete the\nxdg_positioner object can be destroyed or reused; further changes to the\nobject will have no effect on previous usages.\n\nFor an xdg_positioner object to be considered complete, it must have a\nnon-zero size set by set_size, and a non-zero anchor rectangle set by\nset_anchor_rect. Passing an incomplete xdg_positioner object when\npositioning a surface raises an error.&quot;</span>] <span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">zxdg_positioner_v6</span> { <span class="kw">use</span> <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_char</span> ; <span class="kw">use</span> <span class="kw">super</span> :: { <span class="ident">Proxy</span> , <span class="ident">AnonymousObject</span> , <span class="ident">Interface</span> , <span class="ident">MessageGroup</span> , <span class="ident">MessageDesc</span> , <span class="ident">ArgumentType</span> , <span class="ident">Object</span> , <span class="ident">Message</span> , <span class="ident">Argument</span> , <span class="ident">ObjectMetadata</span> , <span class="ident">types_null</span> , <span class="ident">NULLPTR</span> , <span class="ident">Main</span> , <span class="ident">smallvec</span> , } ; <span class="kw">use</span> <span class="kw">super</span> :: <span class="ident">sys</span> :: <span class="ident">common</span> :: { <span class="ident">wl_interface</span> , <span class="ident">wl_array</span> , <span class="ident">wl_argument</span> , <span class="ident">wl_message</span> } ; <span class="kw">use</span> <span class="kw">super</span> :: <span class="ident">sys</span> :: <span class="ident">client</span> :: <span class="op">*</span> ; # [<span class="ident">repr</span> (<span class="ident">u32</span>)] # [<span class="ident">derive</span> (<span class="ident">Copy</span> , <span class="ident">Clone</span> , <span class="ident">Debug</span> , <span class="ident">PartialEq</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Error</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;invalid input provided&quot;</span>] <span class="ident">InvalidInput</span> <span class="op">=</span> <span class="number">0</span> , } <span class="kw">impl</span> <span class="ident">Error</span> { <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">n</span> : <span class="ident">u32</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Error</span> <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">n</span> { <span class="number">0</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Error</span> :: <span class="ident">InvalidInput</span>) , <span class="kw">_</span> =&gt; <span class="prelude-ty">Option</span> :: <span class="prelude-val">None</span> } } <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">to_raw</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="op">*</span> <span class="self">self</span> <span class="kw">as</span> <span class="ident">u32</span> } } <span class="ident">bitflags</span> <span class="op">!</span> { <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">Anchor</span> : <span class="ident">u32</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;the center of the anchor rectangle&quot;</span>] <span class="kw">const</span> <span class="prelude-val">None</span> <span class="op">=</span> <span class="number">0</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;the top edge of the anchor rectangle&quot;</span>] <span class="kw">const</span> <span class="ident">Top</span> <span class="op">=</span> <span class="number">1</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;the bottom edge of the anchor rectangle&quot;</span>] <span class="kw">const</span> <span class="ident">Bottom</span> <span class="op">=</span> <span class="number">2</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;the left edge of the anchor rectangle&quot;</span>] <span class="kw">const</span> <span class="ident">Left</span> <span class="op">=</span> <span class="number">4</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;the right edge of the anchor rectangle&quot;</span>] <span class="kw">const</span> <span class="ident">Right</span> <span class="op">=</span> <span class="number">8</span> ; } } <span class="kw">impl</span> <span class="ident">Anchor</span> { <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">n</span> : <span class="ident">u32</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Anchor</span> <span class="op">&gt;</span> { <span class="prelude-val">Some</span> (<span class="ident">Anchor</span> :: <span class="ident">from_bits_truncate</span> (<span class="ident">n</span>)) } <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">to_raw</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="self">self</span> . <span class="ident">bits</span> () } } <span class="ident">bitflags</span> <span class="op">!</span> { <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">Gravity</span> : <span class="ident">u32</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;center over the anchor edge&quot;</span>] <span class="kw">const</span> <span class="prelude-val">None</span> <span class="op">=</span> <span class="number">0</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;position above the anchor edge&quot;</span>] <span class="kw">const</span> <span class="ident">Top</span> <span class="op">=</span> <span class="number">1</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;position below the anchor edge&quot;</span>] <span class="kw">const</span> <span class="ident">Bottom</span> <span class="op">=</span> <span class="number">2</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;position to the left of the anchor edge&quot;</span>] <span class="kw">const</span> <span class="ident">Left</span> <span class="op">=</span> <span class="number">4</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;position to the right of the anchor edge&quot;</span>] <span class="kw">const</span> <span class="ident">Right</span> <span class="op">=</span> <span class="number">8</span> ; } } <span class="kw">impl</span> <span class="ident">Gravity</span> { <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">n</span> : <span class="ident">u32</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Gravity</span> <span class="op">&gt;</span> { <span class="prelude-val">Some</span> (<span class="ident">Gravity</span> :: <span class="ident">from_bits_truncate</span> (<span class="ident">n</span>)) } <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">to_raw</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="self">self</span> . <span class="ident">bits</span> () } } <span class="ident">bitflags</span> <span class="op">!</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;constraint adjustments\n\nThe constraint adjustment value define ways the compositor will adjust\nthe position of the surface, if the unadjusted position would result\nin the surface being partly constrained.\n\nWhether a surface is considered &#39;constrained&#39; is left to the compositor\nto determine. For example, the surface may be partly outside the\ncompositor&#39;s defined &#39;work area&#39;, thus necessitating the child surface&#39;s\nposition be adjusted until it is entirely inside the work area.\n\nThe adjustments can be combined, according to a defined precedence: 1)\nFlip, 2) Slide, 3) Resize.&quot;</span>] <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">ConstraintAdjustment</span> : <span class="ident">u32</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;don&#39;t move the child surface when constrained\n\nDon&#39;t alter the surface position even if it is constrained on some\naxis, for example partially outside the edge of a monitor.&quot;</span>] <span class="kw">const</span> <span class="prelude-val">None</span> <span class="op">=</span> <span class="number">0</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;move along the x axis until unconstrained\n\nSlide the surface along the x axis until it is no longer constrained.\n\nFirst try to slide towards the direction of the gravity on the x axis\nuntil either the edge in the opposite direction of the gravity is\nunconstrained or the edge in the direction of the gravity is\nconstrained.\n\nThen try to slide towards the opposite direction of the gravity on the\nx axis until either the edge in the direction of the gravity is\nunconstrained or the edge in the opposite direction of the gravity is\nconstrained.&quot;</span>] <span class="kw">const</span> <span class="ident">SlideX</span> <span class="op">=</span> <span class="number">1</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;move along the y axis until unconstrained\n\nSlide the surface along the y axis until it is no longer constrained.\n\nFirst try to slide towards the direction of the gravity on the y axis\nuntil either the edge in the opposite direction of the gravity is\nunconstrained or the edge in the direction of the gravity is\nconstrained.\n\nThen try to slide towards the opposite direction of the gravity on the\ny axis until either the edge in the direction of the gravity is\nunconstrained or the edge in the opposite direction of the gravity is\nconstrained.&quot;</span>] <span class="kw">const</span> <span class="ident">SlideY</span> <span class="op">=</span> <span class="number">2</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;invert the anchor and gravity on the x axis\n\nInvert the anchor and gravity on the x axis if the surface is\nconstrained on the x axis. For example, if the left edge of the\nsurface is constrained, the gravity is &#39;left&#39; and the anchor is\n&#39;left&#39;, change the gravity to &#39;right&#39; and the anchor to &#39;right&#39;.\n\nIf the adjusted position also ends up being constrained, the resulting\nposition of the flip_x adjustment will be the one before the\nadjustment.&quot;</span>] <span class="kw">const</span> <span class="ident">FlipX</span> <span class="op">=</span> <span class="number">4</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;invert the anchor and gravity on the y axis\n\nInvert the anchor and gravity on the y axis if the surface is\nconstrained on the y axis. For example, if the bottom edge of the\nsurface is constrained, the gravity is &#39;bottom&#39; and the anchor is\n&#39;bottom&#39;, change the gravity to &#39;top&#39; and the anchor to &#39;top&#39;.\n\nIf the adjusted position also ends up being constrained, the resulting\nposition of the flip_y adjustment will be the one before the\nadjustment.&quot;</span>] <span class="kw">const</span> <span class="ident">FlipY</span> <span class="op">=</span> <span class="number">8</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;horizontally resize the surface\n\nResize the surface horizontally so that it is completely\nunconstrained.&quot;</span>] <span class="kw">const</span> <span class="ident">ResizeX</span> <span class="op">=</span> <span class="number">16</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;vertically resize the surface\n\nResize the surface vertically so that it is completely unconstrained.&quot;</span>] <span class="kw">const</span> <span class="ident">ResizeY</span> <span class="op">=</span> <span class="number">32</span> ; } } <span class="kw">impl</span> <span class="ident">ConstraintAdjustment</span> { <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">n</span> : <span class="ident">u32</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">ConstraintAdjustment</span> <span class="op">&gt;</span> { <span class="prelude-val">Some</span> (<span class="ident">ConstraintAdjustment</span> :: <span class="ident">from_bits_truncate</span> (<span class="ident">n</span>)) } <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">to_raw</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="self">self</span> . <span class="ident">bits</span> () } } # [<span class="ident">derive</span> (<span class="ident">Debug</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Request</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;destroy the xdg_positioner object\n\nNotify the compositor that the xdg_positioner will no longer be used.\n\nThis is a destructor, once sent this object cannot be used any longer.&quot;</span>] <span class="ident">Destroy</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set the size of the to-be positioned rectangle\n\nSet the size of the surface that is to be positioned with the positioner\nobject. The size is in surface-local coordinates and corresponds to the\nwindow geometry. See xdg_surface.set_window_geometry.\n\nIf a zero or negative size is set the invalid_input error is raised.&quot;</span>] <span class="ident">SetSize</span> { <span class="ident">width</span> : <span class="ident">i32</span> , <span class="ident">height</span> : <span class="ident">i32</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set the anchor rectangle within the parent surface\n\nSpecify the anchor rectangle within the parent surface that the child\nsurface will be placed relative to. The rectangle is relative to the\nwindow geometry as defined by xdg_surface.set_window_geometry of the\nparent surface. The rectangle must be at least 1x1 large.\n\nWhen the xdg_positioner object is used to position a child surface, the\nanchor rectangle may not extend outside the window geometry of the\npositioned child&#39;s parent surface.\n\nIf a zero or negative size is set the invalid_input error is raised.&quot;</span>] <span class="ident">SetAnchorRect</span> { <span class="ident">x</span> : <span class="ident">i32</span> , <span class="ident">y</span> : <span class="ident">i32</span> , <span class="ident">width</span> : <span class="ident">i32</span> , <span class="ident">height</span> : <span class="ident">i32</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set anchor rectangle anchor edges\n\nDefines a set of edges for the anchor rectangle. These are used to\nderive an anchor point that the child surface will be positioned\nrelative to. If two orthogonal edges are specified (e.g. &#39;top&#39; and\n&#39;left&#39;), then the anchor point will be the intersection of the edges\n(e.g. the top left position of the rectangle); otherwise, the derived\nanchor point will be centered on the specified edge, or in the center of\nthe anchor rectangle if no edge is specified.\n\nIf two parallel anchor edges are specified (e.g. &#39;left&#39; and &#39;right&#39;),\nthe invalid_input error is raised.&quot;</span>] <span class="ident">SetAnchor</span> { <span class="ident">anchor</span> : <span class="ident">Anchor</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set child surface gravity\n\nDefines in what direction a surface should be positioned, relative to\nthe anchor point of the parent surface. If two orthogonal gravities are\nspecified (e.g. &#39;bottom&#39; and &#39;right&#39;), then the child surface will be\nplaced in the specified direction; otherwise, the child surface will be\ncentered over the anchor point on any axis that had no gravity\nspecified.\n\nIf two parallel gravities are specified (e.g. &#39;left&#39; and &#39;right&#39;), the\ninvalid_input error is raised.&quot;</span>] <span class="ident">SetGravity</span> { <span class="ident">gravity</span> : <span class="ident">Gravity</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set the adjustment to be done when constrained\n\nSpecify how the window should be positioned if the originally intended\nposition caused the surface to be constrained, meaning at least\npartially outside positioning boundaries set by the compositor. The\nadjustment is set by constructing a bitmask describing the adjustment to\nbe made when the surface is constrained on that axis.\n\nIf no bit for one axis is set, the compositor will assume that the child\nsurface should not change its position on that axis when constrained.\n\nIf more than one bit for one axis is set, the order of how adjustments\nare applied is specified in the corresponding adjustment descriptions.\n\nThe default adjustment is none.&quot;</span>] <span class="ident">SetConstraintAdjustment</span> { <span class="ident">constraint_adjustment</span> : <span class="ident">u32</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set surface position offset\n\nSpecify the surface position offset relative to the position of the\nanchor on the anchor rectangle and the anchor on the surface. For\nexample if the anchor of the anchor rectangle is at (x, y), the surface\nhas the gravity bottom|right, and the offset is (ox, oy), the calculated\nsurface position will be (x + ox, y + oy). The offset position of the\nsurface is the one used for constraint testing. See\nset_constraint_adjustment.\n\nAn example use case is placing a popup menu on top of a user interface\nelement, while aligning the user interface element of the parent surface\nwith some user interface element placed somewhere in the popup surface.&quot;</span>] <span class="ident">SetOffset</span> { <span class="ident">x</span> : <span class="ident">i32</span> , <span class="ident">y</span> : <span class="ident">i32</span> , } , } <span class="kw">impl</span> <span class="kw">super</span> :: <span class="ident">MessageGroup</span> <span class="kw">for</span> <span class="ident">Request</span> { <span class="kw">const</span> <span class="ident">MESSAGES</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span>] <span class="op">=</span> <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;destroy&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [] , <span class="ident">destructor</span> : <span class="bool-val">true</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;set_size&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;set_anchor_rect&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;set_anchor&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Uint</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;set_gravity&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Uint</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;set_constraint_adjustment&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Uint</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;set_offset&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } ,] ; <span class="kw">type</span> <span class="ident">Map</span> <span class="op">=</span> <span class="kw">super</span> :: <span class="ident">ProxyMap</span> ; <span class="kw">fn</span> <span class="ident">is_destructor</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">bool</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="bool-val">true</span> , <span class="kw">_</span> =&gt; <span class="bool-val">false</span> , } } <span class="kw">fn</span> <span class="ident">opcode</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u16</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="number">0</span> , <span class="ident">Request</span> :: <span class="ident">SetSize</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">SetAnchorRect</span> { .. } =&gt; <span class="number">2</span> , <span class="ident">Request</span> :: <span class="ident">SetAnchor</span> { .. } =&gt; <span class="number">3</span> , <span class="ident">Request</span> :: <span class="ident">SetGravity</span> { .. } =&gt; <span class="number">4</span> , <span class="ident">Request</span> :: <span class="ident">SetConstraintAdjustment</span> { .. } =&gt; <span class="number">5</span> , <span class="ident">Request</span> :: <span class="ident">SetOffset</span> { .. } =&gt; <span class="number">6</span> , } } <span class="kw">fn</span> <span class="ident">since</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">SetSize</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">SetAnchorRect</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">SetAnchor</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">SetGravity</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">SetConstraintAdjustment</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">SetOffset</span> { .. } =&gt; <span class="number">1</span> , } } <span class="kw">fn</span> <span class="ident">child</span> <span class="op">&lt;</span> <span class="ident">Meta</span> : <span class="ident">ObjectMetadata</span> <span class="op">&gt;</span> (<span class="ident">opcode</span> : <span class="ident">u16</span> , <span class="ident">version</span> : <span class="ident">u32</span> , <span class="ident">meta</span> : <span class="op">&amp;</span> <span class="ident">Meta</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Object</span> <span class="op">&lt;</span> <span class="ident">Meta</span> <span class="op">&gt;</span><span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="kw">_</span> =&gt; <span class="prelude-val">None</span> , } } <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">msg</span> : <span class="ident">Message</span> , <span class="ident">map</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="self">Self</span> :: <span class="ident">Map</span>) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="self">Self</span> , () <span class="op">&gt;</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Request::from_raw can not be used Client-side.&quot;</span>) } <span class="kw">fn</span> <span class="ident">into_raw</span> (<span class="self">self</span> , <span class="ident">sender_id</span> : <span class="ident">u32</span>) -&gt; <span class="ident">Message</span> { <span class="kw">match</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">0</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [] , } , <span class="ident">Request</span> :: <span class="ident">SetSize</span> { <span class="ident">width</span> , <span class="ident">height</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">1</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">width</span>) , <span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">height</span>) ,] , } , <span class="ident">Request</span> :: <span class="ident">SetAnchorRect</span> { <span class="ident">x</span> , <span class="ident">y</span> , <span class="ident">width</span> , <span class="ident">height</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">2</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">x</span>) , <span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">y</span>) , <span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">width</span>) , <span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">height</span>) ,] , } , <span class="ident">Request</span> :: <span class="ident">SetAnchor</span> { <span class="ident">anchor</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">3</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Uint</span> (<span class="ident">anchor</span> . <span class="ident">to_raw</span> ()) ,] , } , <span class="ident">Request</span> :: <span class="ident">SetGravity</span> { <span class="ident">gravity</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">4</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Uint</span> (<span class="ident">gravity</span> . <span class="ident">to_raw</span> ()) ,] , } , <span class="ident">Request</span> :: <span class="ident">SetConstraintAdjustment</span> { <span class="ident">constraint_adjustment</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">5</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Uint</span> (<span class="ident">constraint_adjustment</span>) ,] , } , <span class="ident">Request</span> :: <span class="ident">SetOffset</span> { <span class="ident">x</span> , <span class="ident">y</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">6</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">x</span>) , <span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">y</span>) ,] , } , } } <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">from_raw_c</span> (<span class="ident">obj</span> : <span class="op">*</span> <span class="kw-2">mut</span> :: <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_void</span> , <span class="ident">opcode</span> : <span class="ident">u32</span> , <span class="ident">args</span> : <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_argument</span> ,) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="ident">Request</span> , () <span class="op">&gt;</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Request::from_raw_c can not be used Client-side.&quot;</span>) } <span class="kw">fn</span> <span class="ident">as_raw_c_in</span> <span class="op">&lt;</span> <span class="ident">F</span> , <span class="ident">T</span> <span class="op">&gt;</span> (<span class="self">self</span> , <span class="ident">f</span> : <span class="ident">F</span>) -&gt; <span class="ident">T</span> <span class="kw">where</span> <span class="ident">F</span> : <span class="ident">FnOnce</span> (<span class="ident">u32</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> [<span class="ident">wl_argument</span>]) -&gt; <span class="ident">T</span> { <span class="kw">match</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">0</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">f</span> (<span class="number">0</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">SetSize</span> { <span class="ident">width</span> , <span class="ident">height</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">2</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">width</span> ; <span class="ident">_args_array</span> [<span class="number">1</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">height</span> ; <span class="ident">f</span> (<span class="number">1</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">SetAnchorRect</span> { <span class="ident">x</span> , <span class="ident">y</span> , <span class="ident">width</span> , <span class="ident">height</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">4</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">x</span> ; <span class="ident">_args_array</span> [<span class="number">1</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">y</span> ; <span class="ident">_args_array</span> [<span class="number">2</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">width</span> ; <span class="ident">_args_array</span> [<span class="number">3</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">height</span> ; <span class="ident">f</span> (<span class="number">2</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">SetAnchor</span> { <span class="ident">anchor</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">1</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">u</span> <span class="op">=</span> <span class="ident">anchor</span> . <span class="ident">to_raw</span> () ; <span class="ident">f</span> (<span class="number">3</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">SetGravity</span> { <span class="ident">gravity</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">1</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">u</span> <span class="op">=</span> <span class="ident">gravity</span> . <span class="ident">to_raw</span> () ; <span class="ident">f</span> (<span class="number">4</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">SetConstraintAdjustment</span> { <span class="ident">constraint_adjustment</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">1</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">u</span> <span class="op">=</span> <span class="ident">constraint_adjustment</span> ; <span class="ident">f</span> (<span class="number">5</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">SetOffset</span> { <span class="ident">x</span> , <span class="ident">y</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">2</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">x</span> ; <span class="ident">_args_array</span> [<span class="number">1</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">y</span> ; <span class="ident">f</span> (<span class="number">6</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , } } } # [<span class="ident">derive</span> (<span class="ident">Debug</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Event</span> { } <span class="kw">impl</span> <span class="kw">super</span> :: <span class="ident">MessageGroup</span> <span class="kw">for</span> <span class="ident">Event</span> { <span class="kw">const</span> <span class="ident">MESSAGES</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span>] <span class="op">=</span> <span class="op">&amp;</span> [] ; <span class="kw">type</span> <span class="ident">Map</span> <span class="op">=</span> <span class="kw">super</span> :: <span class="ident">ProxyMap</span> ; <span class="kw">fn</span> <span class="ident">is_destructor</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">bool</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { } } <span class="kw">fn</span> <span class="ident">opcode</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u16</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { } } <span class="kw">fn</span> <span class="ident">since</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { } } <span class="kw">fn</span> <span class="ident">child</span> <span class="op">&lt;</span> <span class="ident">Meta</span> : <span class="ident">ObjectMetadata</span> <span class="op">&gt;</span> (<span class="ident">opcode</span> : <span class="ident">u16</span> , <span class="ident">version</span> : <span class="ident">u32</span> , <span class="ident">meta</span> : <span class="op">&amp;</span> <span class="ident">Meta</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Object</span> <span class="op">&lt;</span> <span class="ident">Meta</span> <span class="op">&gt;</span><span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="kw">_</span> =&gt; <span class="prelude-val">None</span> , } } <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">msg</span> : <span class="ident">Message</span> , <span class="ident">map</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="self">Self</span> :: <span class="ident">Map</span>) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="self">Self</span> , () <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">msg</span> . <span class="ident">opcode</span> { <span class="kw">_</span> =&gt; <span class="prelude-val">Err</span> (()) , } } <span class="kw">fn</span> <span class="ident">into_raw</span> (<span class="self">self</span> , <span class="ident">sender_id</span> : <span class="ident">u32</span>) -&gt; <span class="ident">Message</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Event::into_raw can not be used Client-side.&quot;</span>) } <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">from_raw_c</span> (<span class="ident">obj</span> : <span class="op">*</span> <span class="kw-2">mut</span> :: <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_void</span> , <span class="ident">opcode</span> : <span class="ident">u32</span> , <span class="ident">args</span> : <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_argument</span> ,) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="ident">Event</span> , () <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="kw">_</span> =&gt; <span class="kw">return</span> <span class="prelude-val">Err</span> (()) , } } <span class="kw">fn</span> <span class="ident">as_raw_c_in</span> <span class="op">&lt;</span> <span class="ident">F</span> , <span class="ident">T</span> <span class="op">&gt;</span> (<span class="self">self</span> , <span class="ident">f</span> : <span class="ident">F</span>) -&gt; <span class="ident">T</span> <span class="kw">where</span> <span class="ident">F</span> : <span class="ident">FnOnce</span> (<span class="ident">u32</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> [<span class="ident">wl_argument</span>]) -&gt; <span class="ident">T</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Event::as_raw_c_in can not be used Client-side.&quot;</span>) } } # [<span class="ident">derive</span> (<span class="ident">Clone</span> , <span class="ident">Eq</span> , <span class="ident">PartialEq</span>)] <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">ZxdgPositionerV6</span> (<span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgPositionerV6</span> <span class="op">&gt;</span>) ; <span class="kw">impl</span> <span class="ident">AsRef</span> <span class="op">&lt;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgPositionerV6</span> <span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">ZxdgPositionerV6</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">as_ref</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="op">&amp;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="self">Self</span> <span class="op">&gt;</span> { <span class="op">&amp;</span> <span class="self">self</span> . <span class="number">0</span> } } <span class="kw">impl</span> <span class="ident">From</span> <span class="op">&lt;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgPositionerV6</span> <span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">ZxdgPositionerV6</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">from</span> (<span class="ident">value</span> : <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="self">Self</span> <span class="op">&gt;</span>) -&gt; <span class="self">Self</span> { <span class="ident">ZxdgPositionerV6</span> (<span class="ident">value</span>) } } <span class="kw">impl</span> <span class="ident">From</span> <span class="op">&lt;</span> <span class="ident">ZxdgPositionerV6</span> <span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgPositionerV6</span> <span class="op">&gt;</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">from</span> (<span class="ident">value</span> : <span class="ident">ZxdgPositionerV6</span>) -&gt; <span class="self">Self</span> { <span class="ident">value</span> . <span class="number">0</span> } } <span class="kw">impl</span> <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="ident">Debug</span> <span class="kw">for</span> <span class="ident">ZxdgPositionerV6</span> { <span class="kw">fn</span> <span class="ident">fmt</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">f</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="ident">Formatter</span> <span class="op">&lt;</span> <span class="lifetime">&#39;_</span> <span class="op">&gt;</span>) -&gt; <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="prelude-ty">Result</span> { <span class="ident">f</span> . <span class="ident">write_fmt</span> (<span class="ident">format_args</span> <span class="op">!</span> (<span class="string">&quot;{:?}&quot;</span> , <span class="self">self</span> . <span class="number">0</span>)) } } <span class="kw">impl</span> <span class="ident">Interface</span> <span class="kw">for</span> <span class="ident">ZxdgPositionerV6</span> { <span class="kw">type</span> <span class="ident">Request</span> <span class="op">=</span> <span class="ident">Request</span> ; <span class="kw">type</span> <span class="ident">Event</span> <span class="op">=</span> <span class="ident">Event</span> ; <span class="kw">const</span> <span class="ident">NAME</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> <span class="ident">str</span> <span class="op">=</span> <span class="string">&quot;zxdg_positioner_v6&quot;</span> ; <span class="kw">const</span> <span class="ident">VERSION</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1</span> ; <span class="kw">fn</span> <span class="ident">c_interface</span> () -&gt; <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> { <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_positioner_v6_interface</span> } } } <span class="kw">impl</span> <span class="ident">ZxdgPositionerV6</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;destroy the xdg_positioner object\n\nNotify the compositor that the xdg_positioner will no longer be used.\n\nThis is a destructor, you cannot send requests to this object any longer once this method is called.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">destroy</span> (<span class="op">&amp;</span> <span class="self">self</span> ,) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">Destroy</span> ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set the size of the to-be positioned rectangle\n\nSet the size of the surface that is to be positioned with the positioner\nobject. The size is in surface-local coordinates and corresponds to the\nwindow geometry. See xdg_surface.set_window_geometry.\n\nIf a zero or negative size is set the invalid_input error is raised.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">set_size</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">width</span> : <span class="ident">i32</span> , <span class="ident">height</span> : <span class="ident">i32</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">SetSize</span> { <span class="ident">width</span> : <span class="ident">width</span> , <span class="ident">height</span> : <span class="ident">height</span> } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set the anchor rectangle within the parent surface\n\nSpecify the anchor rectangle within the parent surface that the child\nsurface will be placed relative to. The rectangle is relative to the\nwindow geometry as defined by xdg_surface.set_window_geometry of the\nparent surface. The rectangle must be at least 1x1 large.\n\nWhen the xdg_positioner object is used to position a child surface, the\nanchor rectangle may not extend outside the window geometry of the\npositioned child&#39;s parent surface.\n\nIf a zero or negative size is set the invalid_input error is raised.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">set_anchor_rect</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">x</span> : <span class="ident">i32</span> , <span class="ident">y</span> : <span class="ident">i32</span> , <span class="ident">width</span> : <span class="ident">i32</span> , <span class="ident">height</span> : <span class="ident">i32</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">SetAnchorRect</span> { <span class="ident">x</span> : <span class="ident">x</span> , <span class="ident">y</span> : <span class="ident">y</span> , <span class="ident">width</span> : <span class="ident">width</span> , <span class="ident">height</span> : <span class="ident">height</span> } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set anchor rectangle anchor edges\n\nDefines a set of edges for the anchor rectangle. These are used to\nderive an anchor point that the child surface will be positioned\nrelative to. If two orthogonal edges are specified (e.g. &#39;top&#39; and\n&#39;left&#39;), then the anchor point will be the intersection of the edges\n(e.g. the top left position of the rectangle); otherwise, the derived\nanchor point will be centered on the specified edge, or in the center of\nthe anchor rectangle if no edge is specified.\n\nIf two parallel anchor edges are specified (e.g. &#39;left&#39; and &#39;right&#39;),\nthe invalid_input error is raised.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">set_anchor</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">anchor</span> : <span class="ident">Anchor</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">SetAnchor</span> { <span class="ident">anchor</span> : <span class="ident">anchor</span> } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set child surface gravity\n\nDefines in what direction a surface should be positioned, relative to\nthe anchor point of the parent surface. If two orthogonal gravities are\nspecified (e.g. &#39;bottom&#39; and &#39;right&#39;), then the child surface will be\nplaced in the specified direction; otherwise, the child surface will be\ncentered over the anchor point on any axis that had no gravity\nspecified.\n\nIf two parallel gravities are specified (e.g. &#39;left&#39; and &#39;right&#39;), the\ninvalid_input error is raised.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">set_gravity</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">gravity</span> : <span class="ident">Gravity</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">SetGravity</span> { <span class="ident">gravity</span> : <span class="ident">gravity</span> } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set the adjustment to be done when constrained\n\nSpecify how the window should be positioned if the originally intended\nposition caused the surface to be constrained, meaning at least\npartially outside positioning boundaries set by the compositor. The\nadjustment is set by constructing a bitmask describing the adjustment to\nbe made when the surface is constrained on that axis.\n\nIf no bit for one axis is set, the compositor will assume that the child\nsurface should not change its position on that axis when constrained.\n\nIf more than one bit for one axis is set, the order of how adjustments\nare applied is specified in the corresponding adjustment descriptions.\n\nThe default adjustment is none.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">set_constraint_adjustment</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">constraint_adjustment</span> : <span class="ident">u32</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">SetConstraintAdjustment</span> { <span class="ident">constraint_adjustment</span> : <span class="ident">constraint_adjustment</span> } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set surface position offset\n\nSpecify the surface position offset relative to the position of the\nanchor on the anchor rectangle and the anchor on the surface. For\nexample if the anchor of the anchor rectangle is at (x, y), the surface\nhas the gravity bottom|right, and the offset is (ox, oy), the calculated\nsurface position will be (x + ox, y + oy). The offset position of the\nsurface is the one used for constraint testing. See\nset_constraint_adjustment.\n\nAn example use case is placing a popup menu on top of a user interface\nelement, while aligning the user interface element of the parent surface\nwith some user interface element placed somewhere in the popup surface.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">set_offset</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">x</span> : <span class="ident">i32</span> , <span class="ident">y</span> : <span class="ident">i32</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">SetOffset</span> { <span class="ident">x</span> : <span class="ident">x</span> , <span class="ident">y</span> : <span class="ident">y</span> } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_DESTROY_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_SET_SIZE_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_SET_ANCHOR_RECT_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_SET_ANCHOR_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_SET_GRAVITY_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_SET_CONSTRAINT_ADJUSTMENT_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_SET_OFFSET_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C-representation of the messages of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_positioner_v6_requests</span> : [<span class="ident">wl_message</span> ; <span class="number">7</span>] <span class="op">=</span> [<span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;destroy\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;set_size\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;ii\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;set_anchor_rect\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;iiii\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;set_anchor\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;u\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;set_gravity\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;u\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;set_constraint_adjustment\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;u\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;set_offset\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;ii\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C representation of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_positioner_v6_interface</span> : <span class="ident">wl_interface</span> <span class="op">=</span> <span class="ident">wl_interface</span> { <span class="ident">name</span> : <span class="string">b&quot;zxdg_positioner_v6\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">version</span> : <span class="number">1</span> , <span class="ident">request_count</span> : <span class="number">7</span> , <span class="ident">requests</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_positioner_v6_requests</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , <span class="ident">event_count</span> : <span class="number">0</span> , <span class="ident">events</span> : <span class="ident">NULLPTR</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_message</span> , } ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;desktop user interface surface base interface\n\nAn interface that may be implemented by a wl_surface, for\nimplementations that provide a desktop-style user interface.\n\nIt provides a base set of functionality required to construct user\ninterface elements requiring management by the compositor, such as\ntoplevel windows, menus, etc. The types of functionality are split into\nxdg_surface roles.\n\nCreating an xdg_surface does not set the role for a wl_surface. In order\nto map an xdg_surface, the client must create a role-specific object\nusing, e.g., get_toplevel, get_popup. The wl_surface for any given\nxdg_surface can have at most one role, and may not be assigned any role\nnot based on xdg_surface.\n\nA role must be assigned before any other requests are made to the\nxdg_surface object.\n\nThe client must call wl_surface.commit on the corresponding wl_surface\nfor the xdg_surface state to take effect.\n\nCreating an xdg_surface from a wl_surface which has a buffer attached or\ncommitted is a client error, and any attempts by a client to attach or\nmanipulate a buffer prior to the first xdg_surface.configure call must\nalso be treated as errors.\n\nFor a surface to be mapped by the compositor, the following conditions\nmust be met: (1) the client has assigned a xdg_surface based role to the\nsurface, (2) the client has set and committed the xdg_surface state and\nthe role dependent state to the surface and (3) the client has committed a\nbuffer to the surface.&quot;</span>] <span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">zxdg_surface_v6</span> { <span class="kw">use</span> <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_char</span> ; <span class="kw">use</span> <span class="kw">super</span> :: { <span class="ident">Proxy</span> , <span class="ident">AnonymousObject</span> , <span class="ident">Interface</span> , <span class="ident">MessageGroup</span> , <span class="ident">MessageDesc</span> , <span class="ident">ArgumentType</span> , <span class="ident">Object</span> , <span class="ident">Message</span> , <span class="ident">Argument</span> , <span class="ident">ObjectMetadata</span> , <span class="ident">types_null</span> , <span class="ident">NULLPTR</span> , <span class="ident">Main</span> , <span class="ident">smallvec</span> , } ; <span class="kw">use</span> <span class="kw">super</span> :: <span class="ident">sys</span> :: <span class="ident">common</span> :: { <span class="ident">wl_interface</span> , <span class="ident">wl_array</span> , <span class="ident">wl_argument</span> , <span class="ident">wl_message</span> } ; <span class="kw">use</span> <span class="kw">super</span> :: <span class="ident">sys</span> :: <span class="ident">client</span> :: <span class="op">*</span> ; # [<span class="ident">repr</span> (<span class="ident">u32</span>)] # [<span class="ident">derive</span> (<span class="ident">Copy</span> , <span class="ident">Clone</span> , <span class="ident">Debug</span> , <span class="ident">PartialEq</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Error</span> { <span class="ident">NotConstructed</span> <span class="op">=</span> <span class="number">1</span> , <span class="ident">AlreadyConstructed</span> <span class="op">=</span> <span class="number">2</span> , <span class="ident">UnconfiguredBuffer</span> <span class="op">=</span> <span class="number">3</span> , } <span class="kw">impl</span> <span class="ident">Error</span> { <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">n</span> : <span class="ident">u32</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Error</span> <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">n</span> { <span class="number">1</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Error</span> :: <span class="ident">NotConstructed</span>) , <span class="number">2</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Error</span> :: <span class="ident">AlreadyConstructed</span>) , <span class="number">3</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Error</span> :: <span class="ident">UnconfiguredBuffer</span>) , <span class="kw">_</span> =&gt; <span class="prelude-ty">Option</span> :: <span class="prelude-val">None</span> } } <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">to_raw</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="op">*</span> <span class="self">self</span> <span class="kw">as</span> <span class="ident">u32</span> } } # [<span class="ident">derive</span> (<span class="ident">Debug</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Request</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;destroy the xdg_surface\n\nDestroy the xdg_surface object. An xdg_surface must only be destroyed\nafter its role object has been destroyed.\n\nThis is a destructor, once sent this object cannot be used any longer.&quot;</span>] <span class="ident">Destroy</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;assign the xdg_toplevel surface role\n\nThis creates an xdg_toplevel object for the given xdg_surface and gives\nthe associated wl_surface the xdg_toplevel role.\n\nSee the documentation of xdg_toplevel for more details about what an\nxdg_toplevel is and how it is used.&quot;</span>] <span class="ident">GetToplevel</span> { } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;assign the xdg_popup surface role\n\nThis creates an xdg_popup object for the given xdg_surface and gives the\nassociated wl_surface the xdg_popup role.\n\nSee the documentation of xdg_popup for more details about what an\nxdg_popup is and how it is used.&quot;</span>] <span class="ident">GetPopup</span> { <span class="ident">parent</span> : <span class="kw">super</span> :: <span class="ident">zxdg_surface_v6</span> :: <span class="ident">ZxdgSurfaceV6</span> , <span class="ident">positioner</span> : <span class="kw">super</span> :: <span class="ident">zxdg_positioner_v6</span> :: <span class="ident">ZxdgPositionerV6</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set the new window geometry\n\nThe window geometry of a surface is its \&quot;visible bounds\&quot; from the\nuser&#39;s perspective. Client-side decorations often have invisible\nportions like drop-shadows which should be ignored for the\npurposes of aligning, placing and constraining windows.\n\nThe window geometry is double buffered, and will be applied at the\ntime wl_surface.commit of the corresponding wl_surface is called.\n\nOnce the window geometry of the surface is set, it is not possible to\nunset it, and it will remain the same until set_window_geometry is\ncalled again, even if a new subsurface or buffer is attached.\n\nIf never set, the value is the full bounds of the surface,\nincluding any subsurfaces. This updates dynamically on every\ncommit. This unset is meant for extremely simple clients.\n\nThe arguments are given in the surface-local coordinate space of\nthe wl_surface associated with this xdg_surface.\n\nThe width and height must be greater than zero. Setting an invalid size\nwill raise an error. When applied, the effective window geometry will be\nthe set window geometry clamped to the bounding rectangle of the\ncombined geometry of the surface of the xdg_surface and the associated\nsubsurfaces.&quot;</span>] <span class="ident">SetWindowGeometry</span> { <span class="ident">x</span> : <span class="ident">i32</span> , <span class="ident">y</span> : <span class="ident">i32</span> , <span class="ident">width</span> : <span class="ident">i32</span> , <span class="ident">height</span> : <span class="ident">i32</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;ack a configure event\n\nWhen a configure event is received, if a client commits the\nsurface in response to the configure event, then the client\nmust make an ack_configure request sometime before the commit\nrequest, passing along the serial of the configure event.\n\nFor instance, for toplevel surfaces the compositor might use this\ninformation to move a surface to the top left only when the client has\ndrawn itself for the maximized or fullscreen state.\n\nIf the client receives multiple configure events before it\ncan respond to one, it only has to ack the last configure event.\n\nA client is not required to commit immediately after sending\nan ack_configure request - it may even ack_configure several times\nbefore its next surface commit.\n\nA client may send multiple ack_configure requests before committing, but\nonly the last request sent before a commit indicates which configure\nevent the client really is responding to.&quot;</span>] <span class="ident">AckConfigure</span> { <span class="ident">serial</span> : <span class="ident">u32</span> , } , } <span class="kw">impl</span> <span class="kw">super</span> :: <span class="ident">MessageGroup</span> <span class="kw">for</span> <span class="ident">Request</span> { <span class="kw">const</span> <span class="ident">MESSAGES</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span>] <span class="op">=</span> <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;destroy&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [] , <span class="ident">destructor</span> : <span class="bool-val">true</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;get_toplevel&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">NewId</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;get_popup&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">NewId</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Object</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Object</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;set_window_geometry&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;ack_configure&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Uint</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } ,] ; <span class="kw">type</span> <span class="ident">Map</span> <span class="op">=</span> <span class="kw">super</span> :: <span class="ident">ProxyMap</span> ; <span class="kw">fn</span> <span class="ident">is_destructor</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">bool</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="bool-val">true</span> , <span class="kw">_</span> =&gt; <span class="bool-val">false</span> , } } <span class="kw">fn</span> <span class="ident">opcode</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u16</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="number">0</span> , <span class="ident">Request</span> :: <span class="ident">GetToplevel</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">GetPopup</span> { .. } =&gt; <span class="number">2</span> , <span class="ident">Request</span> :: <span class="ident">SetWindowGeometry</span> { .. } =&gt; <span class="number">3</span> , <span class="ident">Request</span> :: <span class="ident">AckConfigure</span> { .. } =&gt; <span class="number">4</span> , } } <span class="kw">fn</span> <span class="ident">since</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">GetToplevel</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">GetPopup</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">SetWindowGeometry</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">AckConfigure</span> { .. } =&gt; <span class="number">1</span> , } } <span class="kw">fn</span> <span class="ident">child</span> <span class="op">&lt;</span> <span class="ident">Meta</span> : <span class="ident">ObjectMetadata</span> <span class="op">&gt;</span> (<span class="ident">opcode</span> : <span class="ident">u16</span> , <span class="ident">version</span> : <span class="ident">u32</span> , <span class="ident">meta</span> : <span class="op">&amp;</span> <span class="ident">Meta</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Object</span> <span class="op">&lt;</span> <span class="ident">Meta</span> <span class="op">&gt;</span><span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="number">1</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Object</span> :: <span class="ident">from_interface</span> :: <span class="op">&lt;</span> <span class="kw">super</span> :: <span class="ident">zxdg_toplevel_v6</span> :: <span class="ident">ZxdgToplevelV6</span> <span class="op">&gt;</span> (<span class="ident">version</span> , <span class="ident">meta</span> . <span class="ident">child</span> () ,)) , <span class="number">2</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Object</span> :: <span class="ident">from_interface</span> :: <span class="op">&lt;</span> <span class="kw">super</span> :: <span class="ident">zxdg_popup_v6</span> :: <span class="ident">ZxdgPopupV6</span> <span class="op">&gt;</span> (<span class="ident">version</span> , <span class="ident">meta</span> . <span class="ident">child</span> () ,)) , <span class="kw">_</span> =&gt; <span class="prelude-val">None</span> , } } <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">msg</span> : <span class="ident">Message</span> , <span class="ident">map</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="self">Self</span> :: <span class="ident">Map</span>) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="self">Self</span> , () <span class="op">&gt;</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Request::from_raw can not be used Client-side.&quot;</span>) } <span class="kw">fn</span> <span class="ident">into_raw</span> (<span class="self">self</span> , <span class="ident">sender_id</span> : <span class="ident">u32</span>) -&gt; <span class="ident">Message</span> { <span class="kw">match</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">0</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [] , } , <span class="ident">Request</span> :: <span class="ident">GetToplevel</span> { } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">1</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">NewId</span> (<span class="number">0</span>) ,] , } , <span class="ident">Request</span> :: <span class="ident">GetPopup</span> { <span class="ident">parent</span> , <span class="ident">positioner</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">2</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">NewId</span> (<span class="number">0</span>) , <span class="ident">Argument</span> :: <span class="ident">Object</span> (<span class="ident">parent</span> . <span class="ident">as_ref</span> () . <span class="ident">id</span> ()) , <span class="ident">Argument</span> :: <span class="ident">Object</span> (<span class="ident">positioner</span> . <span class="ident">as_ref</span> () . <span class="ident">id</span> ()) ,] , } , <span class="ident">Request</span> :: <span class="ident">SetWindowGeometry</span> { <span class="ident">x</span> , <span class="ident">y</span> , <span class="ident">width</span> , <span class="ident">height</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">3</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">x</span>) , <span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">y</span>) , <span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">width</span>) , <span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">height</span>) ,] , } , <span class="ident">Request</span> :: <span class="ident">AckConfigure</span> { <span class="ident">serial</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">4</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Uint</span> (<span class="ident">serial</span>) ,] , } , } } <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">from_raw_c</span> (<span class="ident">obj</span> : <span class="op">*</span> <span class="kw-2">mut</span> :: <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_void</span> , <span class="ident">opcode</span> : <span class="ident">u32</span> , <span class="ident">args</span> : <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_argument</span> ,) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="ident">Request</span> , () <span class="op">&gt;</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Request::from_raw_c can not be used Client-side.&quot;</span>) } <span class="kw">fn</span> <span class="ident">as_raw_c_in</span> <span class="op">&lt;</span> <span class="ident">F</span> , <span class="ident">T</span> <span class="op">&gt;</span> (<span class="self">self</span> , <span class="ident">f</span> : <span class="ident">F</span>) -&gt; <span class="ident">T</span> <span class="kw">where</span> <span class="ident">F</span> : <span class="ident">FnOnce</span> (<span class="ident">u32</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> [<span class="ident">wl_argument</span>]) -&gt; <span class="ident">T</span> { <span class="kw">match</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">0</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">f</span> (<span class="number">0</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">GetToplevel</span> { } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">1</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">o</span> <span class="op">=</span> :: <span class="ident">std</span> :: <span class="ident">ptr</span> :: <span class="ident">null_mut</span> () <span class="kw">as</span> <span class="op">*</span> <span class="kw-2">mut</span> <span class="kw">_</span> ; <span class="ident">f</span> (<span class="number">1</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">GetPopup</span> { <span class="ident">parent</span> , <span class="ident">positioner</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">3</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">o</span> <span class="op">=</span> :: <span class="ident">std</span> :: <span class="ident">ptr</span> :: <span class="ident">null_mut</span> () <span class="kw">as</span> <span class="op">*</span> <span class="kw-2">mut</span> <span class="kw">_</span> ; <span class="ident">_args_array</span> [<span class="number">1</span>] . <span class="ident">o</span> <span class="op">=</span> <span class="ident">parent</span> . <span class="ident">as_ref</span> () . <span class="ident">c_ptr</span> () <span class="kw">as</span> <span class="op">*</span> <span class="kw-2">mut</span> <span class="kw">_</span> ; <span class="ident">_args_array</span> [<span class="number">2</span>] . <span class="ident">o</span> <span class="op">=</span> <span class="ident">positioner</span> . <span class="ident">as_ref</span> () . <span class="ident">c_ptr</span> () <span class="kw">as</span> <span class="op">*</span> <span class="kw-2">mut</span> <span class="kw">_</span> ; <span class="ident">f</span> (<span class="number">2</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">SetWindowGeometry</span> { <span class="ident">x</span> , <span class="ident">y</span> , <span class="ident">width</span> , <span class="ident">height</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">4</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">x</span> ; <span class="ident">_args_array</span> [<span class="number">1</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">y</span> ; <span class="ident">_args_array</span> [<span class="number">2</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">width</span> ; <span class="ident">_args_array</span> [<span class="number">3</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">height</span> ; <span class="ident">f</span> (<span class="number">3</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">AckConfigure</span> { <span class="ident">serial</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">1</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">u</span> <span class="op">=</span> <span class="ident">serial</span> ; <span class="ident">f</span> (<span class="number">4</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , } } } # [<span class="ident">derive</span> (<span class="ident">Debug</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Event</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;suggest a surface change\n\nThe configure event marks the end of a configure sequence. A configure\nsequence is a set of one or more events configuring the state of the\nxdg_surface, including the final xdg_surface.configure event.\n\nWhere applicable, xdg_surface surface roles will during a configure\nsequence extend this event as a latched state sent as events before the\nxdg_surface.configure event. Such events should be considered to make up\na set of atomically applied configuration states, where the\nxdg_surface.configure commits the accumulated state.\n\nClients should arrange their surface for the new states, and then send\nan ack_configure request with the serial sent in this configure event at\nsome point before committing the new surface.\n\nIf the client receives multiple configure events before it can respond\nto one, it is free to discard all but the last event it received.&quot;</span>] <span class="ident">Configure</span> { <span class="ident">serial</span> : <span class="ident">u32</span> , } , } <span class="kw">impl</span> <span class="kw">super</span> :: <span class="ident">MessageGroup</span> <span class="kw">for</span> <span class="ident">Event</span> { <span class="kw">const</span> <span class="ident">MESSAGES</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span>] <span class="op">=</span> <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;configure&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Uint</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } ,] ; <span class="kw">type</span> <span class="ident">Map</span> <span class="op">=</span> <span class="kw">super</span> :: <span class="ident">ProxyMap</span> ; <span class="kw">fn</span> <span class="ident">is_destructor</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">bool</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="kw">_</span> =&gt; <span class="bool-val">false</span> , } } <span class="kw">fn</span> <span class="ident">opcode</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u16</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Event</span> :: <span class="ident">Configure</span> { .. } =&gt; <span class="number">0</span> , } } <span class="kw">fn</span> <span class="ident">since</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Event</span> :: <span class="ident">Configure</span> { .. } =&gt; <span class="number">1</span> , } } <span class="kw">fn</span> <span class="ident">child</span> <span class="op">&lt;</span> <span class="ident">Meta</span> : <span class="ident">ObjectMetadata</span> <span class="op">&gt;</span> (<span class="ident">opcode</span> : <span class="ident">u16</span> , <span class="ident">version</span> : <span class="ident">u32</span> , <span class="ident">meta</span> : <span class="op">&amp;</span> <span class="ident">Meta</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Object</span> <span class="op">&lt;</span> <span class="ident">Meta</span> <span class="op">&gt;</span><span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="kw">_</span> =&gt; <span class="prelude-val">None</span> , } } <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">msg</span> : <span class="ident">Message</span> , <span class="ident">map</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="self">Self</span> :: <span class="ident">Map</span>) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="self">Self</span> , () <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">msg</span> . <span class="ident">opcode</span> { <span class="number">0</span> =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">args</span> <span class="op">=</span> <span class="ident">msg</span> . <span class="ident">args</span> . <span class="ident">into_iter</span> () ; <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">Configure</span> { <span class="ident">serial</span> : { <span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Some</span> (<span class="ident">Argument</span> :: <span class="ident">Uint</span> (<span class="ident">val</span>)) <span class="op">=</span> <span class="ident">args</span> . <span class="ident">next</span> () { <span class="ident">val</span> } <span class="kw">else</span> { <span class="kw">return</span> <span class="prelude-val">Err</span> (()) ; } } , }) } , <span class="kw">_</span> =&gt; <span class="prelude-val">Err</span> (()) , } } <span class="kw">fn</span> <span class="ident">into_raw</span> (<span class="self">self</span> , <span class="ident">sender_id</span> : <span class="ident">u32</span>) -&gt; <span class="ident">Message</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Event::into_raw can not be used Client-side.&quot;</span>) } <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">from_raw_c</span> (<span class="ident">obj</span> : <span class="op">*</span> <span class="kw-2">mut</span> :: <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_void</span> , <span class="ident">opcode</span> : <span class="ident">u32</span> , <span class="ident">args</span> : <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_argument</span> ,) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="ident">Event</span> , () <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="number">0</span> =&gt; { <span class="kw">let</span> <span class="ident">_args</span> <span class="op">=</span> :: <span class="ident">std</span> :: <span class="ident">slice</span> :: <span class="ident">from_raw_parts</span> (<span class="ident">args</span> , <span class="number">1</span>) ; <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">Configure</span> { <span class="ident">serial</span> : <span class="ident">_args</span> [<span class="number">0</span>] . <span class="ident">u</span> , }) } , <span class="kw">_</span> =&gt; <span class="kw">return</span> <span class="prelude-val">Err</span> (()) , } } <span class="kw">fn</span> <span class="ident">as_raw_c_in</span> <span class="op">&lt;</span> <span class="ident">F</span> , <span class="ident">T</span> <span class="op">&gt;</span> (<span class="self">self</span> , <span class="ident">f</span> : <span class="ident">F</span>) -&gt; <span class="ident">T</span> <span class="kw">where</span> <span class="ident">F</span> : <span class="ident">FnOnce</span> (<span class="ident">u32</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> [<span class="ident">wl_argument</span>]) -&gt; <span class="ident">T</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Event::as_raw_c_in can not be used Client-side.&quot;</span>) } } # [<span class="ident">derive</span> (<span class="ident">Clone</span> , <span class="ident">Eq</span> , <span class="ident">PartialEq</span>)] <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">ZxdgSurfaceV6</span> (<span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgSurfaceV6</span> <span class="op">&gt;</span>) ; <span class="kw">impl</span> <span class="ident">AsRef</span> <span class="op">&lt;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgSurfaceV6</span> <span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">ZxdgSurfaceV6</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">as_ref</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="op">&amp;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="self">Self</span> <span class="op">&gt;</span> { <span class="op">&amp;</span> <span class="self">self</span> . <span class="number">0</span> } } <span class="kw">impl</span> <span class="ident">From</span> <span class="op">&lt;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgSurfaceV6</span> <span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">ZxdgSurfaceV6</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">from</span> (<span class="ident">value</span> : <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="self">Self</span> <span class="op">&gt;</span>) -&gt; <span class="self">Self</span> { <span class="ident">ZxdgSurfaceV6</span> (<span class="ident">value</span>) } } <span class="kw">impl</span> <span class="ident">From</span> <span class="op">&lt;</span> <span class="ident">ZxdgSurfaceV6</span> <span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgSurfaceV6</span> <span class="op">&gt;</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">from</span> (<span class="ident">value</span> : <span class="ident">ZxdgSurfaceV6</span>) -&gt; <span class="self">Self</span> { <span class="ident">value</span> . <span class="number">0</span> } } <span class="kw">impl</span> <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="ident">Debug</span> <span class="kw">for</span> <span class="ident">ZxdgSurfaceV6</span> { <span class="kw">fn</span> <span class="ident">fmt</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">f</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="ident">Formatter</span> <span class="op">&lt;</span> <span class="lifetime">&#39;_</span> <span class="op">&gt;</span>) -&gt; <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="prelude-ty">Result</span> { <span class="ident">f</span> . <span class="ident">write_fmt</span> (<span class="ident">format_args</span> <span class="op">!</span> (<span class="string">&quot;{:?}&quot;</span> , <span class="self">self</span> . <span class="number">0</span>)) } } <span class="kw">impl</span> <span class="ident">Interface</span> <span class="kw">for</span> <span class="ident">ZxdgSurfaceV6</span> { <span class="kw">type</span> <span class="ident">Request</span> <span class="op">=</span> <span class="ident">Request</span> ; <span class="kw">type</span> <span class="ident">Event</span> <span class="op">=</span> <span class="ident">Event</span> ; <span class="kw">const</span> <span class="ident">NAME</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> <span class="ident">str</span> <span class="op">=</span> <span class="string">&quot;zxdg_surface_v6&quot;</span> ; <span class="kw">const</span> <span class="ident">VERSION</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1</span> ; <span class="kw">fn</span> <span class="ident">c_interface</span> () -&gt; <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> { <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_surface_v6_interface</span> } } } <span class="kw">impl</span> <span class="ident">ZxdgSurfaceV6</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;destroy the xdg_surface\n\nDestroy the xdg_surface object. An xdg_surface must only be destroyed\nafter its role object has been destroyed.\n\nThis is a destructor, you cannot send requests to this object any longer once this method is called.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">destroy</span> (<span class="op">&amp;</span> <span class="self">self</span> ,) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">Destroy</span> ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;assign the xdg_toplevel surface role\n\nThis creates an xdg_toplevel object for the given xdg_surface and gives\nthe associated wl_surface the xdg_toplevel role.\n\nSee the documentation of xdg_toplevel for more details about what an\nxdg_toplevel is and how it is used.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">get_toplevel</span> (<span class="op">&amp;</span> <span class="self">self</span> ,) -&gt; <span class="ident">Main</span> <span class="op">&lt;</span> <span class="kw">super</span> :: <span class="ident">zxdg_toplevel_v6</span> :: <span class="ident">ZxdgToplevelV6</span> <span class="op">&gt;</span> { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">GetToplevel</span> { } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) . <span class="ident">unwrap</span> () } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;assign the xdg_popup surface role\n\nThis creates an xdg_popup object for the given xdg_surface and gives the\nassociated wl_surface the xdg_popup role.\n\nSee the documentation of xdg_popup for more details about what an\nxdg_popup is and how it is used.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">get_popup</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">parent</span> : <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">zxdg_surface_v6</span> :: <span class="ident">ZxdgSurfaceV6</span> , <span class="ident">positioner</span> : <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">zxdg_positioner_v6</span> :: <span class="ident">ZxdgPositionerV6</span>) -&gt; <span class="ident">Main</span> <span class="op">&lt;</span> <span class="kw">super</span> :: <span class="ident">zxdg_popup_v6</span> :: <span class="ident">ZxdgPopupV6</span> <span class="op">&gt;</span> { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">GetPopup</span> { <span class="ident">parent</span> : <span class="ident">parent</span> . <span class="ident">clone</span> () , <span class="ident">positioner</span> : <span class="ident">positioner</span> . <span class="ident">clone</span> () } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) . <span class="ident">unwrap</span> () } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set the new window geometry\n\nThe window geometry of a surface is its \&quot;visible bounds\&quot; from the\nuser&#39;s perspective. Client-side decorations often have invisible\nportions like drop-shadows which should be ignored for the\npurposes of aligning, placing and constraining windows.\n\nThe window geometry is double buffered, and will be applied at the\ntime wl_surface.commit of the corresponding wl_surface is called.\n\nOnce the window geometry of the surface is set, it is not possible to\nunset it, and it will remain the same until set_window_geometry is\ncalled again, even if a new subsurface or buffer is attached.\n\nIf never set, the value is the full bounds of the surface,\nincluding any subsurfaces. This updates dynamically on every\ncommit. This unset is meant for extremely simple clients.\n\nThe arguments are given in the surface-local coordinate space of\nthe wl_surface associated with this xdg_surface.\n\nThe width and height must be greater than zero. Setting an invalid size\nwill raise an error. When applied, the effective window geometry will be\nthe set window geometry clamped to the bounding rectangle of the\ncombined geometry of the surface of the xdg_surface and the associated\nsubsurfaces.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">set_window_geometry</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">x</span> : <span class="ident">i32</span> , <span class="ident">y</span> : <span class="ident">i32</span> , <span class="ident">width</span> : <span class="ident">i32</span> , <span class="ident">height</span> : <span class="ident">i32</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">SetWindowGeometry</span> { <span class="ident">x</span> : <span class="ident">x</span> , <span class="ident">y</span> : <span class="ident">y</span> , <span class="ident">width</span> : <span class="ident">width</span> , <span class="ident">height</span> : <span class="ident">height</span> } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;ack a configure event\n\nWhen a configure event is received, if a client commits the\nsurface in response to the configure event, then the client\nmust make an ack_configure request sometime before the commit\nrequest, passing along the serial of the configure event.\n\nFor instance, for toplevel surfaces the compositor might use this\ninformation to move a surface to the top left only when the client has\ndrawn itself for the maximized or fullscreen state.\n\nIf the client receives multiple configure events before it\ncan respond to one, it only has to ack the last configure event.\n\nA client is not required to commit immediately after sending\nan ack_configure request - it may even ack_configure several times\nbefore its next surface commit.\n\nA client may send multiple ack_configure requests before committing, but\nonly the last request sent before a commit indicates which configure\nevent the client really is responding to.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">ack_configure</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">serial</span> : <span class="ident">u32</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">AckConfigure</span> { <span class="ident">serial</span> : <span class="ident">serial</span> } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_DESTROY_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_GET_TOPLEVEL_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_GET_POPUP_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_SET_WINDOW_GEOMETRY_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_ACK_CONFIGURE_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this event&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">EVT_CONFIGURE_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_surface_v6_requests_get_toplevel_types</span> : [<span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> ; <span class="number">1</span>] <span class="op">=</span> [<span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">zxdg_toplevel_v6</span> :: <span class="ident">zxdg_toplevel_v6_interface</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> } ,] ; <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_surface_v6_requests_get_popup_types</span> : [<span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> ; <span class="number">3</span>] <span class="op">=</span> [<span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">zxdg_popup_v6</span> :: <span class="ident">zxdg_popup_v6_interface</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> } , <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">zxdg_surface_v6</span> :: <span class="ident">zxdg_surface_v6_interface</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> } , <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">zxdg_positioner_v6</span> :: <span class="ident">zxdg_positioner_v6_interface</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> } ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C-representation of the messages of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_surface_v6_requests</span> : [<span class="ident">wl_message</span> ; <span class="number">5</span>] <span class="op">=</span> [<span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;destroy\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;get_toplevel\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;n\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_surface_v6_requests_get_toplevel_types</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;get_popup\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;noo\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_surface_v6_requests_get_popup_types</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;set_window_geometry\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;iiii\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;ack_configure\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;u\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C-representation of the messages of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_surface_v6_events</span> : [<span class="ident">wl_message</span> ; <span class="number">1</span>] <span class="op">=</span> [<span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;configure\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;u\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C representation of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_surface_v6_interface</span> : <span class="ident">wl_interface</span> <span class="op">=</span> <span class="ident">wl_interface</span> { <span class="ident">name</span> : <span class="string">b&quot;zxdg_surface_v6\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">version</span> : <span class="number">1</span> , <span class="ident">request_count</span> : <span class="number">5</span> , <span class="ident">requests</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_surface_v6_requests</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , <span class="ident">event_count</span> : <span class="number">1</span> , <span class="ident">events</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_surface_v6_events</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;toplevel surface\n\nThis interface defines an xdg_surface role which allows a surface to,\namong other things, set window-like properties such as maximize,\nfullscreen, and minimize, set application-specific metadata like title and\nid, and well as trigger user interactive operations such as interactive\nresize and move.&quot;</span>] <span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">zxdg_toplevel_v6</span> { <span class="kw">use</span> <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_char</span> ; <span class="kw">use</span> <span class="kw">super</span> :: { <span class="ident">Proxy</span> , <span class="ident">AnonymousObject</span> , <span class="ident">Interface</span> , <span class="ident">MessageGroup</span> , <span class="ident">MessageDesc</span> , <span class="ident">ArgumentType</span> , <span class="ident">Object</span> , <span class="ident">Message</span> , <span class="ident">Argument</span> , <span class="ident">ObjectMetadata</span> , <span class="ident">types_null</span> , <span class="ident">NULLPTR</span> , <span class="ident">Main</span> , <span class="ident">smallvec</span> , } ; <span class="kw">use</span> <span class="kw">super</span> :: <span class="ident">sys</span> :: <span class="ident">common</span> :: { <span class="ident">wl_interface</span> , <span class="ident">wl_array</span> , <span class="ident">wl_argument</span> , <span class="ident">wl_message</span> } ; <span class="kw">use</span> <span class="kw">super</span> :: <span class="ident">sys</span> :: <span class="ident">client</span> :: <span class="op">*</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;edge values for resizing\n\nThese values are used to indicate which edge of a surface\nis being dragged in a resize operation.&quot;</span>] # [<span class="ident">repr</span> (<span class="ident">u32</span>)] # [<span class="ident">derive</span> (<span class="ident">Copy</span> , <span class="ident">Clone</span> , <span class="ident">Debug</span> , <span class="ident">PartialEq</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">ResizeEdge</span> { <span class="prelude-val">None</span> <span class="op">=</span> <span class="number">0</span> , <span class="ident">Top</span> <span class="op">=</span> <span class="number">1</span> , <span class="ident">Bottom</span> <span class="op">=</span> <span class="number">2</span> , <span class="ident">Left</span> <span class="op">=</span> <span class="number">4</span> , <span class="ident">TopLeft</span> <span class="op">=</span> <span class="number">5</span> , <span class="ident">BottomLeft</span> <span class="op">=</span> <span class="number">6</span> , <span class="ident">Right</span> <span class="op">=</span> <span class="number">8</span> , <span class="ident">TopRight</span> <span class="op">=</span> <span class="number">9</span> , <span class="ident">BottomRight</span> <span class="op">=</span> <span class="number">10</span> , } <span class="kw">impl</span> <span class="ident">ResizeEdge</span> { <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">n</span> : <span class="ident">u32</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">ResizeEdge</span> <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">n</span> { <span class="number">0</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">ResizeEdge</span> :: <span class="prelude-val">None</span>) , <span class="number">1</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">ResizeEdge</span> :: <span class="ident">Top</span>) , <span class="number">2</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">ResizeEdge</span> :: <span class="ident">Bottom</span>) , <span class="number">4</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">ResizeEdge</span> :: <span class="ident">Left</span>) , <span class="number">5</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">ResizeEdge</span> :: <span class="ident">TopLeft</span>) , <span class="number">6</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">ResizeEdge</span> :: <span class="ident">BottomLeft</span>) , <span class="number">8</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">ResizeEdge</span> :: <span class="ident">Right</span>) , <span class="number">9</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">ResizeEdge</span> :: <span class="ident">TopRight</span>) , <span class="number">10</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">ResizeEdge</span> :: <span class="ident">BottomRight</span>) , <span class="kw">_</span> =&gt; <span class="prelude-ty">Option</span> :: <span class="prelude-val">None</span> } } <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">to_raw</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="op">*</span> <span class="self">self</span> <span class="kw">as</span> <span class="ident">u32</span> } } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;types of state on the surface\n\nThe different state values used on the surface. This is designed for\nstate values like maximized, fullscreen. It is paired with the\nconfigure event to ensure that both the client and the compositor\nsetting the state can be synchronized.\n\nStates set in this way are double-buffered. They will get applied on\nthe next commit.&quot;</span>] # [<span class="ident">repr</span> (<span class="ident">u32</span>)] # [<span class="ident">derive</span> (<span class="ident">Copy</span> , <span class="ident">Clone</span> , <span class="ident">Debug</span> , <span class="ident">PartialEq</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">State</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;the surface is maximized\n\nThe surface is maximized. The window geometry specified in the configure\nevent must be obeyed by the client.&quot;</span>] <span class="ident">Maximized</span> <span class="op">=</span> <span class="number">1</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;the surface is fullscreen\n\nThe surface is fullscreen. The window geometry specified in the configure\nevent must be obeyed by the client.&quot;</span>] <span class="ident">Fullscreen</span> <span class="op">=</span> <span class="number">2</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;the surface is being resized\n\nThe surface is being resized. The window geometry specified in the\nconfigure event is a maximum; the client cannot resize beyond it.\nClients that have aspect ratio or cell sizing configuration can use\na smaller size, however.&quot;</span>] <span class="ident">Resizing</span> <span class="op">=</span> <span class="number">3</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;the surface is now activated\n\nClient window decorations should be painted as if the window is\nactive. Do not assume this means that the window actually has\nkeyboard or pointer focus.&quot;</span>] <span class="ident">Activated</span> <span class="op">=</span> <span class="number">4</span> , } <span class="kw">impl</span> <span class="ident">State</span> { <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">n</span> : <span class="ident">u32</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">State</span> <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">n</span> { <span class="number">1</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">State</span> :: <span class="ident">Maximized</span>) , <span class="number">2</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">State</span> :: <span class="ident">Fullscreen</span>) , <span class="number">3</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">State</span> :: <span class="ident">Resizing</span>) , <span class="number">4</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">State</span> :: <span class="ident">Activated</span>) , <span class="kw">_</span> =&gt; <span class="prelude-ty">Option</span> :: <span class="prelude-val">None</span> } } <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">to_raw</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="op">*</span> <span class="self">self</span> <span class="kw">as</span> <span class="ident">u32</span> } } # [<span class="ident">derive</span> (<span class="ident">Debug</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Request</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;destroy the xdg_toplevel\n\nUnmap and destroy the window. The window will be effectively\nhidden from the user&#39;s point of view, and all state like\nmaximization, fullscreen, and so on, will be lost.\n\nThis is a destructor, once sent this object cannot be used any longer.&quot;</span>] <span class="ident">Destroy</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set the parent of this surface\n\nSet the \&quot;parent\&quot; of this surface. This window should be stacked\nabove a parent. The parent surface must be mapped as long as this\nsurface is mapped.\n\nParent windows should be set on dialogs, toolboxes, or other\n\&quot;auxiliary\&quot; surfaces, so that the parent is raised when the dialog\nis raised.&quot;</span>] <span class="ident">SetParent</span> { <span class="ident">parent</span> : <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="kw">super</span> :: <span class="ident">zxdg_toplevel_v6</span> :: <span class="ident">ZxdgToplevelV6</span> <span class="op">&gt;</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set surface title\n\nSet a short title for the surface.\n\nThis string may be used to identify the surface in a task bar,\nwindow list, or other user interface elements provided by the\ncompositor.\n\nThe string must be encoded in UTF-8.&quot;</span>] <span class="ident">SetTitle</span> { <span class="ident">title</span> : <span class="ident">String</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set application ID\n\nSet an application identifier for the surface.\n\nThe app ID identifies the general class of applications to which\nthe surface belongs. The compositor can use this to group multiple\nsurfaces together, or to determine how to launch a new application.\n\nFor D-Bus activatable applications, the app ID is used as the D-Bus\nservice name.\n\nThe compositor shell will try to group application surfaces together\nby their app ID. As a best practice, it is suggested to select app\nID&#39;s that match the basename of the application&#39;s .desktop file.\nFor example, \&quot;org.freedesktop.FooViewer\&quot; where the .desktop file is\n\&quot;org.freedesktop.FooViewer.desktop\&quot;.\n\nSee the desktop-entry specification [0] for more details on\napplication identifiers and how they relate to well-known D-Bus\nnames and .desktop files.\n\n[0] http://standards.freedesktop.org/desktop-entry-spec/&quot;</span>] <span class="ident">SetAppId</span> { <span class="ident">app_id</span> : <span class="ident">String</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;show the window menu\n\nClients implementing client-side decorations might want to show\na context menu when right-clicking on the decorations, giving the\nuser a menu that they can use to maximize or minimize the window.\n\nThis request asks the compositor to pop up such a window menu at\nthe given position, relative to the local surface coordinates of\nthe parent surface. There are no guarantees as to what menu items\nthe window menu contains.\n\nThis request must be used in response to some sort of user action\nlike a button press, key press, or touch down event.&quot;</span>] <span class="ident">ShowWindowMenu</span> { <span class="ident">seat</span> : <span class="kw">super</span> :: <span class="ident">wl_seat</span> :: <span class="ident">WlSeat</span> , <span class="ident">serial</span> : <span class="ident">u32</span> , <span class="ident">x</span> : <span class="ident">i32</span> , <span class="ident">y</span> : <span class="ident">i32</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;start an interactive move\n\nStart an interactive, user-driven move of the surface.\n\nThis request must be used in response to some sort of user action\nlike a button press, key press, or touch down event. The passed\nserial is used to determine the type of interactive move (touch,\npointer, etc).\n\nThe server may ignore move requests depending on the state of\nthe surface (e.g. fullscreen or maximized), or if the passed serial\nis no longer valid.\n\nIf triggered, the surface will lose the focus of the device\n(wl_pointer, wl_touch, etc) used for the move. It is up to the\ncompositor to visually indicate that the move is taking place, such as\nupdating a pointer cursor, during the move. There is no guarantee\nthat the device focus will return when the move is completed.&quot;</span>] <span class="ident">Move</span> { <span class="ident">seat</span> : <span class="kw">super</span> :: <span class="ident">wl_seat</span> :: <span class="ident">WlSeat</span> , <span class="ident">serial</span> : <span class="ident">u32</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;start an interactive resize\n\nStart a user-driven, interactive resize of the surface.\n\nThis request must be used in response to some sort of user action\nlike a button press, key press, or touch down event. The passed\nserial is used to determine the type of interactive resize (touch,\npointer, etc).\n\nThe server may ignore resize requests depending on the state of\nthe surface (e.g. fullscreen or maximized).\n\nIf triggered, the client will receive configure events with the\n\&quot;resize\&quot; state enum value and the expected sizes. See the \&quot;resize\&quot;\nenum value for more details about what is required. The client\nmust also acknowledge configure events using \&quot;ack_configure\&quot;. After\nthe resize is completed, the client will receive another \&quot;configure\&quot;\nevent without the resize state.\n\nIf triggered, the surface also will lose the focus of the device\n(wl_pointer, wl_touch, etc) used for the resize. It is up to the\ncompositor to visually indicate that the resize is taking place,\nsuch as updating a pointer cursor, during the resize. There is no\nguarantee that the device focus will return when the resize is\ncompleted.\n\nThe edges parameter specifies how the surface should be resized,\nand is one of the values of the resize_edge enum. The compositor\nmay use this information to update the surface position for\nexample when dragging the top left corner. The compositor may also\nuse this information to adapt its behavior, e.g. choose an\nappropriate cursor image.&quot;</span>] <span class="ident">Resize</span> { <span class="ident">seat</span> : <span class="kw">super</span> :: <span class="ident">wl_seat</span> :: <span class="ident">WlSeat</span> , <span class="ident">serial</span> : <span class="ident">u32</span> , <span class="ident">edges</span> : <span class="ident">u32</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set the maximum size\n\nSet a maximum size for the window.\n\nThe client can specify a maximum size so that the compositor does\nnot try to configure the window beyond this size.\n\nThe width and height arguments are in window geometry coordinates.\nSee xdg_surface.set_window_geometry.\n\nValues set in this way are double-buffered. They will get applied\non the next commit.\n\nThe compositor can use this information to allow or disallow\ndifferent states like maximize or fullscreen and draw accurate\nanimations.\n\nSimilarly, a tiling window manager may use this information to\nplace and resize client windows in a more effective way.\n\nThe client should not rely on the compositor to obey the maximum\nsize. The compositor may decide to ignore the values set by the\nclient and request a larger size.\n\nIf never set, or a value of zero in the request, means that the\nclient has no expected maximum size in the given dimension.\nAs a result, a client wishing to reset the maximum size\nto an unspecified state can use zero for width and height in the\nrequest.\n\nRequesting a maximum size to be smaller than the minimum size of\na surface is illegal and will result in a protocol error.\n\nThe width and height must be greater than or equal to zero. Using\nstrictly negative values for width and height will result in a\nprotocol error.&quot;</span>] <span class="ident">SetMaxSize</span> { <span class="ident">width</span> : <span class="ident">i32</span> , <span class="ident">height</span> : <span class="ident">i32</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set the minimum size\n\nSet a minimum size for the window.\n\nThe client can specify a minimum size so that the compositor does\nnot try to configure the window below this size.\n\nThe width and height arguments are in window geometry coordinates.\nSee xdg_surface.set_window_geometry.\n\nValues set in this way are double-buffered. They will get applied\non the next commit.\n\nThe compositor can use this information to allow or disallow\ndifferent states like maximize or fullscreen and draw accurate\nanimations.\n\nSimilarly, a tiling window manager may use this information to\nplace and resize client windows in a more effective way.\n\nThe client should not rely on the compositor to obey the minimum\nsize. The compositor may decide to ignore the values set by the\nclient and request a smaller size.\n\nIf never set, or a value of zero in the request, means that the\nclient has no expected minimum size in the given dimension.\nAs a result, a client wishing to reset the minimum size\nto an unspecified state can use zero for width and height in the\nrequest.\n\nRequesting a minimum size to be larger than the maximum size of\na surface is illegal and will result in a protocol error.\n\nThe width and height must be greater than or equal to zero. Using\nstrictly negative values for width and height will result in a\nprotocol error.&quot;</span>] <span class="ident">SetMinSize</span> { <span class="ident">width</span> : <span class="ident">i32</span> , <span class="ident">height</span> : <span class="ident">i32</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;maximize the window\n\nMaximize the surface.\n\nAfter requesting that the surface should be maximized, the compositor\nwill respond by emitting a configure event with the \&quot;maximized\&quot; state\nand the required window geometry. The client should then update its\ncontent, drawing it in a maximized state, i.e. without shadow or other\ndecoration outside of the window geometry. The client must also\nacknowledge the configure when committing the new content (see\nack_configure).\n\nIt is up to the compositor to decide how and where to maximize the\nsurface, for example which output and what region of the screen should\nbe used.\n\nIf the surface was already maximized, the compositor will still emit\na configure event with the \&quot;maximized\&quot; state.&quot;</span>] <span class="ident">SetMaximized</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;unmaximize the window\n\nUnmaximize the surface.\n\nAfter requesting that the surface should be unmaximized, the compositor\nwill respond by emitting a configure event without the \&quot;maximized\&quot;\nstate. If available, the compositor will include the window geometry\ndimensions the window had prior to being maximized in the configure\nrequest. The client must then update its content, drawing it in a\nregular state, i.e. potentially with shadow, etc. The client must also\nacknowledge the configure when committing the new content (see\nack_configure).\n\nIt is up to the compositor to position the surface after it was\nunmaximized; usually the position the surface had before maximizing, if\napplicable.\n\nIf the surface was already not maximized, the compositor will still\nemit a configure event without the \&quot;maximized\&quot; state.&quot;</span>] <span class="ident">UnsetMaximized</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set the window as fullscreen on a monitor\n\nMake the surface fullscreen.\n\nYou can specify an output that you would prefer to be fullscreen.\nIf this value is NULL, it&#39;s up to the compositor to choose which\ndisplay will be used to map this surface.\n\nIf the surface doesn&#39;t cover the whole output, the compositor will\nposition the surface in the center of the output and compensate with\nblack borders filling the rest of the output.&quot;</span>] <span class="ident">SetFullscreen</span> { <span class="ident">output</span> : <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="kw">super</span> :: <span class="ident">wl_output</span> :: <span class="ident">WlOutput</span> <span class="op">&gt;</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;&quot;</span>] <span class="ident">UnsetFullscreen</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set the window as minimized\n\nRequest that the compositor minimize your surface. There is no\nway to know if the surface is currently minimized, nor is there\nany way to unset minimization on this surface.\n\nIf you are looking to throttle redrawing when minimized, please\ninstead use the wl_surface.frame event for this, as this will\nalso work with live previews on windows in Alt-Tab, Expose or\nsimilar compositor features.&quot;</span>] <span class="ident">SetMinimized</span> , } <span class="kw">impl</span> <span class="kw">super</span> :: <span class="ident">MessageGroup</span> <span class="kw">for</span> <span class="ident">Request</span> { <span class="kw">const</span> <span class="ident">MESSAGES</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span>] <span class="op">=</span> <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;destroy&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [] , <span class="ident">destructor</span> : <span class="bool-val">true</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;set_parent&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Object</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;set_title&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Str</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;set_app_id&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Str</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;show_window_menu&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Object</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Uint</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;move&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Object</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Uint</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;resize&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Object</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Uint</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Uint</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;set_max_size&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;set_min_size&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;set_maximized&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;unset_maximized&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;set_fullscreen&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Object</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;unset_fullscreen&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;set_minimized&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } ,] ; <span class="kw">type</span> <span class="ident">Map</span> <span class="op">=</span> <span class="kw">super</span> :: <span class="ident">ProxyMap</span> ; <span class="kw">fn</span> <span class="ident">is_destructor</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">bool</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="bool-val">true</span> , <span class="kw">_</span> =&gt; <span class="bool-val">false</span> , } } <span class="kw">fn</span> <span class="ident">opcode</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u16</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="number">0</span> , <span class="ident">Request</span> :: <span class="ident">SetParent</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">SetTitle</span> { .. } =&gt; <span class="number">2</span> , <span class="ident">Request</span> :: <span class="ident">SetAppId</span> { .. } =&gt; <span class="number">3</span> , <span class="ident">Request</span> :: <span class="ident">ShowWindowMenu</span> { .. } =&gt; <span class="number">4</span> , <span class="ident">Request</span> :: <span class="ident">Move</span> { .. } =&gt; <span class="number">5</span> , <span class="ident">Request</span> :: <span class="ident">Resize</span> { .. } =&gt; <span class="number">6</span> , <span class="ident">Request</span> :: <span class="ident">SetMaxSize</span> { .. } =&gt; <span class="number">7</span> , <span class="ident">Request</span> :: <span class="ident">SetMinSize</span> { .. } =&gt; <span class="number">8</span> , <span class="ident">Request</span> :: <span class="ident">SetMaximized</span> =&gt; <span class="number">9</span> , <span class="ident">Request</span> :: <span class="ident">UnsetMaximized</span> =&gt; <span class="number">10</span> , <span class="ident">Request</span> :: <span class="ident">SetFullscreen</span> { .. } =&gt; <span class="number">11</span> , <span class="ident">Request</span> :: <span class="ident">UnsetFullscreen</span> =&gt; <span class="number">12</span> , <span class="ident">Request</span> :: <span class="ident">SetMinimized</span> =&gt; <span class="number">13</span> , } } <span class="kw">fn</span> <span class="ident">since</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">SetParent</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">SetTitle</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">SetAppId</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">ShowWindowMenu</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">Move</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">Resize</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">SetMaxSize</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">SetMinSize</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">SetMaximized</span> =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">UnsetMaximized</span> =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">SetFullscreen</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">UnsetFullscreen</span> =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">SetMinimized</span> =&gt; <span class="number">1</span> , } } <span class="kw">fn</span> <span class="ident">child</span> <span class="op">&lt;</span> <span class="ident">Meta</span> : <span class="ident">ObjectMetadata</span> <span class="op">&gt;</span> (<span class="ident">opcode</span> : <span class="ident">u16</span> , <span class="ident">version</span> : <span class="ident">u32</span> , <span class="ident">meta</span> : <span class="op">&amp;</span> <span class="ident">Meta</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Object</span> <span class="op">&lt;</span> <span class="ident">Meta</span> <span class="op">&gt;</span><span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="kw">_</span> =&gt; <span class="prelude-val">None</span> , } } <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">msg</span> : <span class="ident">Message</span> , <span class="ident">map</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="self">Self</span> :: <span class="ident">Map</span>) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="self">Self</span> , () <span class="op">&gt;</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Request::from_raw can not be used Client-side.&quot;</span>) } <span class="kw">fn</span> <span class="ident">into_raw</span> (<span class="self">self</span> , <span class="ident">sender_id</span> : <span class="ident">u32</span>) -&gt; <span class="ident">Message</span> { <span class="kw">match</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">0</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [] , } , <span class="ident">Request</span> :: <span class="ident">SetParent</span> { <span class="ident">parent</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">1</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Object</span> (<span class="ident">parent</span> . <span class="ident">map</span> (<span class="op">|</span> <span class="ident">o</span> <span class="op">|</span> <span class="ident">o</span> . <span class="ident">as_ref</span> () . <span class="ident">id</span> ()) . <span class="ident">unwrap_or</span> (<span class="number">0</span>)) ,] , } , <span class="ident">Request</span> :: <span class="ident">SetTitle</span> { <span class="ident">title</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">2</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Str</span> (<span class="ident">Box</span> :: <span class="ident">new</span> (<span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">ffi</span> :: <span class="ident">CString</span> :: <span class="ident">from_vec_unchecked</span> (<span class="ident">title</span> . <span class="ident">into</span> ()) })) ,] , } , <span class="ident">Request</span> :: <span class="ident">SetAppId</span> { <span class="ident">app_id</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">3</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Str</span> (<span class="ident">Box</span> :: <span class="ident">new</span> (<span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">ffi</span> :: <span class="ident">CString</span> :: <span class="ident">from_vec_unchecked</span> (<span class="ident">app_id</span> . <span class="ident">into</span> ()) })) ,] , } , <span class="ident">Request</span> :: <span class="ident">ShowWindowMenu</span> { <span class="ident">seat</span> , <span class="ident">serial</span> , <span class="ident">x</span> , <span class="ident">y</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">4</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Object</span> (<span class="ident">seat</span> . <span class="ident">as_ref</span> () . <span class="ident">id</span> ()) , <span class="ident">Argument</span> :: <span class="ident">Uint</span> (<span class="ident">serial</span>) , <span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">x</span>) , <span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">y</span>) ,] , } , <span class="ident">Request</span> :: <span class="ident">Move</span> { <span class="ident">seat</span> , <span class="ident">serial</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">5</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Object</span> (<span class="ident">seat</span> . <span class="ident">as_ref</span> () . <span class="ident">id</span> ()) , <span class="ident">Argument</span> :: <span class="ident">Uint</span> (<span class="ident">serial</span>) ,] , } , <span class="ident">Request</span> :: <span class="ident">Resize</span> { <span class="ident">seat</span> , <span class="ident">serial</span> , <span class="ident">edges</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">6</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Object</span> (<span class="ident">seat</span> . <span class="ident">as_ref</span> () . <span class="ident">id</span> ()) , <span class="ident">Argument</span> :: <span class="ident">Uint</span> (<span class="ident">serial</span>) , <span class="ident">Argument</span> :: <span class="ident">Uint</span> (<span class="ident">edges</span>) ,] , } , <span class="ident">Request</span> :: <span class="ident">SetMaxSize</span> { <span class="ident">width</span> , <span class="ident">height</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">7</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">width</span>) , <span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">height</span>) ,] , } , <span class="ident">Request</span> :: <span class="ident">SetMinSize</span> { <span class="ident">width</span> , <span class="ident">height</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">8</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">width</span>) , <span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">height</span>) ,] , } , <span class="ident">Request</span> :: <span class="ident">SetMaximized</span> =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">9</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [] , } , <span class="ident">Request</span> :: <span class="ident">UnsetMaximized</span> =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">10</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [] , } , <span class="ident">Request</span> :: <span class="ident">SetFullscreen</span> { <span class="ident">output</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">11</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Object</span> (<span class="ident">output</span> . <span class="ident">map</span> (<span class="op">|</span> <span class="ident">o</span> <span class="op">|</span> <span class="ident">o</span> . <span class="ident">as_ref</span> () . <span class="ident">id</span> ()) . <span class="ident">unwrap_or</span> (<span class="number">0</span>)) ,] , } , <span class="ident">Request</span> :: <span class="ident">UnsetFullscreen</span> =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">12</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [] , } , <span class="ident">Request</span> :: <span class="ident">SetMinimized</span> =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">13</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [] , } , } } <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">from_raw_c</span> (<span class="ident">obj</span> : <span class="op">*</span> <span class="kw-2">mut</span> :: <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_void</span> , <span class="ident">opcode</span> : <span class="ident">u32</span> , <span class="ident">args</span> : <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_argument</span> ,) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="ident">Request</span> , () <span class="op">&gt;</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Request::from_raw_c can not be used Client-side.&quot;</span>) } <span class="kw">fn</span> <span class="ident">as_raw_c_in</span> <span class="op">&lt;</span> <span class="ident">F</span> , <span class="ident">T</span> <span class="op">&gt;</span> (<span class="self">self</span> , <span class="ident">f</span> : <span class="ident">F</span>) -&gt; <span class="ident">T</span> <span class="kw">where</span> <span class="ident">F</span> : <span class="ident">FnOnce</span> (<span class="ident">u32</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> [<span class="ident">wl_argument</span>]) -&gt; <span class="ident">T</span> { <span class="kw">match</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">0</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">f</span> (<span class="number">0</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">SetParent</span> { <span class="ident">parent</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">1</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">o</span> <span class="op">=</span> <span class="ident">parent</span> . <span class="ident">map</span> (<span class="op">|</span> <span class="ident">o</span> <span class="op">|</span> <span class="ident">o</span> . <span class="ident">as_ref</span> () . <span class="ident">c_ptr</span> () <span class="kw">as</span> <span class="op">*</span> <span class="kw-2">mut</span> <span class="kw">_</span>) . <span class="ident">unwrap_or</span> (:: <span class="ident">std</span> :: <span class="ident">ptr</span> :: <span class="ident">null_mut</span> ()) ; <span class="ident">f</span> (<span class="number">1</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">SetTitle</span> { <span class="ident">title</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">1</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="kw">let</span> <span class="ident">_arg_0</span> <span class="op">=</span> :: <span class="ident">std</span> :: <span class="ident">ffi</span> :: <span class="ident">CString</span> :: <span class="ident">new</span> (<span class="ident">title</span>) . <span class="ident">unwrap</span> () ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">s</span> <span class="op">=</span> <span class="ident">_arg_0</span> . <span class="ident">as_ptr</span> () ; <span class="ident">f</span> (<span class="number">2</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">SetAppId</span> { <span class="ident">app_id</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">1</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="kw">let</span> <span class="ident">_arg_0</span> <span class="op">=</span> :: <span class="ident">std</span> :: <span class="ident">ffi</span> :: <span class="ident">CString</span> :: <span class="ident">new</span> (<span class="ident">app_id</span>) . <span class="ident">unwrap</span> () ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">s</span> <span class="op">=</span> <span class="ident">_arg_0</span> . <span class="ident">as_ptr</span> () ; <span class="ident">f</span> (<span class="number">3</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">ShowWindowMenu</span> { <span class="ident">seat</span> , <span class="ident">serial</span> , <span class="ident">x</span> , <span class="ident">y</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">4</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">o</span> <span class="op">=</span> <span class="ident">seat</span> . <span class="ident">as_ref</span> () . <span class="ident">c_ptr</span> () <span class="kw">as</span> <span class="op">*</span> <span class="kw-2">mut</span> <span class="kw">_</span> ; <span class="ident">_args_array</span> [<span class="number">1</span>] . <span class="ident">u</span> <span class="op">=</span> <span class="ident">serial</span> ; <span class="ident">_args_array</span> [<span class="number">2</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">x</span> ; <span class="ident">_args_array</span> [<span class="number">3</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">y</span> ; <span class="ident">f</span> (<span class="number">4</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">Move</span> { <span class="ident">seat</span> , <span class="ident">serial</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">2</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">o</span> <span class="op">=</span> <span class="ident">seat</span> . <span class="ident">as_ref</span> () . <span class="ident">c_ptr</span> () <span class="kw">as</span> <span class="op">*</span> <span class="kw-2">mut</span> <span class="kw">_</span> ; <span class="ident">_args_array</span> [<span class="number">1</span>] . <span class="ident">u</span> <span class="op">=</span> <span class="ident">serial</span> ; <span class="ident">f</span> (<span class="number">5</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">Resize</span> { <span class="ident">seat</span> , <span class="ident">serial</span> , <span class="ident">edges</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">3</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">o</span> <span class="op">=</span> <span class="ident">seat</span> . <span class="ident">as_ref</span> () . <span class="ident">c_ptr</span> () <span class="kw">as</span> <span class="op">*</span> <span class="kw-2">mut</span> <span class="kw">_</span> ; <span class="ident">_args_array</span> [<span class="number">1</span>] . <span class="ident">u</span> <span class="op">=</span> <span class="ident">serial</span> ; <span class="ident">_args_array</span> [<span class="number">2</span>] . <span class="ident">u</span> <span class="op">=</span> <span class="ident">edges</span> ; <span class="ident">f</span> (<span class="number">6</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">SetMaxSize</span> { <span class="ident">width</span> , <span class="ident">height</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">2</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">width</span> ; <span class="ident">_args_array</span> [<span class="number">1</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">height</span> ; <span class="ident">f</span> (<span class="number">7</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">SetMinSize</span> { <span class="ident">width</span> , <span class="ident">height</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">2</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">width</span> ; <span class="ident">_args_array</span> [<span class="number">1</span>] . <span class="ident">i</span> <span class="op">=</span> <span class="ident">height</span> ; <span class="ident">f</span> (<span class="number">8</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">SetMaximized</span> =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">0</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">f</span> (<span class="number">9</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">UnsetMaximized</span> =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">0</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">f</span> (<span class="number">10</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">SetFullscreen</span> { <span class="ident">output</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">1</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">o</span> <span class="op">=</span> <span class="ident">output</span> . <span class="ident">map</span> (<span class="op">|</span> <span class="ident">o</span> <span class="op">|</span> <span class="ident">o</span> . <span class="ident">as_ref</span> () . <span class="ident">c_ptr</span> () <span class="kw">as</span> <span class="op">*</span> <span class="kw-2">mut</span> <span class="kw">_</span>) . <span class="ident">unwrap_or</span> (:: <span class="ident">std</span> :: <span class="ident">ptr</span> :: <span class="ident">null_mut</span> ()) ; <span class="ident">f</span> (<span class="number">11</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">UnsetFullscreen</span> =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">0</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">f</span> (<span class="number">12</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">SetMinimized</span> =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">0</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">f</span> (<span class="number">13</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , } } } # [<span class="ident">derive</span> (<span class="ident">Debug</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Event</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;suggest a surface change\n\nThis configure event asks the client to resize its toplevel surface or\nto change its state. The configured state should not be applied\nimmediately. See xdg_surface.configure for details.\n\nThe width and height arguments specify a hint to the window\nabout how its surface should be resized in window geometry\ncoordinates. See set_window_geometry.\n\nIf the width or height arguments are zero, it means the client\nshould decide its own window dimension. This may happen when the\ncompositor needs to configure the state of the surface but doesn&#39;t\nhave any information about any previous or expected dimension.\n\nThe states listed in the event specify how the width/height\narguments should be interpreted, and possibly how it should be\ndrawn.\n\nClients must send an ack_configure in response to this event. See\nxdg_surface.configure and xdg_surface.ack_configure for details.&quot;</span>] <span class="ident">Configure</span> { <span class="ident">width</span> : <span class="ident">i32</span> , <span class="ident">height</span> : <span class="ident">i32</span> , <span class="ident">states</span> : <span class="ident">Vec</span> <span class="op">&lt;</span> <span class="ident">u8</span> <span class="op">&gt;</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;surface wants to be closed\n\nThe close event is sent by the compositor when the user\nwants the surface to be closed. This should be equivalent to\nthe user clicking the close button in client-side decorations,\nif your application has any.\n\nThis is only a request that the user intends to close the\nwindow. The client may choose to ignore this request, or show\na dialog to ask the user to save their data, etc.&quot;</span>] <span class="ident">Close</span> , } <span class="kw">impl</span> <span class="kw">super</span> :: <span class="ident">MessageGroup</span> <span class="kw">for</span> <span class="ident">Event</span> { <span class="kw">const</span> <span class="ident">MESSAGES</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span>] <span class="op">=</span> <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;configure&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Array</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;close&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } ,] ; <span class="kw">type</span> <span class="ident">Map</span> <span class="op">=</span> <span class="kw">super</span> :: <span class="ident">ProxyMap</span> ; <span class="kw">fn</span> <span class="ident">is_destructor</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">bool</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="kw">_</span> =&gt; <span class="bool-val">false</span> , } } <span class="kw">fn</span> <span class="ident">opcode</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u16</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Event</span> :: <span class="ident">Configure</span> { .. } =&gt; <span class="number">0</span> , <span class="ident">Event</span> :: <span class="ident">Close</span> =&gt; <span class="number">1</span> , } } <span class="kw">fn</span> <span class="ident">since</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Event</span> :: <span class="ident">Configure</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Event</span> :: <span class="ident">Close</span> =&gt; <span class="number">1</span> , } } <span class="kw">fn</span> <span class="ident">child</span> <span class="op">&lt;</span> <span class="ident">Meta</span> : <span class="ident">ObjectMetadata</span> <span class="op">&gt;</span> (<span class="ident">opcode</span> : <span class="ident">u16</span> , <span class="ident">version</span> : <span class="ident">u32</span> , <span class="ident">meta</span> : <span class="op">&amp;</span> <span class="ident">Meta</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Object</span> <span class="op">&lt;</span> <span class="ident">Meta</span> <span class="op">&gt;</span><span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="kw">_</span> =&gt; <span class="prelude-val">None</span> , } } <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">msg</span> : <span class="ident">Message</span> , <span class="ident">map</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="self">Self</span> :: <span class="ident">Map</span>) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="self">Self</span> , () <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">msg</span> . <span class="ident">opcode</span> { <span class="number">0</span> =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">args</span> <span class="op">=</span> <span class="ident">msg</span> . <span class="ident">args</span> . <span class="ident">into_iter</span> () ; <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">Configure</span> { <span class="ident">width</span> : { <span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Some</span> (<span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">val</span>)) <span class="op">=</span> <span class="ident">args</span> . <span class="ident">next</span> () { <span class="ident">val</span> } <span class="kw">else</span> { <span class="kw">return</span> <span class="prelude-val">Err</span> (()) ; } } , <span class="ident">height</span> : { <span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Some</span> (<span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">val</span>)) <span class="op">=</span> <span class="ident">args</span> . <span class="ident">next</span> () { <span class="ident">val</span> } <span class="kw">else</span> { <span class="kw">return</span> <span class="prelude-val">Err</span> (()) ; } } , <span class="ident">states</span> : { <span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Some</span> (<span class="ident">Argument</span> :: <span class="ident">Array</span> (<span class="ident">val</span>)) <span class="op">=</span> <span class="ident">args</span> . <span class="ident">next</span> () { <span class="op">*</span> <span class="ident">val</span> } <span class="kw">else</span> { <span class="kw">return</span> <span class="prelude-val">Err</span> (()) ; } } , }) } , <span class="number">1</span> =&gt; <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">Close</span>) , <span class="kw">_</span> =&gt; <span class="prelude-val">Err</span> (()) , } } <span class="kw">fn</span> <span class="ident">into_raw</span> (<span class="self">self</span> , <span class="ident">sender_id</span> : <span class="ident">u32</span>) -&gt; <span class="ident">Message</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Event::into_raw can not be used Client-side.&quot;</span>) } <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">from_raw_c</span> (<span class="ident">obj</span> : <span class="op">*</span> <span class="kw-2">mut</span> :: <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_void</span> , <span class="ident">opcode</span> : <span class="ident">u32</span> , <span class="ident">args</span> : <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_argument</span> ,) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="ident">Event</span> , () <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="number">0</span> =&gt; { <span class="kw">let</span> <span class="ident">_args</span> <span class="op">=</span> :: <span class="ident">std</span> :: <span class="ident">slice</span> :: <span class="ident">from_raw_parts</span> (<span class="ident">args</span> , <span class="number">3</span>) ; <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">Configure</span> { <span class="ident">width</span> : <span class="ident">_args</span> [<span class="number">0</span>] . <span class="ident">i</span> , <span class="ident">height</span> : <span class="ident">_args</span> [<span class="number">1</span>] . <span class="ident">i</span> , <span class="ident">states</span> : { <span class="kw">let</span> <span class="ident">array</span> <span class="op">=</span> <span class="op">&amp;</span> <span class="op">*</span> <span class="ident">_args</span> [<span class="number">2</span>] . <span class="ident">a</span> ; :: <span class="ident">std</span> :: <span class="ident">slice</span> :: <span class="ident">from_raw_parts</span> (<span class="ident">array</span> . <span class="ident">data</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> , <span class="ident">array</span> . <span class="ident">size</span>) . <span class="ident">to_owned</span> () } , }) } , <span class="number">1</span> =&gt; { <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">Close</span>) } , <span class="kw">_</span> =&gt; <span class="kw">return</span> <span class="prelude-val">Err</span> (()) , } } <span class="kw">fn</span> <span class="ident">as_raw_c_in</span> <span class="op">&lt;</span> <span class="ident">F</span> , <span class="ident">T</span> <span class="op">&gt;</span> (<span class="self">self</span> , <span class="ident">f</span> : <span class="ident">F</span>) -&gt; <span class="ident">T</span> <span class="kw">where</span> <span class="ident">F</span> : <span class="ident">FnOnce</span> (<span class="ident">u32</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> [<span class="ident">wl_argument</span>]) -&gt; <span class="ident">T</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Event::as_raw_c_in can not be used Client-side.&quot;</span>) } } # [<span class="ident">derive</span> (<span class="ident">Clone</span> , <span class="ident">Eq</span> , <span class="ident">PartialEq</span>)] <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">ZxdgToplevelV6</span> (<span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgToplevelV6</span> <span class="op">&gt;</span>) ; <span class="kw">impl</span> <span class="ident">AsRef</span> <span class="op">&lt;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgToplevelV6</span> <span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">ZxdgToplevelV6</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">as_ref</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="op">&amp;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="self">Self</span> <span class="op">&gt;</span> { <span class="op">&amp;</span> <span class="self">self</span> . <span class="number">0</span> } } <span class="kw">impl</span> <span class="ident">From</span> <span class="op">&lt;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgToplevelV6</span> <span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">ZxdgToplevelV6</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">from</span> (<span class="ident">value</span> : <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="self">Self</span> <span class="op">&gt;</span>) -&gt; <span class="self">Self</span> { <span class="ident">ZxdgToplevelV6</span> (<span class="ident">value</span>) } } <span class="kw">impl</span> <span class="ident">From</span> <span class="op">&lt;</span> <span class="ident">ZxdgToplevelV6</span> <span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgToplevelV6</span> <span class="op">&gt;</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">from</span> (<span class="ident">value</span> : <span class="ident">ZxdgToplevelV6</span>) -&gt; <span class="self">Self</span> { <span class="ident">value</span> . <span class="number">0</span> } } <span class="kw">impl</span> <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="ident">Debug</span> <span class="kw">for</span> <span class="ident">ZxdgToplevelV6</span> { <span class="kw">fn</span> <span class="ident">fmt</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">f</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="ident">Formatter</span> <span class="op">&lt;</span> <span class="lifetime">&#39;_</span> <span class="op">&gt;</span>) -&gt; <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="prelude-ty">Result</span> { <span class="ident">f</span> . <span class="ident">write_fmt</span> (<span class="ident">format_args</span> <span class="op">!</span> (<span class="string">&quot;{:?}&quot;</span> , <span class="self">self</span> . <span class="number">0</span>)) } } <span class="kw">impl</span> <span class="ident">Interface</span> <span class="kw">for</span> <span class="ident">ZxdgToplevelV6</span> { <span class="kw">type</span> <span class="ident">Request</span> <span class="op">=</span> <span class="ident">Request</span> ; <span class="kw">type</span> <span class="ident">Event</span> <span class="op">=</span> <span class="ident">Event</span> ; <span class="kw">const</span> <span class="ident">NAME</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> <span class="ident">str</span> <span class="op">=</span> <span class="string">&quot;zxdg_toplevel_v6&quot;</span> ; <span class="kw">const</span> <span class="ident">VERSION</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1</span> ; <span class="kw">fn</span> <span class="ident">c_interface</span> () -&gt; <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> { <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_toplevel_v6_interface</span> } } } <span class="kw">impl</span> <span class="ident">ZxdgToplevelV6</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;destroy the xdg_toplevel\n\nUnmap and destroy the window. The window will be effectively\nhidden from the user&#39;s point of view, and all state like\nmaximization, fullscreen, and so on, will be lost.\n\nThis is a destructor, you cannot send requests to this object any longer once this method is called.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">destroy</span> (<span class="op">&amp;</span> <span class="self">self</span> ,) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">Destroy</span> ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set the parent of this surface\n\nSet the \&quot;parent\&quot; of this surface. This window should be stacked\nabove a parent. The parent surface must be mapped as long as this\nsurface is mapped.\n\nParent windows should be set on dialogs, toolboxes, or other\n\&quot;auxiliary\&quot; surfaces, so that the parent is raised when the dialog\nis raised.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">set_parent</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">parent</span> : <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">zxdg_toplevel_v6</span> :: <span class="ident">ZxdgToplevelV6</span> <span class="op">&gt;</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">SetParent</span> { <span class="ident">parent</span> : <span class="ident">parent</span> . <span class="ident">map</span> (<span class="op">|</span> <span class="ident">o</span> <span class="op">|</span> <span class="ident">o</span> . <span class="ident">clone</span> ()) } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set surface title\n\nSet a short title for the surface.\n\nThis string may be used to identify the surface in a task bar,\nwindow list, or other user interface elements provided by the\ncompositor.\n\nThe string must be encoded in UTF-8.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">set_title</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">title</span> : <span class="ident">String</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">SetTitle</span> { <span class="ident">title</span> : <span class="ident">title</span> } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set application ID\n\nSet an application identifier for the surface.\n\nThe app ID identifies the general class of applications to which\nthe surface belongs. The compositor can use this to group multiple\nsurfaces together, or to determine how to launch a new application.\n\nFor D-Bus activatable applications, the app ID is used as the D-Bus\nservice name.\n\nThe compositor shell will try to group application surfaces together\nby their app ID. As a best practice, it is suggested to select app\nID&#39;s that match the basename of the application&#39;s .desktop file.\nFor example, \&quot;org.freedesktop.FooViewer\&quot; where the .desktop file is\n\&quot;org.freedesktop.FooViewer.desktop\&quot;.\n\nSee the desktop-entry specification [0] for more details on\napplication identifiers and how they relate to well-known D-Bus\nnames and .desktop files.\n\n[0] http://standards.freedesktop.org/desktop-entry-spec/&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">set_app_id</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">app_id</span> : <span class="ident">String</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">SetAppId</span> { <span class="ident">app_id</span> : <span class="ident">app_id</span> } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;show the window menu\n\nClients implementing client-side decorations might want to show\na context menu when right-clicking on the decorations, giving the\nuser a menu that they can use to maximize or minimize the window.\n\nThis request asks the compositor to pop up such a window menu at\nthe given position, relative to the local surface coordinates of\nthe parent surface. There are no guarantees as to what menu items\nthe window menu contains.\n\nThis request must be used in response to some sort of user action\nlike a button press, key press, or touch down event.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">show_window_menu</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">seat</span> : <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_seat</span> :: <span class="ident">WlSeat</span> , <span class="ident">serial</span> : <span class="ident">u32</span> , <span class="ident">x</span> : <span class="ident">i32</span> , <span class="ident">y</span> : <span class="ident">i32</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">ShowWindowMenu</span> { <span class="ident">seat</span> : <span class="ident">seat</span> . <span class="ident">clone</span> () , <span class="ident">serial</span> : <span class="ident">serial</span> , <span class="ident">x</span> : <span class="ident">x</span> , <span class="ident">y</span> : <span class="ident">y</span> } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;start an interactive move\n\nStart an interactive, user-driven move of the surface.\n\nThis request must be used in response to some sort of user action\nlike a button press, key press, or touch down event. The passed\nserial is used to determine the type of interactive move (touch,\npointer, etc).\n\nThe server may ignore move requests depending on the state of\nthe surface (e.g. fullscreen or maximized), or if the passed serial\nis no longer valid.\n\nIf triggered, the surface will lose the focus of the device\n(wl_pointer, wl_touch, etc) used for the move. It is up to the\ncompositor to visually indicate that the move is taking place, such as\nupdating a pointer cursor, during the move. There is no guarantee\nthat the device focus will return when the move is completed.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">_move</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">seat</span> : <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_seat</span> :: <span class="ident">WlSeat</span> , <span class="ident">serial</span> : <span class="ident">u32</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">Move</span> { <span class="ident">seat</span> : <span class="ident">seat</span> . <span class="ident">clone</span> () , <span class="ident">serial</span> : <span class="ident">serial</span> } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;start an interactive resize\n\nStart a user-driven, interactive resize of the surface.\n\nThis request must be used in response to some sort of user action\nlike a button press, key press, or touch down event. The passed\nserial is used to determine the type of interactive resize (touch,\npointer, etc).\n\nThe server may ignore resize requests depending on the state of\nthe surface (e.g. fullscreen or maximized).\n\nIf triggered, the client will receive configure events with the\n\&quot;resize\&quot; state enum value and the expected sizes. See the \&quot;resize\&quot;\nenum value for more details about what is required. The client\nmust also acknowledge configure events using \&quot;ack_configure\&quot;. After\nthe resize is completed, the client will receive another \&quot;configure\&quot;\nevent without the resize state.\n\nIf triggered, the surface also will lose the focus of the device\n(wl_pointer, wl_touch, etc) used for the resize. It is up to the\ncompositor to visually indicate that the resize is taking place,\nsuch as updating a pointer cursor, during the resize. There is no\nguarantee that the device focus will return when the resize is\ncompleted.\n\nThe edges parameter specifies how the surface should be resized,\nand is one of the values of the resize_edge enum. The compositor\nmay use this information to update the surface position for\nexample when dragging the top left corner. The compositor may also\nuse this information to adapt its behavior, e.g. choose an\nappropriate cursor image.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">resize</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">seat</span> : <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_seat</span> :: <span class="ident">WlSeat</span> , <span class="ident">serial</span> : <span class="ident">u32</span> , <span class="ident">edges</span> : <span class="ident">u32</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">Resize</span> { <span class="ident">seat</span> : <span class="ident">seat</span> . <span class="ident">clone</span> () , <span class="ident">serial</span> : <span class="ident">serial</span> , <span class="ident">edges</span> : <span class="ident">edges</span> } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set the maximum size\n\nSet a maximum size for the window.\n\nThe client can specify a maximum size so that the compositor does\nnot try to configure the window beyond this size.\n\nThe width and height arguments are in window geometry coordinates.\nSee xdg_surface.set_window_geometry.\n\nValues set in this way are double-buffered. They will get applied\non the next commit.\n\nThe compositor can use this information to allow or disallow\ndifferent states like maximize or fullscreen and draw accurate\nanimations.\n\nSimilarly, a tiling window manager may use this information to\nplace and resize client windows in a more effective way.\n\nThe client should not rely on the compositor to obey the maximum\nsize. The compositor may decide to ignore the values set by the\nclient and request a larger size.\n\nIf never set, or a value of zero in the request, means that the\nclient has no expected maximum size in the given dimension.\nAs a result, a client wishing to reset the maximum size\nto an unspecified state can use zero for width and height in the\nrequest.\n\nRequesting a maximum size to be smaller than the minimum size of\na surface is illegal and will result in a protocol error.\n\nThe width and height must be greater than or equal to zero. Using\nstrictly negative values for width and height will result in a\nprotocol error.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">set_max_size</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">width</span> : <span class="ident">i32</span> , <span class="ident">height</span> : <span class="ident">i32</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">SetMaxSize</span> { <span class="ident">width</span> : <span class="ident">width</span> , <span class="ident">height</span> : <span class="ident">height</span> } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set the minimum size\n\nSet a minimum size for the window.\n\nThe client can specify a minimum size so that the compositor does\nnot try to configure the window below this size.\n\nThe width and height arguments are in window geometry coordinates.\nSee xdg_surface.set_window_geometry.\n\nValues set in this way are double-buffered. They will get applied\non the next commit.\n\nThe compositor can use this information to allow or disallow\ndifferent states like maximize or fullscreen and draw accurate\nanimations.\n\nSimilarly, a tiling window manager may use this information to\nplace and resize client windows in a more effective way.\n\nThe client should not rely on the compositor to obey the minimum\nsize. The compositor may decide to ignore the values set by the\nclient and request a smaller size.\n\nIf never set, or a value of zero in the request, means that the\nclient has no expected minimum size in the given dimension.\nAs a result, a client wishing to reset the minimum size\nto an unspecified state can use zero for width and height in the\nrequest.\n\nRequesting a minimum size to be larger than the maximum size of\na surface is illegal and will result in a protocol error.\n\nThe width and height must be greater than or equal to zero. Using\nstrictly negative values for width and height will result in a\nprotocol error.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">set_min_size</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">width</span> : <span class="ident">i32</span> , <span class="ident">height</span> : <span class="ident">i32</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">SetMinSize</span> { <span class="ident">width</span> : <span class="ident">width</span> , <span class="ident">height</span> : <span class="ident">height</span> } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;maximize the window\n\nMaximize the surface.\n\nAfter requesting that the surface should be maximized, the compositor\nwill respond by emitting a configure event with the \&quot;maximized\&quot; state\nand the required window geometry. The client should then update its\ncontent, drawing it in a maximized state, i.e. without shadow or other\ndecoration outside of the window geometry. The client must also\nacknowledge the configure when committing the new content (see\nack_configure).\n\nIt is up to the compositor to decide how and where to maximize the\nsurface, for example which output and what region of the screen should\nbe used.\n\nIf the surface was already maximized, the compositor will still emit\na configure event with the \&quot;maximized\&quot; state.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">set_maximized</span> (<span class="op">&amp;</span> <span class="self">self</span> ,) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">SetMaximized</span> ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;unmaximize the window\n\nUnmaximize the surface.\n\nAfter requesting that the surface should be unmaximized, the compositor\nwill respond by emitting a configure event without the \&quot;maximized\&quot;\nstate. If available, the compositor will include the window geometry\ndimensions the window had prior to being maximized in the configure\nrequest. The client must then update its content, drawing it in a\nregular state, i.e. potentially with shadow, etc. The client must also\nacknowledge the configure when committing the new content (see\nack_configure).\n\nIt is up to the compositor to position the surface after it was\nunmaximized; usually the position the surface had before maximizing, if\napplicable.\n\nIf the surface was already not maximized, the compositor will still\nemit a configure event without the \&quot;maximized\&quot; state.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">unset_maximized</span> (<span class="op">&amp;</span> <span class="self">self</span> ,) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">UnsetMaximized</span> ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set the window as fullscreen on a monitor\n\nMake the surface fullscreen.\n\nYou can specify an output that you would prefer to be fullscreen.\nIf this value is NULL, it&#39;s up to the compositor to choose which\ndisplay will be used to map this surface.\n\nIf the surface doesn&#39;t cover the whole output, the compositor will\nposition the surface in the center of the output and compensate with\nblack borders filling the rest of the output.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">set_fullscreen</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">output</span> : <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_output</span> :: <span class="ident">WlOutput</span> <span class="op">&gt;</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">SetFullscreen</span> { <span class="ident">output</span> : <span class="ident">output</span> . <span class="ident">map</span> (<span class="op">|</span> <span class="ident">o</span> <span class="op">|</span> <span class="ident">o</span> . <span class="ident">clone</span> ()) } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">unset_fullscreen</span> (<span class="op">&amp;</span> <span class="self">self</span> ,) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">UnsetFullscreen</span> ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;set the window as minimized\n\nRequest that the compositor minimize your surface. There is no\nway to know if the surface is currently minimized, nor is there\nany way to unset minimization on this surface.\n\nIf you are looking to throttle redrawing when minimized, please\ninstead use the wl_surface.frame event for this, as this will\nalso work with live previews on windows in Alt-Tab, Expose or\nsimilar compositor features.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">set_minimized</span> (<span class="op">&amp;</span> <span class="self">self</span> ,) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">SetMinimized</span> ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_DESTROY_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_SET_PARENT_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_SET_TITLE_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_SET_APP_ID_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_SHOW_WINDOW_MENU_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_MOVE_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_RESIZE_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_SET_MAX_SIZE_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_SET_MIN_SIZE_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_SET_MAXIMIZED_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_UNSET_MAXIMIZED_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_SET_FULLSCREEN_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_UNSET_FULLSCREEN_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_SET_MINIMIZED_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this event&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">EVT_CONFIGURE_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this event&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">EVT_CLOSE_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_toplevel_v6_requests_set_parent_types</span> : [<span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> ; <span class="number">1</span>] <span class="op">=</span> [<span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">zxdg_toplevel_v6</span> :: <span class="ident">zxdg_toplevel_v6_interface</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> } ,] ; <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_toplevel_v6_requests_show_window_menu_types</span> : [<span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> ; <span class="number">4</span>] <span class="op">=</span> [<span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_seat</span> :: <span class="ident">wl_seat_interface</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> } , <span class="ident">NULLPTR</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> , <span class="ident">NULLPTR</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> , <span class="ident">NULLPTR</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> ,] ; <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_toplevel_v6_requests_move_types</span> : [<span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> ; <span class="number">2</span>] <span class="op">=</span> [<span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_seat</span> :: <span class="ident">wl_seat_interface</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> } , <span class="ident">NULLPTR</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> ,] ; <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_toplevel_v6_requests_resize_types</span> : [<span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> ; <span class="number">3</span>] <span class="op">=</span> [<span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_seat</span> :: <span class="ident">wl_seat_interface</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> } , <span class="ident">NULLPTR</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> , <span class="ident">NULLPTR</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> ,] ; <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_toplevel_v6_requests_set_fullscreen_types</span> : [<span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> ; <span class="number">1</span>] <span class="op">=</span> [<span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_output</span> :: <span class="ident">wl_output_interface</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> } ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C-representation of the messages of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_toplevel_v6_requests</span> : [<span class="ident">wl_message</span> ; <span class="number">14</span>] <span class="op">=</span> [<span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;destroy\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;set_parent\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;?o\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_toplevel_v6_requests_set_parent_types</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;set_title\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;s\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;set_app_id\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;s\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;show_window_menu\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;ouii\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_toplevel_v6_requests_show_window_menu_types</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;move\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;ou\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_toplevel_v6_requests_move_types</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;resize\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;ouu\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_toplevel_v6_requests_resize_types</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;set_max_size\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;ii\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;set_min_size\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;ii\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;set_maximized\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;unset_maximized\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;set_fullscreen\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;?o\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_toplevel_v6_requests_set_fullscreen_types</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;unset_fullscreen\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;set_minimized\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C-representation of the messages of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_toplevel_v6_events</span> : [<span class="ident">wl_message</span> ; <span class="number">2</span>] <span class="op">=</span> [<span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;configure\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;iia\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;close\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C representation of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_toplevel_v6_interface</span> : <span class="ident">wl_interface</span> <span class="op">=</span> <span class="ident">wl_interface</span> { <span class="ident">name</span> : <span class="string">b&quot;zxdg_toplevel_v6\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">version</span> : <span class="number">1</span> , <span class="ident">request_count</span> : <span class="number">14</span> , <span class="ident">requests</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_toplevel_v6_requests</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , <span class="ident">event_count</span> : <span class="number">2</span> , <span class="ident">events</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_toplevel_v6_events</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;short-lived, popup surfaces for menus\n\nA popup surface is a short-lived, temporary surface. It can be used to\nimplement for example menus, popovers, tooltips and other similar user\ninterface concepts.\n\nA popup can be made to take an explicit grab. See xdg_popup.grab for\ndetails.\n\nWhen the popup is dismissed, a popup_done event will be sent out, and at\nthe same time the surface will be unmapped. See the xdg_popup.popup_done\nevent for details.\n\nExplicitly destroying the xdg_popup object will also dismiss the popup and\nunmap the surface. Clients that want to dismiss the popup when another\nsurface of their own is clicked should dismiss the popup using the destroy\nrequest.\n\nThe parent surface must have either the xdg_toplevel or xdg_popup surface\nrole.\n\nA newly created xdg_popup will be stacked on top of all previously created\nxdg_popup surfaces associated with the same xdg_toplevel.\n\nThe parent of an xdg_popup must be mapped (see the xdg_surface\ndescription) before the xdg_popup itself.\n\nThe x and y arguments passed when creating the popup object specify\nwhere the top left of the popup should be placed, relative to the\nlocal surface coordinates of the parent surface. See\nxdg_surface.get_popup. An xdg_popup must intersect with or be at least\npartially adjacent to its parent surface.\n\nThe client must call wl_surface.commit on the corresponding wl_surface\nfor the xdg_popup state to take effect.&quot;</span>] <span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">zxdg_popup_v6</span> { <span class="kw">use</span> <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_char</span> ; <span class="kw">use</span> <span class="kw">super</span> :: { <span class="ident">Proxy</span> , <span class="ident">AnonymousObject</span> , <span class="ident">Interface</span> , <span class="ident">MessageGroup</span> , <span class="ident">MessageDesc</span> , <span class="ident">ArgumentType</span> , <span class="ident">Object</span> , <span class="ident">Message</span> , <span class="ident">Argument</span> , <span class="ident">ObjectMetadata</span> , <span class="ident">types_null</span> , <span class="ident">NULLPTR</span> , <span class="ident">Main</span> , <span class="ident">smallvec</span> , } ; <span class="kw">use</span> <span class="kw">super</span> :: <span class="ident">sys</span> :: <span class="ident">common</span> :: { <span class="ident">wl_interface</span> , <span class="ident">wl_array</span> , <span class="ident">wl_argument</span> , <span class="ident">wl_message</span> } ; <span class="kw">use</span> <span class="kw">super</span> :: <span class="ident">sys</span> :: <span class="ident">client</span> :: <span class="op">*</span> ; # [<span class="ident">repr</span> (<span class="ident">u32</span>)] # [<span class="ident">derive</span> (<span class="ident">Copy</span> , <span class="ident">Clone</span> , <span class="ident">Debug</span> , <span class="ident">PartialEq</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Error</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;tried to grab after being mapped&quot;</span>] <span class="ident">InvalidGrab</span> <span class="op">=</span> <span class="number">0</span> , } <span class="kw">impl</span> <span class="ident">Error</span> { <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">n</span> : <span class="ident">u32</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Error</span> <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">n</span> { <span class="number">0</span> =&gt; <span class="prelude-val">Some</span> (<span class="ident">Error</span> :: <span class="ident">InvalidGrab</span>) , <span class="kw">_</span> =&gt; <span class="prelude-ty">Option</span> :: <span class="prelude-val">None</span> } } <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">to_raw</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="op">*</span> <span class="self">self</span> <span class="kw">as</span> <span class="ident">u32</span> } } # [<span class="ident">derive</span> (<span class="ident">Debug</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Request</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;remove xdg_popup interface\n\nThis destroys the popup. Explicitly destroying the xdg_popup\nobject will also dismiss the popup, and unmap the surface.\n\nIf this xdg_popup is not the \&quot;topmost\&quot; popup, a protocol error\nwill be sent.\n\nThis is a destructor, once sent this object cannot be used any longer.&quot;</span>] <span class="ident">Destroy</span> , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;make the popup take an explicit grab\n\nThis request makes the created popup take an explicit grab. An explicit\ngrab will be dismissed when the user dismisses the popup, or when the\nclient destroys the xdg_popup. This can be done by the user clicking\noutside the surface, using the keyboard, or even locking the screen\nthrough closing the lid or a timeout.\n\nIf the compositor denies the grab, the popup will be immediately\ndismissed.\n\nThis request must be used in response to some sort of user action like a\nbutton press, key press, or touch down event. The serial number of the\nevent should be passed as &#39;serial&#39;.\n\nThe parent of a grabbing popup must either be an xdg_toplevel surface or\nanother xdg_popup with an explicit grab. If the parent is another\nxdg_popup it means that the popups are nested, with this popup now being\nthe topmost popup.\n\nNested popups must be destroyed in the reverse order they were created\nin, e.g. the only popup you are allowed to destroy at all times is the\ntopmost one.\n\nWhen compositors choose to dismiss a popup, they may dismiss every\nnested grabbing popup as well. When a compositor dismisses popups, it\nwill follow the same dismissing order as required from the client.\n\nThe parent of a grabbing popup must either be another xdg_popup with an\nactive explicit grab, or an xdg_popup or xdg_toplevel, if there are no\nexplicit grabs already taken.\n\nIf the topmost grabbing popup is destroyed, the grab will be returned to\nthe parent of the popup, if that parent previously had an explicit grab.\n\nIf the parent is a grabbing popup which has already been dismissed, this\npopup will be immediately dismissed. If the parent is a popup that did\nnot take an explicit grab, an error will be raised.\n\nDuring a popup grab, the client owning the grab will receive pointer\nand touch events for all their surfaces as normal (similar to an\n\&quot;owner-events\&quot; grab in X11 parlance), while the top most grabbing popup\nwill always have keyboard focus.&quot;</span>] <span class="ident">Grab</span> { <span class="ident">seat</span> : <span class="kw">super</span> :: <span class="ident">wl_seat</span> :: <span class="ident">WlSeat</span> , <span class="ident">serial</span> : <span class="ident">u32</span> , } , } <span class="kw">impl</span> <span class="kw">super</span> :: <span class="ident">MessageGroup</span> <span class="kw">for</span> <span class="ident">Request</span> { <span class="kw">const</span> <span class="ident">MESSAGES</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span>] <span class="op">=</span> <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;destroy&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [] , <span class="ident">destructor</span> : <span class="bool-val">true</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;grab&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Object</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Uint</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } ,] ; <span class="kw">type</span> <span class="ident">Map</span> <span class="op">=</span> <span class="kw">super</span> :: <span class="ident">ProxyMap</span> ; <span class="kw">fn</span> <span class="ident">is_destructor</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">bool</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="bool-val">true</span> , <span class="kw">_</span> =&gt; <span class="bool-val">false</span> , } } <span class="kw">fn</span> <span class="ident">opcode</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u16</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="number">0</span> , <span class="ident">Request</span> :: <span class="ident">Grab</span> { .. } =&gt; <span class="number">1</span> , } } <span class="kw">fn</span> <span class="ident">since</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="number">1</span> , <span class="ident">Request</span> :: <span class="ident">Grab</span> { .. } =&gt; <span class="number">1</span> , } } <span class="kw">fn</span> <span class="ident">child</span> <span class="op">&lt;</span> <span class="ident">Meta</span> : <span class="ident">ObjectMetadata</span> <span class="op">&gt;</span> (<span class="ident">opcode</span> : <span class="ident">u16</span> , <span class="ident">version</span> : <span class="ident">u32</span> , <span class="ident">meta</span> : <span class="op">&amp;</span> <span class="ident">Meta</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Object</span> <span class="op">&lt;</span> <span class="ident">Meta</span> <span class="op">&gt;</span><span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="kw">_</span> =&gt; <span class="prelude-val">None</span> , } } <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">msg</span> : <span class="ident">Message</span> , <span class="ident">map</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="self">Self</span> :: <span class="ident">Map</span>) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="self">Self</span> , () <span class="op">&gt;</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Request::from_raw can not be used Client-side.&quot;</span>) } <span class="kw">fn</span> <span class="ident">into_raw</span> (<span class="self">self</span> , <span class="ident">sender_id</span> : <span class="ident">u32</span>) -&gt; <span class="ident">Message</span> { <span class="kw">match</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">0</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [] , } , <span class="ident">Request</span> :: <span class="ident">Grab</span> { <span class="ident">seat</span> , <span class="ident">serial</span> } =&gt; <span class="ident">Message</span> { <span class="ident">sender_id</span> : <span class="ident">sender_id</span> , <span class="ident">opcode</span> : <span class="number">1</span> , <span class="ident">args</span> : <span class="ident">smallvec</span> <span class="op">!</span> [<span class="ident">Argument</span> :: <span class="ident">Object</span> (<span class="ident">seat</span> . <span class="ident">as_ref</span> () . <span class="ident">id</span> ()) , <span class="ident">Argument</span> :: <span class="ident">Uint</span> (<span class="ident">serial</span>) ,] , } , } } <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">from_raw_c</span> (<span class="ident">obj</span> : <span class="op">*</span> <span class="kw-2">mut</span> :: <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_void</span> , <span class="ident">opcode</span> : <span class="ident">u32</span> , <span class="ident">args</span> : <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_argument</span> ,) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="ident">Request</span> , () <span class="op">&gt;</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Request::from_raw_c can not be used Client-side.&quot;</span>) } <span class="kw">fn</span> <span class="ident">as_raw_c_in</span> <span class="op">&lt;</span> <span class="ident">F</span> , <span class="ident">T</span> <span class="op">&gt;</span> (<span class="self">self</span> , <span class="ident">f</span> : <span class="ident">F</span>) -&gt; <span class="ident">T</span> <span class="kw">where</span> <span class="ident">F</span> : <span class="ident">FnOnce</span> (<span class="ident">u32</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> [<span class="ident">wl_argument</span>]) -&gt; <span class="ident">T</span> { <span class="kw">match</span> <span class="self">self</span> { <span class="ident">Request</span> :: <span class="ident">Destroy</span> =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">0</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">f</span> (<span class="number">0</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , <span class="ident">Request</span> :: <span class="ident">Grab</span> { <span class="ident">seat</span> , <span class="ident">serial</span> } =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span> : [<span class="ident">wl_argument</span> ; <span class="number">2</span>] <span class="op">=</span> <span class="kw">unsafe</span> { :: <span class="ident">std</span> :: <span class="ident">mem</span> :: <span class="ident">zeroed</span> () } ; <span class="ident">_args_array</span> [<span class="number">0</span>] . <span class="ident">o</span> <span class="op">=</span> <span class="ident">seat</span> . <span class="ident">as_ref</span> () . <span class="ident">c_ptr</span> () <span class="kw">as</span> <span class="op">*</span> <span class="kw-2">mut</span> <span class="kw">_</span> ; <span class="ident">_args_array</span> [<span class="number">1</span>] . <span class="ident">u</span> <span class="op">=</span> <span class="ident">serial</span> ; <span class="ident">f</span> (<span class="number">1</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">_args_array</span>) } , } } } # [<span class="ident">derive</span> (<span class="ident">Debug</span>)] # [<span class="ident">non_exhaustive</span>] <span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Event</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;configure the popup surface\n\nThis event asks the popup surface to configure itself given the\nconfiguration. The configured state should not be applied immediately.\nSee xdg_surface.configure for details.\n\nThe x and y arguments represent the position the popup was placed at\ngiven the xdg_positioner rule, relative to the upper left corner of the\nwindow geometry of the parent surface.&quot;</span>] <span class="ident">Configure</span> { <span class="ident">x</span> : <span class="ident">i32</span> , <span class="ident">y</span> : <span class="ident">i32</span> , <span class="ident">width</span> : <span class="ident">i32</span> , <span class="ident">height</span> : <span class="ident">i32</span> , } , # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;popup interaction is done\n\nThe popup_done event is sent out when a popup is dismissed by the\ncompositor. The client should destroy the xdg_popup object at this\npoint.&quot;</span>] <span class="ident">PopupDone</span> , } <span class="kw">impl</span> <span class="kw">super</span> :: <span class="ident">MessageGroup</span> <span class="kw">for</span> <span class="ident">Event</span> { <span class="kw">const</span> <span class="ident">MESSAGES</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span>] <span class="op">=</span> <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;configure&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [<span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> , <span class="kw">super</span> :: <span class="ident">ArgumentType</span> :: <span class="ident">Int</span> ,] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } , <span class="kw">super</span> :: <span class="ident">MessageDesc</span> { <span class="ident">name</span> : <span class="string">&quot;popup_done&quot;</span> , <span class="ident">since</span> : <span class="number">1</span> , <span class="ident">signature</span> : <span class="op">&amp;</span> [] , <span class="ident">destructor</span> : <span class="bool-val">false</span> , } ,] ; <span class="kw">type</span> <span class="ident">Map</span> <span class="op">=</span> <span class="kw">super</span> :: <span class="ident">ProxyMap</span> ; <span class="kw">fn</span> <span class="ident">is_destructor</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">bool</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="kw">_</span> =&gt; <span class="bool-val">false</span> , } } <span class="kw">fn</span> <span class="ident">opcode</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u16</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Event</span> :: <span class="ident">Configure</span> { .. } =&gt; <span class="number">0</span> , <span class="ident">Event</span> :: <span class="ident">PopupDone</span> =&gt; <span class="number">1</span> , } } <span class="kw">fn</span> <span class="ident">since</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="ident">u32</span> { <span class="kw">match</span> <span class="op">*</span> <span class="self">self</span> { <span class="ident">Event</span> :: <span class="ident">Configure</span> { .. } =&gt; <span class="number">1</span> , <span class="ident">Event</span> :: <span class="ident">PopupDone</span> =&gt; <span class="number">1</span> , } } <span class="kw">fn</span> <span class="ident">child</span> <span class="op">&lt;</span> <span class="ident">Meta</span> : <span class="ident">ObjectMetadata</span> <span class="op">&gt;</span> (<span class="ident">opcode</span> : <span class="ident">u16</span> , <span class="ident">version</span> : <span class="ident">u32</span> , <span class="ident">meta</span> : <span class="op">&amp;</span> <span class="ident">Meta</span>) -&gt; <span class="prelude-ty">Option</span> <span class="op">&lt;</span> <span class="ident">Object</span> <span class="op">&lt;</span> <span class="ident">Meta</span> <span class="op">&gt;</span><span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="kw">_</span> =&gt; <span class="prelude-val">None</span> , } } <span class="kw">fn</span> <span class="ident">from_raw</span> (<span class="ident">msg</span> : <span class="ident">Message</span> , <span class="ident">map</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="self">Self</span> :: <span class="ident">Map</span>) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="self">Self</span> , () <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">msg</span> . <span class="ident">opcode</span> { <span class="number">0</span> =&gt; { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">args</span> <span class="op">=</span> <span class="ident">msg</span> . <span class="ident">args</span> . <span class="ident">into_iter</span> () ; <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">Configure</span> { <span class="ident">x</span> : { <span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Some</span> (<span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">val</span>)) <span class="op">=</span> <span class="ident">args</span> . <span class="ident">next</span> () { <span class="ident">val</span> } <span class="kw">else</span> { <span class="kw">return</span> <span class="prelude-val">Err</span> (()) ; } } , <span class="ident">y</span> : { <span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Some</span> (<span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">val</span>)) <span class="op">=</span> <span class="ident">args</span> . <span class="ident">next</span> () { <span class="ident">val</span> } <span class="kw">else</span> { <span class="kw">return</span> <span class="prelude-val">Err</span> (()) ; } } , <span class="ident">width</span> : { <span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Some</span> (<span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">val</span>)) <span class="op">=</span> <span class="ident">args</span> . <span class="ident">next</span> () { <span class="ident">val</span> } <span class="kw">else</span> { <span class="kw">return</span> <span class="prelude-val">Err</span> (()) ; } } , <span class="ident">height</span> : { <span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Some</span> (<span class="ident">Argument</span> :: <span class="ident">Int</span> (<span class="ident">val</span>)) <span class="op">=</span> <span class="ident">args</span> . <span class="ident">next</span> () { <span class="ident">val</span> } <span class="kw">else</span> { <span class="kw">return</span> <span class="prelude-val">Err</span> (()) ; } } , }) } , <span class="number">1</span> =&gt; <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">PopupDone</span>) , <span class="kw">_</span> =&gt; <span class="prelude-val">Err</span> (()) , } } <span class="kw">fn</span> <span class="ident">into_raw</span> (<span class="self">self</span> , <span class="ident">sender_id</span> : <span class="ident">u32</span>) -&gt; <span class="ident">Message</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Event::into_raw can not be used Client-side.&quot;</span>) } <span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">from_raw_c</span> (<span class="ident">obj</span> : <span class="op">*</span> <span class="kw-2">mut</span> :: <span class="ident">std</span> :: <span class="ident">os</span> :: <span class="ident">raw</span> :: <span class="ident">c_void</span> , <span class="ident">opcode</span> : <span class="ident">u32</span> , <span class="ident">args</span> : <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_argument</span> ,) -&gt; <span class="prelude-ty">Result</span> <span class="op">&lt;</span> <span class="ident">Event</span> , () <span class="op">&gt;</span> { <span class="kw">match</span> <span class="ident">opcode</span> { <span class="number">0</span> =&gt; { <span class="kw">let</span> <span class="ident">_args</span> <span class="op">=</span> :: <span class="ident">std</span> :: <span class="ident">slice</span> :: <span class="ident">from_raw_parts</span> (<span class="ident">args</span> , <span class="number">4</span>) ; <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">Configure</span> { <span class="ident">x</span> : <span class="ident">_args</span> [<span class="number">0</span>] . <span class="ident">i</span> , <span class="ident">y</span> : <span class="ident">_args</span> [<span class="number">1</span>] . <span class="ident">i</span> , <span class="ident">width</span> : <span class="ident">_args</span> [<span class="number">2</span>] . <span class="ident">i</span> , <span class="ident">height</span> : <span class="ident">_args</span> [<span class="number">3</span>] . <span class="ident">i</span> , }) } , <span class="number">1</span> =&gt; { <span class="prelude-val">Ok</span> (<span class="ident">Event</span> :: <span class="ident">PopupDone</span>) } , <span class="kw">_</span> =&gt; <span class="kw">return</span> <span class="prelude-val">Err</span> (()) , } } <span class="kw">fn</span> <span class="ident">as_raw_c_in</span> <span class="op">&lt;</span> <span class="ident">F</span> , <span class="ident">T</span> <span class="op">&gt;</span> (<span class="self">self</span> , <span class="ident">f</span> : <span class="ident">F</span>) -&gt; <span class="ident">T</span> <span class="kw">where</span> <span class="ident">F</span> : <span class="ident">FnOnce</span> (<span class="ident">u32</span> , <span class="op">&amp;</span> <span class="kw-2">mut</span> [<span class="ident">wl_argument</span>]) -&gt; <span class="ident">T</span> { <span class="ident">panic</span> <span class="op">!</span> (<span class="string">&quot;Event::as_raw_c_in can not be used Client-side.&quot;</span>) } } # [<span class="ident">derive</span> (<span class="ident">Clone</span> , <span class="ident">Eq</span> , <span class="ident">PartialEq</span>)] <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">ZxdgPopupV6</span> (<span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgPopupV6</span> <span class="op">&gt;</span>) ; <span class="kw">impl</span> <span class="ident">AsRef</span> <span class="op">&lt;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgPopupV6</span> <span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">ZxdgPopupV6</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">as_ref</span> (<span class="op">&amp;</span> <span class="self">self</span>) -&gt; <span class="op">&amp;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="self">Self</span> <span class="op">&gt;</span> { <span class="op">&amp;</span> <span class="self">self</span> . <span class="number">0</span> } } <span class="kw">impl</span> <span class="ident">From</span> <span class="op">&lt;</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgPopupV6</span> <span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">ZxdgPopupV6</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">from</span> (<span class="ident">value</span> : <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="self">Self</span> <span class="op">&gt;</span>) -&gt; <span class="self">Self</span> { <span class="ident">ZxdgPopupV6</span> (<span class="ident">value</span>) } } <span class="kw">impl</span> <span class="ident">From</span> <span class="op">&lt;</span> <span class="ident">ZxdgPopupV6</span> <span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">Proxy</span> <span class="op">&lt;</span> <span class="ident">ZxdgPopupV6</span> <span class="op">&gt;</span> { # [<span class="ident">inline</span>] <span class="kw">fn</span> <span class="ident">from</span> (<span class="ident">value</span> : <span class="ident">ZxdgPopupV6</span>) -&gt; <span class="self">Self</span> { <span class="ident">value</span> . <span class="number">0</span> } } <span class="kw">impl</span> <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="ident">Debug</span> <span class="kw">for</span> <span class="ident">ZxdgPopupV6</span> { <span class="kw">fn</span> <span class="ident">fmt</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">f</span> : <span class="op">&amp;</span> <span class="kw-2">mut</span> <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="ident">Formatter</span> <span class="op">&lt;</span> <span class="lifetime">&#39;_</span> <span class="op">&gt;</span>) -&gt; <span class="ident">std</span> :: <span class="ident">fmt</span> :: <span class="prelude-ty">Result</span> { <span class="ident">f</span> . <span class="ident">write_fmt</span> (<span class="ident">format_args</span> <span class="op">!</span> (<span class="string">&quot;{:?}&quot;</span> , <span class="self">self</span> . <span class="number">0</span>)) } } <span class="kw">impl</span> <span class="ident">Interface</span> <span class="kw">for</span> <span class="ident">ZxdgPopupV6</span> { <span class="kw">type</span> <span class="ident">Request</span> <span class="op">=</span> <span class="ident">Request</span> ; <span class="kw">type</span> <span class="ident">Event</span> <span class="op">=</span> <span class="ident">Event</span> ; <span class="kw">const</span> <span class="ident">NAME</span> : <span class="op">&amp;</span> <span class="lifetime">&#39;static</span> <span class="ident">str</span> <span class="op">=</span> <span class="string">&quot;zxdg_popup_v6&quot;</span> ; <span class="kw">const</span> <span class="ident">VERSION</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1</span> ; <span class="kw">fn</span> <span class="ident">c_interface</span> () -&gt; <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> { <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_popup_v6_interface</span> } } } <span class="kw">impl</span> <span class="ident">ZxdgPopupV6</span> { # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;remove xdg_popup interface\n\nThis destroys the popup. Explicitly destroying the xdg_popup\nobject will also dismiss the popup, and unmap the surface.\n\nIf this xdg_popup is not the \&quot;topmost\&quot; popup, a protocol error\nwill be sent.\n\nThis is a destructor, you cannot send requests to this object any longer once this method is called.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">destroy</span> (<span class="op">&amp;</span> <span class="self">self</span> ,) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">Destroy</span> ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;make the popup take an explicit grab\n\nThis request makes the created popup take an explicit grab. An explicit\ngrab will be dismissed when the user dismisses the popup, or when the\nclient destroys the xdg_popup. This can be done by the user clicking\noutside the surface, using the keyboard, or even locking the screen\nthrough closing the lid or a timeout.\n\nIf the compositor denies the grab, the popup will be immediately\ndismissed.\n\nThis request must be used in response to some sort of user action like a\nbutton press, key press, or touch down event. The serial number of the\nevent should be passed as &#39;serial&#39;.\n\nThe parent of a grabbing popup must either be an xdg_toplevel surface or\nanother xdg_popup with an explicit grab. If the parent is another\nxdg_popup it means that the popups are nested, with this popup now being\nthe topmost popup.\n\nNested popups must be destroyed in the reverse order they were created\nin, e.g. the only popup you are allowed to destroy at all times is the\ntopmost one.\n\nWhen compositors choose to dismiss a popup, they may dismiss every\nnested grabbing popup as well. When a compositor dismisses popups, it\nwill follow the same dismissing order as required from the client.\n\nThe parent of a grabbing popup must either be another xdg_popup with an\nactive explicit grab, or an xdg_popup or xdg_toplevel, if there are no\nexplicit grabs already taken.\n\nIf the topmost grabbing popup is destroyed, the grab will be returned to\nthe parent of the popup, if that parent previously had an explicit grab.\n\nIf the parent is a grabbing popup which has already been dismissed, this\npopup will be immediately dismissed. If the parent is a popup that did\nnot take an explicit grab, an error will be raised.\n\nDuring a popup grab, the client owning the grab will receive pointer\nand touch events for all their surfaces as normal (similar to an\n\&quot;owner-events\&quot; grab in X11 parlance), while the top most grabbing popup\nwill always have keyboard focus.&quot;</span>] <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">grab</span> (<span class="op">&amp;</span> <span class="self">self</span> , <span class="ident">seat</span> : <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_seat</span> :: <span class="ident">WlSeat</span> , <span class="ident">serial</span> : <span class="ident">u32</span>) -&gt; () { <span class="kw">let</span> <span class="ident">msg</span> <span class="op">=</span> <span class="ident">Request</span> :: <span class="ident">Grab</span> { <span class="ident">seat</span> : <span class="ident">seat</span> . <span class="ident">clone</span> () , <span class="ident">serial</span> : <span class="ident">serial</span> } ; <span class="self">self</span> . <span class="number">0</span> . <span class="ident">send</span> :: <span class="op">&lt;</span> <span class="ident">AnonymousObject</span> <span class="op">&gt;</span> (<span class="ident">msg</span> , <span class="prelude-val">None</span>) ; } } # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_DESTROY_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this request&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">REQ_GRAB_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this event&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">EVT_CONFIGURE_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; The minimal object version supporting this event&quot;</span>] <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">EVT_POPUP_DONE_SINCE</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">1u32</span> ; <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_popup_v6_requests_grab_types</span> : [<span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> ; <span class="number">2</span>] <span class="op">=</span> [<span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="kw">super</span> :: <span class="ident">wl_seat</span> :: <span class="ident">wl_seat_interface</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> } , <span class="ident">NULLPTR</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">wl_interface</span> ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C-representation of the messages of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_popup_v6_requests</span> : [<span class="ident">wl_message</span> ; <span class="number">2</span>] <span class="op">=</span> [<span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;destroy\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;grab\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;ou\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_popup_v6_requests_grab_types</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C-representation of the messages of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_popup_v6_events</span> : [<span class="ident">wl_message</span> ; <span class="number">2</span>] <span class="op">=</span> [<span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;configure\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;iiii\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } , <span class="ident">wl_message</span> { <span class="ident">name</span> : <span class="string">b&quot;popup_done\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">signature</span> : <span class="string">b&quot;\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">types</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">types_null</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } ,] ; # [<span class="ident">doc</span> <span class="op">=</span> <span class="string">r&quot; C representation of this interface, for interop&quot;</span>] <span class="kw">pub</span> <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">zxdg_popup_v6_interface</span> : <span class="ident">wl_interface</span> <span class="op">=</span> <span class="ident">wl_interface</span> { <span class="ident">name</span> : <span class="string">b&quot;zxdg_popup_v6\0&quot;</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">u8</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="ident">c_char</span> , <span class="ident">version</span> : <span class="number">1</span> , <span class="ident">request_count</span> : <span class="number">2</span> , <span class="ident">requests</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_popup_v6_requests</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , <span class="ident">event_count</span> : <span class="number">2</span> , <span class="ident">events</span> : <span class="kw">unsafe</span> { <span class="op">&amp;</span> <span class="ident">zxdg_popup_v6_events</span> <span class="kw">as</span> <span class="op">*</span> <span class="kw">const</span> <span class="kw">_</span> } , } ; }</code></pre></div>
</section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../../../../../../../../../../../" data-current-crate="wayland_protocols" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0-nightly (5e57faa78 2022-01-19)" ></div>
</body></html>