<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="State for lowering an `ast::Expression` to Naga IR."><title>ExpressionContext in naga::front::wgsl::lower - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="naga" data-themes="" data-resource-suffix="" data-rustdoc-version="1.80.1 (3f5fd8dd4 2024-08-06)" data-channel="1.80.1" data-search-js="search-d52510db62a78183.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../naga/index.html">naga</a><span class="version">22.0.0</span></h2></div><h2 class="location"><a href="#">ExpressionContext</a></h2><div class="sidebar-elems"><section><h3><a href="#fields">Fields</a></h3><ul class="block structfield"><li><a href="#structfield.ast_expressions">ast_expressions</a></li><li><a href="#structfield.const_typifier">const_typifier</a></li><li><a href="#structfield.expr_type">expr_type</a></li><li><a href="#structfield.global_expression_kind_tracker">global_expression_kind_tracker</a></li><li><a href="#structfield.globals">globals</a></li><li><a href="#structfield.module">module</a></li><li><a href="#structfield.types">types</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.append_expression">append_expression</a></li><li><a href="#method.apply_load_rule">apply_load_rule</a></li><li><a href="#method.as_const">as_const</a></li><li><a href="#method.as_const_evaluator">as_const_evaluator</a></li><li><a href="#method.as_global">as_global</a></li><li><a href="#method.automatic_conversion_consensus">automatic_conversion_consensus</a></li><li><a href="#method.binary_op_splat">binary_op_splat</a></li><li><a href="#method.concretize">concretize</a></li><li><a href="#method.const_access">const_access</a></li><li><a href="#method.convert_leaf_scalar">convert_leaf_scalar</a></li><li><a href="#method.convert_slice_to_common_leaf_scalar">convert_slice_to_common_leaf_scalar</a></li><li><a href="#method.convert_to_leaf_scalar">convert_to_leaf_scalar</a></li><li><a href="#method.ensure_type_exists">ensure_type_exists</a></li><li><a href="#method.gather_component">gather_component</a></li><li><a href="#method.get_expression_span">get_expression_span</a></li><li><a href="#method.grow_types">grow_types</a></li><li><a href="#method.image_data">image_data</a></li><li><a href="#method.interrupt_emitter">interrupt_emitter</a></li><li><a href="#method.local">local</a></li><li><a href="#method.prepare_args">prepare_args</a></li><li><a href="#method.register_type">register_type</a></li><li><a href="#method.runtime_expression_ctx">runtime_expression_ctx</a></li><li><a href="#method.try_automatic_conversion_for_leaf_scalar">try_automatic_conversion_for_leaf_scalar</a></li><li><a href="#method.try_automatic_conversions">try_automatic_conversions</a></li><li><a href="#method.try_automatic_conversions_for_vector">try_automatic_conversions_for_vector</a></li><li><a href="#method.try_automatic_conversions_slice">try_automatic_conversions_slice</a></li><li><a href="#method.typifier">typifier</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block synthetic-implementation"><li><a href="#impl-UnwindSafe-for-ExpressionContext%3C'source,+'temp,+'out%3E">!UnwindSafe</a></li><li><a href="#impl-Freeze-for-ExpressionContext%3C'source,+'temp,+'out%3E">Freeze</a></li><li><a href="#impl-RefUnwindSafe-for-ExpressionContext%3C'source,+'temp,+'out%3E">RefUnwindSafe</a></li><li><a href="#impl-Send-for-ExpressionContext%3C'source,+'temp,+'out%3E">Send</a></li><li><a href="#impl-Sync-for-ExpressionContext%3C'source,+'temp,+'out%3E">Sync</a></li><li><a href="#impl-Unpin-for-ExpressionContext%3C'source,+'temp,+'out%3E">Unpin</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block blanket-implementation"><li><a href="#impl-Any-for-T">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-T">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-T">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-From%3CT%3E-for-T">From&lt;T&gt;</a></li><li><a href="#impl-Into%3CU%3E-for-T">Into&lt;U&gt;</a></li><li><a href="#impl-TryFrom%3CU%3E-for-T">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E-for-T">TryInto&lt;U&gt;</a></li></ul></section><h2><a href="index.html">In naga::front::wgsl::lower</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Struct <a href="../../../index.html">naga</a>::<wbr><a href="../../index.html">front</a>::<wbr><a href="../index.html">wgsl</a>::<wbr><a href="index.html">lower</a>::<wbr><a class="struct" href="#">ExpressionContext</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#348-372">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub struct ExpressionContext&lt;'source, 'temp, 'out&gt; {
    ast_expressions: &amp;'temp <a class="struct" href="../../../arena/struct.Arena.html" title="struct naga::arena::Arena">Arena</a>&lt;<a class="enum" href="../parse/ast/enum.Expression.html" title="enum naga::front::wgsl::parse::ast::Expression">Expression</a>&lt;'source&gt;&gt;,
    types: &amp;'temp <a class="struct" href="../../../arena/struct.Arena.html" title="struct naga::arena::Arena">Arena</a>&lt;<a class="enum" href="../parse/ast/enum.Type.html" title="enum naga::front::wgsl::parse::ast::Type">Type</a>&lt;'source&gt;&gt;,
    globals: &amp;'temp mut <a class="type" href="../../../type.FastHashMap.html" title="type naga::FastHashMap">FastHashMap</a>&lt;&amp;'source <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.str.html">str</a>, <a class="enum" href="enum.LoweredGlobalDecl.html" title="enum naga::front::wgsl::lower::LoweredGlobalDecl">LoweredGlobalDecl</a>&gt;,
    module: &amp;'out mut <a class="struct" href="../../../struct.Module.html" title="struct naga::Module">Module</a>,
    const_typifier: &amp;'temp mut <a class="struct" href="../../struct.Typifier.html" title="struct naga::front::Typifier">Typifier</a>,
    global_expression_kind_tracker: &amp;'temp mut <a class="struct" href="../../../proc/constant_evaluator/struct.ExpressionKindTracker.html" title="struct naga::proc::constant_evaluator::ExpressionKindTracker">ExpressionKindTracker</a>,
    expr_type: <a class="enum" href="enum.ExpressionContextType.html" title="enum naga::front::wgsl::lower::ExpressionContextType">ExpressionContextType</a>&lt;'temp, 'out&gt;,
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>State for lowering an <a href="../parse/ast/enum.Expression.html" title="enum naga::front::wgsl::parse::ast::Expression"><code>ast::Expression</code></a> to Naga IR.</p>
<p><a href="struct.ExpressionContext.html" title="struct naga::front::wgsl::lower::ExpressionContext"><code>ExpressionContext</code></a>s come in two kinds, distinguished by
the value of the <a href="struct.ExpressionContext.html#structfield.expr_type" title="field naga::front::wgsl::lower::ExpressionContext::expr_type"><code>expr_type</code></a> field:</p>
<ul>
<li>
<p>A <a href="enum.ExpressionContextType.html#variant.Runtime" title="variant naga::front::wgsl::lower::ExpressionContextType::Runtime"><code>Runtime</code></a> context contributes <a href="../../../enum.Expression.html" title="enum naga::Expression"><code>naga::Expression</code></a>s to a <a href="../../../struct.Function.html" title="struct naga::Function"><code>naga::Function</code></a>’s
runtime expression arena.</p>
</li>
<li>
<p>A <a href="enum.ExpressionContextType.html#variant.Constant" title="variant naga::front::wgsl::lower::ExpressionContextType::Constant"><code>Constant</code></a> context contributes <a href="../../../enum.Expression.html" title="enum naga::Expression"><code>naga::Expression</code></a>s to a <a href="../../../struct.Module.html" title="struct naga::Module"><code>naga::Module</code></a>’s
constant expression arena.</p>
</li>
</ul>
<p><a href="struct.ExpressionContext.html" title="struct naga::front::wgsl::lower::ExpressionContext"><code>ExpressionContext</code></a>s are constructed in restricted ways:</p>
<ul>
<li>
<p>To get a <a href="enum.ExpressionContextType.html#variant.Runtime" title="variant naga::front::wgsl::lower::ExpressionContextType::Runtime"><code>Runtime</code></a> <a href="struct.ExpressionContext.html" title="struct naga::front::wgsl::lower::ExpressionContext"><code>ExpressionContext</code></a>, call
<a href="struct.StatementContext.html#method.as_expression" title="method naga::front::wgsl::lower::StatementContext::as_expression"><code>StatementContext::as_expression</code></a>.</p>
</li>
<li>
<p>To get a <a href="enum.ExpressionContextType.html#variant.Constant" title="variant naga::front::wgsl::lower::ExpressionContextType::Constant"><code>Constant</code></a> <a href="struct.ExpressionContext.html" title="struct naga::front::wgsl::lower::ExpressionContext"><code>ExpressionContext</code></a>, call
<a href="struct.GlobalContext.html#method.as_const" title="method naga::front::wgsl::lower::GlobalContext::as_const"><code>GlobalContext::as_const</code></a>.</p>
</li>
<li>
<p>You can demote a <a href="enum.ExpressionContextType.html#variant.Runtime" title="variant naga::front::wgsl::lower::ExpressionContextType::Runtime"><code>Runtime</code></a> context to a <a href="enum.ExpressionContextType.html#variant.Constant" title="variant naga::front::wgsl::lower::ExpressionContextType::Constant"><code>Constant</code></a> context
by calling <a href="struct.ExpressionContext.html#method.as_const" title="method naga::front::wgsl::lower::ExpressionContext::as_const"><code>as_const</code></a>, but there’s no way to go in the other
direction, producing a runtime context from a constant one. This
is because runtime expressions can refer to constant
expressions, via <a href="../../../enum.Expression.html#variant.Constant" title="variant naga::Expression::Constant"><code>Expression::Constant</code></a>, but constant
expressions can’t refer to a function’s expressions.</p>
</li>
</ul>
<p>Not to be confused with <code>wgsl::parse::ExpressionContext</code>, which is
for parsing the <code>ast::Expression</code> in the first place.</p>
</div></details><h2 id="fields" class="fields section-header">Fields<a href="#fields" class="anchor">§</a></h2><span id="structfield.ast_expressions" class="structfield section-header"><a href="#structfield.ast_expressions" class="anchor field">§</a><code>ast_expressions: &amp;'temp <a class="struct" href="../../../arena/struct.Arena.html" title="struct naga::arena::Arena">Arena</a>&lt;<a class="enum" href="../parse/ast/enum.Expression.html" title="enum naga::front::wgsl::parse::ast::Expression">Expression</a>&lt;'source&gt;&gt;</code></span><span id="structfield.types" class="structfield section-header"><a href="#structfield.types" class="anchor field">§</a><code>types: &amp;'temp <a class="struct" href="../../../arena/struct.Arena.html" title="struct naga::arena::Arena">Arena</a>&lt;<a class="enum" href="../parse/ast/enum.Type.html" title="enum naga::front::wgsl::parse::ast::Type">Type</a>&lt;'source&gt;&gt;</code></span><span id="structfield.globals" class="structfield section-header"><a href="#structfield.globals" class="anchor field">§</a><code>globals: &amp;'temp mut <a class="type" href="../../../type.FastHashMap.html" title="type naga::FastHashMap">FastHashMap</a>&lt;&amp;'source <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.str.html">str</a>, <a class="enum" href="enum.LoweredGlobalDecl.html" title="enum naga::front::wgsl::lower::LoweredGlobalDecl">LoweredGlobalDecl</a>&gt;</code></span><div class="docblock"><p>The map from the names of module-scope declarations to the Naga IR
<code>Handle</code>s we have built for them, owned by <code>Lowerer::lower</code>.</p>
</div><span id="structfield.module" class="structfield section-header"><a href="#structfield.module" class="anchor field">§</a><code>module: &amp;'out mut <a class="struct" href="../../../struct.Module.html" title="struct naga::Module">Module</a></code></span><div class="docblock"><p>The IR <a href="../../../struct.Module.html" title="struct naga::Module"><code>Module</code></a> we’re constructing.</p>
</div><span id="structfield.const_typifier" class="structfield section-header"><a href="#structfield.const_typifier" class="anchor field">§</a><code>const_typifier: &amp;'temp mut <a class="struct" href="../../struct.Typifier.html" title="struct naga::front::Typifier">Typifier</a></code></span><div class="docblock"><p>Type judgments for <a href="../../../struct.Module.html#structfield.global_expressions" title="field naga::Module::global_expressions"><code>module::global_expressions</code></a>.</p>
</div><span id="structfield.global_expression_kind_tracker" class="structfield section-header"><a href="#structfield.global_expression_kind_tracker" class="anchor field">§</a><code>global_expression_kind_tracker: &amp;'temp mut <a class="struct" href="../../../proc/constant_evaluator/struct.ExpressionKindTracker.html" title="struct naga::proc::constant_evaluator::ExpressionKindTracker">ExpressionKindTracker</a></code></span><span id="structfield.expr_type" class="structfield section-header"><a href="#structfield.expr_type" class="anchor field">§</a><code>expr_type: <a class="enum" href="enum.ExpressionContextType.html" title="enum naga::front::wgsl::lower::ExpressionContextType">ExpressionContextType</a>&lt;'temp, 'out&gt;</code></span><div class="docblock"><p>Whether we are lowering a constant expression or a general
runtime expression, and the data needed in each case.</p>
</div><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-ExpressionContext%3C'source,+'temp,+'out%3E" class="impl"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/conversion.rs.html#8-325">source</a><a href="#impl-ExpressionContext%3C'source,+'temp,+'out%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'source, 'temp, 'out&gt; <a class="struct" href="struct.ExpressionContext.html" title="struct naga::front::wgsl::lower::ExpressionContext">ExpressionContext</a>&lt;'source, 'temp, 'out&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.try_automatic_conversions" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/conversion.rs.html#21-60">source</a><h4 class="code-header">pub fn <a href="#method.try_automatic_conversions" class="fn">try_automatic_conversions</a>(
    &amp;mut self,
    expr: <a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;,
    goal_ty: &amp;<a class="enum" href="../../../proc/typifier/enum.TypeResolution.html" title="enum naga::proc::typifier::TypeResolution">TypeResolution</a>,
    goal_span: <a class="struct" href="../../../span/struct.Span.html" title="struct naga::span::Span">Span</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;, <a class="enum" href="../error/enum.Error.html" title="enum naga::front::wgsl::error::Error">Error</a>&lt;'source&gt;&gt;</h4></section></summary><div class="docblock"><p>Try to use WGSL’s automatic conversions to convert <code>expr</code> to <code>goal_ty</code>.</p>
<p>If no conversions are necessary, return <code>expr</code> unchanged.</p>
<p>If automatic conversions cannot convert <code>expr</code> to <code>goal_ty</code>, return an
<a href="../error/enum.Error.html#variant.AutoConversion" title="variant naga::front::wgsl::error::Error::AutoConversion"><code>AutoConversion</code></a> error.</p>
<p>Although the Load Rule is one of the automatic conversions, this
function assumes it has already been applied if appropriate, as
indicated by the fact that the Rust type of <code>expr</code> is not <code>Typed&lt;_&gt;</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.try_automatic_conversion_for_leaf_scalar" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/conversion.rs.html#74-112">source</a><h4 class="code-header">pub fn <a href="#method.try_automatic_conversion_for_leaf_scalar" class="fn">try_automatic_conversion_for_leaf_scalar</a>(
    &amp;mut self,
    expr: <a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;,
    goal_scalar: <a class="struct" href="../../../struct.Scalar.html" title="struct naga::Scalar">Scalar</a>,
    goal_span: <a class="struct" href="../../../span/struct.Span.html" title="struct naga::span::Span">Span</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;, <a class="enum" href="../error/enum.Error.html" title="enum naga::front::wgsl::error::Error">Error</a>&lt;'source&gt;&gt;</h4></section></summary><div class="docblock"><p>Try to convert <code>expr</code>’s leaf scalar to <code>goal</code> using automatic conversions.</p>
<p>If no conversions are necessary, return <code>expr</code> unchanged.</p>
<p>If automatic conversions cannot convert <code>expr</code> to <code>goal_scalar</code>, return
an <a href="../error/enum.Error.html#variant.AutoConversionLeafScalar" title="variant naga::front::wgsl::error::Error::AutoConversionLeafScalar"><code>AutoConversionLeafScalar</code></a> error.</p>
<p>Although the Load Rule is one of the automatic conversions, this
function assumes it has already been applied if appropriate, as
indicated by the fact that the Rust type of <code>expr</code> is not <code>Typed&lt;_&gt;</code>.</p>
</div></details><section id="method.convert_leaf_scalar" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/conversion.rs.html#114-133">source</a><h4 class="code-header">fn <a href="#method.convert_leaf_scalar" class="fn">convert_leaf_scalar</a>(
    &amp;mut self,
    expr: <a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;,
    expr_span: <a class="struct" href="../../../span/struct.Span.html" title="struct naga::span::Span">Span</a>,
    goal_scalar: <a class="struct" href="../../../struct.Scalar.html" title="struct naga::Scalar">Scalar</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;, <a class="enum" href="../error/enum.Error.html" title="enum naga::front::wgsl::error::Error">Error</a>&lt;'source&gt;&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.try_automatic_conversions_slice" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/conversion.rs.html#136-147">source</a><h4 class="code-header">pub fn <a href="#method.try_automatic_conversions_slice" class="fn">try_automatic_conversions_slice</a>(
    &amp;mut self,
    exprs: &amp;mut [<a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;],
    goal_ty: &amp;<a class="enum" href="../../../proc/typifier/enum.TypeResolution.html" title="enum naga::proc::typifier::TypeResolution">TypeResolution</a>,
    goal_span: <a class="struct" href="../../../span/struct.Span.html" title="struct naga::span::Span">Span</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.Error.html" title="enum naga::front::wgsl::error::Error">Error</a>&lt;'source&gt;&gt;</h4></section></summary><div class="docblock"><p>Try to convert <code>exprs</code> to <code>goal_ty</code> using WGSL’s automatic conversions.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.try_automatic_conversions_for_vector" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/conversion.rs.html#157-195">source</a><h4 class="code-header">pub fn <a href="#method.try_automatic_conversions_for_vector" class="fn">try_automatic_conversions_for_vector</a>(
    &amp;mut self,
    exprs: &amp;mut [<a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;],
    goal_scalar: <a class="struct" href="../../../struct.Scalar.html" title="struct naga::Scalar">Scalar</a>,
    goal_span: <a class="struct" href="../../../span/struct.Span.html" title="struct naga::span::Span">Span</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.Error.html" title="enum naga::front::wgsl::error::Error">Error</a>&lt;'source&gt;&gt;</h4></section></summary><div class="docblock"><p>Apply WGSL’s automatic conversions to a vector constructor’s arguments.</p>
<p>When calling a vector constructor like <code>vec3&lt;f32&gt;(...)</code>, the parameters
can be a mix of scalars and vectors, with the latter being spread out to
contribute each of their components as a component of the new value.
When the element type is explicit, as with <code>&lt;f32&gt;</code> in the example above,
WGSL’s automatic conversions should convert abstract scalar and vector
parameters to the constructor’s required scalar type.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.convert_to_leaf_scalar" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/conversion.rs.html#198-217">source</a><h4 class="code-header">pub fn <a href="#method.convert_to_leaf_scalar" class="fn">convert_to_leaf_scalar</a>(
    &amp;mut self,
    expr: &amp;mut <a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;,
    goal: <a class="struct" href="../../../struct.Scalar.html" title="struct naga::Scalar">Scalar</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.Error.html" title="enum naga::front::wgsl::error::Error">Error</a>&lt;'source&gt;&gt;</h4></section></summary><div class="docblock"><p>Convert <code>expr</code> to the leaf scalar type <code>scalar</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.convert_slice_to_common_leaf_scalar" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/conversion.rs.html#229-239">source</a><h4 class="code-header">pub fn <a href="#method.convert_slice_to_common_leaf_scalar" class="fn">convert_slice_to_common_leaf_scalar</a>(
    &amp;mut self,
    exprs: &amp;mut [<a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;],
    goal: <a class="struct" href="../../../struct.Scalar.html" title="struct naga::Scalar">Scalar</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.Error.html" title="enum naga::front::wgsl::error::Error">Error</a>&lt;'source&gt;&gt;</h4></section></summary><div class="docblock"><p>Convert all expressions in <code>exprs</code> to a common scalar type.</p>
<p>Note that the caller is responsible for making sure these
conversions are actually justified. This function simply
generates <code>As</code> expressions, regardless of whether they are
permitted WGSL automatic conversions. Callers intending to
implement automatic conversions need to determine for
themselves whether the casts we we generate are justified,
perhaps by calling <code>TypeInner::automatically_converts_to</code> or
<code>Scalar::automatic_conversion_combine</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.concretize" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/conversion.rs.html#244-273">source</a><h4 class="code-header">pub fn <a href="#method.concretize" class="fn">concretize</a>(
    &amp;mut self,
    expr: <a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;, <a class="enum" href="../error/enum.Error.html" title="enum naga::front::wgsl::error::Error">Error</a>&lt;'source&gt;&gt;</h4></section></summary><div class="docblock"><p>Return an expression for the concretized value of <code>expr</code>.</p>
<p>If <code>expr</code> is already concrete, return it unchanged.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.automatic_conversion_consensus" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/conversion.rs.html#292-324">source</a><h4 class="code-header">pub fn <a href="#method.automatic_conversion_consensus" class="fn">automatic_conversion_consensus</a>&lt;'handle, I&gt;(
    &amp;self,
    components: I,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../struct.Scalar.html" title="struct naga::Scalar">Scalar</a>, <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.usize.html">usize</a>&gt;<div class="where">where
    I: <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = &amp;'handle <a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;&gt;,
    I::<a class="associatedtype" href="https://doc.rust-lang.org/1.80.1/core/iter/traits/collect/trait.IntoIterator.html#associatedtype.IntoIter" title="type core::iter::traits::collect::IntoIterator::IntoIter">IntoIter</a>: <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,</div></h4></section></summary><div class="docblock"><p>Find the consensus scalar of <code>components</code> under WGSL’s automatic
conversions.</p>
<p>If <code>components</code> can all be converted to any common scalar via
WGSL’s automatic conversions, return the best such scalar.</p>
<p>The <code>components</code> slice must not be empty. All elements’ types must
have been resolved.</p>
<p>If <code>components</code> are definitely not acceptable as arguments to such
constructors, return <code>Err(i)</code>, where <code>i</code> is the index in
<code>components</code> of some problematic argument.</p>
<p>This function doesn’t fully type-check the arguments - it only
considers their leaf scalar types. This means it may return <code>Ok</code>
even when the Naga validator will reject the resulting
construction expression later.</p>
</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-ExpressionContext%3C'source,+'temp,+'out%3E-1" class="impl"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#374-752">source</a><a href="#impl-ExpressionContext%3C'source,+'temp,+'out%3E-1" class="anchor">§</a><h3 class="code-header">impl&lt;'source, 'temp, 'out&gt; <a class="struct" href="struct.ExpressionContext.html" title="struct naga::front::wgsl::lower::ExpressionContext">ExpressionContext</a>&lt;'source, 'temp, 'out&gt;</h3></section></summary><div class="impl-items"><section id="method.as_const" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#375-385">source</a><h4 class="code-header">fn <a href="#method.as_const" class="fn">as_const</a>(&amp;mut self) -&gt; <a class="struct" href="struct.ExpressionContext.html" title="struct naga::front::wgsl::lower::ExpressionContext">ExpressionContext</a>&lt;'source, '_, '_&gt;</h4></section><section id="method.as_global" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#387-396">source</a><h4 class="code-header">fn <a href="#method.as_global" class="fn">as_global</a>(&amp;mut self) -&gt; <a class="struct" href="struct.GlobalContext.html" title="struct naga::front::wgsl::lower::GlobalContext">GlobalContext</a>&lt;'source, '_, '_&gt;</h4></section><section id="method.as_const_evaluator" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#398-429">source</a><h4 class="code-header">fn <a href="#method.as_const_evaluator" class="fn">as_const_evaluator</a>(&amp;mut self) -&gt; <a class="struct" href="../../../proc/constant_evaluator/struct.ConstantEvaluator.html" title="struct naga::proc::constant_evaluator::ConstantEvaluator">ConstantEvaluator</a>&lt;'_&gt;</h4></section><section id="method.append_expression" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#431-439">source</a><h4 class="code-header">fn <a href="#method.append_expression" class="fn">append_expression</a>(
    &amp;mut self,
    expr: <a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>,
    span: <a class="struct" href="../../../span/struct.Span.html" title="struct naga::span::Span">Span</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;, <a class="enum" href="../error/enum.Error.html" title="enum naga::front::wgsl::error::Error">Error</a>&lt;'source&gt;&gt;</h4></section><section id="method.const_access" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#441-465">source</a><h4 class="code-header">fn <a href="#method.const_access" class="fn">const_access</a>(&amp;self, handle: <a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u32.html">u32</a>&gt;</h4></section><section id="method.get_expression_span" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#467-477">source</a><h4 class="code-header">fn <a href="#method.get_expression_span" class="fn">get_expression_span</a>(&amp;self, handle: <a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;) -&gt; <a class="struct" href="../../../span/struct.Span.html" title="struct naga::span::Span">Span</a></h4></section><section id="method.typifier" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#479-487">source</a><h4 class="code-header">fn <a href="#method.typifier" class="fn">typifier</a>(&amp;self) -&gt; &amp;<a class="struct" href="../../struct.Typifier.html" title="struct naga::front::Typifier">Typifier</a></h4></section><section id="method.local" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#489-501">source</a><h4 class="code-header">fn <a href="#method.local" class="fn">local</a>(
    &amp;mut self,
    local: &amp;<a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="struct" href="../parse/ast/struct.Local.html" title="struct naga::front::wgsl::parse::ast::Local">Local</a>&gt;,
    span: <a class="struct" href="../../../span/struct.Span.html" title="struct naga::span::Span">Span</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="enum.Typed.html" title="enum naga::front::wgsl::lower::Typed">Typed</a>&lt;<a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;&gt;, <a class="enum" href="../error/enum.Error.html" title="enum naga::front::wgsl::error::Error">Error</a>&lt;'source&gt;&gt;</h4></section><section id="method.runtime_expression_ctx" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#503-513">source</a><h4 class="code-header">fn <a href="#method.runtime_expression_ctx" class="fn">runtime_expression_ctx</a>(
    &amp;mut self,
    span: <a class="struct" href="../../../span/struct.Span.html" title="struct naga::span::Span">Span</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;&amp;mut <a class="struct" href="struct.LocalExpressionContext.html" title="struct naga::front::wgsl::lower::LocalExpressionContext">LocalExpressionContext</a>&lt;'temp, 'out&gt;, <a class="enum" href="../error/enum.Error.html" title="enum naga::front::wgsl::error::Error">Error</a>&lt;'source&gt;&gt;</h4></section><section id="method.gather_component" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#515-552">source</a><h4 class="code-header">fn <a href="#method.gather_component" class="fn">gather_component</a>(
    &amp;mut self,
    expr: <a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;,
    component_span: <a class="struct" href="../../../span/struct.Span.html" title="struct naga::span::Span">Span</a>,
    gather_span: <a class="struct" href="../../../span/struct.Span.html" title="struct naga::span::Span">Span</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="../../../enum.SwizzleComponent.html" title="enum naga::SwizzleComponent">SwizzleComponent</a>, <a class="enum" href="../error/enum.Error.html" title="enum naga::front::wgsl::error::Error">Error</a>&lt;'source&gt;&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.register_type" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#564-580">source</a><h4 class="code-header">fn <a href="#method.register_type" class="fn">register_type</a>(
    &amp;mut self,
    handle: <a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="struct" href="../../../struct.Type.html" title="struct naga::Type">Type</a>&gt;, <a class="enum" href="../error/enum.Error.html" title="enum naga::front::wgsl::error::Error">Error</a>&lt;'source&gt;&gt;</h4></section></summary><div class="docblock"><p>Determine the type of <code>handle</code>, and add it to the module’s arena.</p>
<p>If you just need a <code>TypeInner</code> for <code>handle</code>’s type, use the
<a href="macro.resolve_inner.html" title="macro naga::front::wgsl::lower::resolve_inner"><code>resolve_inner!</code></a> macro instead. This function
should only be used when the type of <code>handle</code> needs to appear
in the module’s final <code>Arena&lt;Type&gt;</code>, for example, if you’re
creating a <a href="../../../struct.LocalVariable.html" title="struct naga::LocalVariable"><code>LocalVariable</code></a> whose type is inferred from its
initializer.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.grow_types" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#602-632">source</a><h4 class="code-header">fn <a href="#method.grow_types" class="fn">grow_types</a>(
    &amp;mut self,
    handle: <a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.reference.html">&amp;mut Self</a>, <a class="enum" href="../error/enum.Error.html" title="enum naga::front::wgsl::error::Error">Error</a>&lt;'source&gt;&gt;</h4></section></summary><div class="docblock"><p>Resolve the types of all expressions up through <code>handle</code>.</p>
<p>Ensure that <a href="struct.ExpressionContext.html#method.typifier" title="method naga::front::wgsl::lower::ExpressionContext::typifier"><code>self.typifier</code></a> has a <a href="../../../proc/typifier/enum.TypeResolution.html" title="enum naga::proc::typifier::TypeResolution"><code>TypeResolution</code></a> for
every expression in [<code>self.function.expressions</code>].</p>
<p>This does not add types to any arena. The <a href="../../struct.Typifier.html" title="struct naga::front::Typifier"><code>Typifier</code></a>
documentation explains the steps we take to avoid filling
arenas with intermediate types.</p>
<p>This function takes <code>&amp;mut self</code>, so it can’t conveniently
return a shared reference to the resulting <code>TypeResolution</code>:
the shared reference would extend the mutable borrow, and you
wouldn’t be able to use <code>self</code> for anything else. Instead, you
should use <a href="struct.ExpressionContext.html#method.register_type" title="method naga::front::wgsl::lower::ExpressionContext::register_type"><code>register_type</code></a> or one of <a href="macro.resolve.html" title="macro naga::front::wgsl::lower::resolve"><code>resolve!</code></a>,
<a href="macro.resolve_inner.html" title="macro naga::front::wgsl::lower::resolve_inner"><code>resolve_inner!</code></a> or <a href="macro.resolve_inner_binary.html" title="macro naga::front::wgsl::lower::resolve_inner_binary"><code>resolve_inner_binary!</code></a>.</p>
</div></details><section id="method.image_data" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#634-643">source</a><h4 class="code-header">fn <a href="#method.image_data" class="fn">image_data</a>(
    &amp;mut self,
    image: <a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;,
    span: <a class="struct" href="../../../span/struct.Span.html" title="struct naga::span::Span">Span</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="enum" href="../../../enum.ImageClass.html" title="enum naga::ImageClass">ImageClass</a>, <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.bool.html">bool</a>), <a class="enum" href="../error/enum.Error.html" title="enum naga::front::wgsl::error::Error">Error</a>&lt;'source&gt;&gt;</h4></section><section id="method.prepare_args" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#645-658">source</a><h4 class="code-header">fn <a href="#method.prepare_args" class="fn">prepare_args</a>&lt;'b&gt;(
    &amp;mut self,
    args: &amp;'b [<a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../parse/ast/enum.Expression.html" title="enum naga::front::wgsl::parse::ast::Expression">Expression</a>&lt;'source&gt;&gt;],
    min_args: <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.u32.html">u32</a>,
    span: <a class="struct" href="../../../span/struct.Span.html" title="struct naga::span::Span">Span</a>,
) -&gt; <a class="struct" href="struct.ArgumentContext.html" title="struct naga::front::wgsl::lower::ArgumentContext">ArgumentContext</a>&lt;'b, 'source&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.binary_op_splat" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#667-701">source</a><h4 class="code-header">fn <a href="#method.binary_op_splat" class="fn">binary_op_splat</a>(
    &amp;mut self,
    op: <a class="enum" href="../../../enum.BinaryOperator.html" title="enum naga::BinaryOperator">BinaryOperator</a>,
    left: &amp;mut <a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;,
    right: &amp;mut <a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.unit.html">()</a>, <a class="enum" href="../error/enum.Error.html" title="enum naga::front::wgsl::error::Error">Error</a>&lt;'source&gt;&gt;</h4></section></summary><div class="docblock"><p>Insert splats, if needed by the non-‘*’ operations.</p>
<p>See the “Binary arithmetic expressions with mixed scalar and vector operands”
table in the WebGPU Shading Language specification for relevant operators.</p>
<p>Multiply is not handled here as backends are expected to handle vec*scalar
operations, so inserting splats into the IR increases size needlessly.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.interrupt_emitter" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#707-729">source</a><h4 class="code-header">fn <a href="#method.interrupt_emitter" class="fn">interrupt_emitter</a>(
    &amp;mut self,
    expression: <a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>,
    span: <a class="struct" href="../../../span/struct.Span.html" title="struct naga::span::Span">Span</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;, <a class="enum" href="../error/enum.Error.html" title="enum naga::front::wgsl::error::Error">Error</a>&lt;'source&gt;&gt;</h4></section></summary><div class="docblock"><p>Add a single expression to the expression table that is not covered by <code>self.emitter</code>.</p>
<p>This is useful for <code>CallResult</code> and <code>AtomicResult</code> expressions, which should not be covered by
<code>Emit</code> statements.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.apply_load_rule" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#735-747">source</a><h4 class="code-header">fn <a href="#method.apply_load_rule" class="fn">apply_load_rule</a>(
    &amp;mut self,
    expr: <a class="enum" href="enum.Typed.html" title="enum naga::front::wgsl::lower::Typed">Typed</a>&lt;<a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="enum" href="../../../enum.Expression.html" title="enum naga::Expression">Expression</a>&gt;, <a class="enum" href="../error/enum.Error.html" title="enum naga::front::wgsl::error::Error">Error</a>&lt;'source&gt;&gt;</h4></section></summary><div class="docblock"><p>Apply the WGSL Load Rule to <code>expr</code>.</p>
<p>If <code>expr</code> is has type <code>ref&lt;SC, T, A&gt;</code>, perform a load to produce a value of type
<code>T</code>. Otherwise, return <code>expr</code> unchanged.</p>
</div></details><section id="method.ensure_type_exists" class="method"><a class="src rightside" href="../../../../src/naga/front/wgsl/lower/mod.rs.html#749-751">source</a><h4 class="code-header">fn <a href="#method.ensure_type_exists" class="fn">ensure_type_exists</a>(&amp;mut self, inner: <a class="enum" href="../../../enum.TypeInner.html" title="enum naga::TypeInner">TypeInner</a>) -&gt; <a class="struct" href="../../../arena/handle/struct.Handle.html" title="struct naga::arena::handle::Handle">Handle</a>&lt;<a class="struct" href="../../../struct.Type.html" title="struct naga::Type">Type</a>&gt;</h4></section></div></details></div><h2 id="synthetic-implementations" class="section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-Freeze-for-ExpressionContext%3C'source,+'temp,+'out%3E" class="impl"><a href="#impl-Freeze-for-ExpressionContext%3C'source,+'temp,+'out%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'source, 'temp, 'out&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/marker/trait.Freeze.html" title="trait core::marker::Freeze">Freeze</a> for <a class="struct" href="struct.ExpressionContext.html" title="struct naga::front::wgsl::lower::ExpressionContext">ExpressionContext</a>&lt;'source, 'temp, 'out&gt;</h3></section><section id="impl-RefUnwindSafe-for-ExpressionContext%3C'source,+'temp,+'out%3E" class="impl"><a href="#impl-RefUnwindSafe-for-ExpressionContext%3C'source,+'temp,+'out%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'source, 'temp, 'out&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.ExpressionContext.html" title="struct naga::front::wgsl::lower::ExpressionContext">ExpressionContext</a>&lt;'source, 'temp, 'out&gt;</h3></section><section id="impl-Send-for-ExpressionContext%3C'source,+'temp,+'out%3E" class="impl"><a href="#impl-Send-for-ExpressionContext%3C'source,+'temp,+'out%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'source, 'temp, 'out&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.ExpressionContext.html" title="struct naga::front::wgsl::lower::ExpressionContext">ExpressionContext</a>&lt;'source, 'temp, 'out&gt;</h3></section><section id="impl-Sync-for-ExpressionContext%3C'source,+'temp,+'out%3E" class="impl"><a href="#impl-Sync-for-ExpressionContext%3C'source,+'temp,+'out%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'source, 'temp, 'out&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.ExpressionContext.html" title="struct naga::front::wgsl::lower::ExpressionContext">ExpressionContext</a>&lt;'source, 'temp, 'out&gt;</h3></section><section id="impl-Unpin-for-ExpressionContext%3C'source,+'temp,+'out%3E" class="impl"><a href="#impl-Unpin-for-ExpressionContext%3C'source,+'temp,+'out%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'source, 'temp, 'out&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.ExpressionContext.html" title="struct naga::front::wgsl::lower::ExpressionContext">ExpressionContext</a>&lt;'source, 'temp, 'out&gt;</h3></section><section id="impl-UnwindSafe-for-ExpressionContext%3C'source,+'temp,+'out%3E" class="impl"><a href="#impl-UnwindSafe-for-ExpressionContext%3C'source,+'temp,+'out%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'source, 'temp, 'out&gt; !<a class="trait" href="https://doc.rust-lang.org/1.80.1/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.ExpressionContext.html" title="struct naga::front::wgsl::lower::ExpressionContext">ExpressionContext</a>&lt;'source, 'temp, 'out&gt;</h3></section></div><h2 id="blanket-implementations" class="section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/any.rs.html#140">source</a><a href="#impl-Any-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<div class="where">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/1.80.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/any.rs.html#141">source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.80.1/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.80.1/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/1.80.1/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/borrow.rs.html#208">source</a><a href="#impl-Borrow%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.80.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/borrow.rs.html#210">source</a><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.80.1/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.80.1/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/borrow.rs.html#216">source</a><a href="#impl-BorrowMut%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.80.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/borrow.rs.html#217">source</a><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.80.1/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.80.1/std/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.80.1/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/convert/mod.rs.html#765">source</a><a href="#impl-From%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/convert/mod.rs.html#768">source</a><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.80.1/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/convert/mod.rs.html#748-750">source</a><a href="#impl-Into%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/convert/mod.rs.html#758">source</a><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.80.1/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/1.80.1/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/convert/mod.rs.html#805-807">source</a><a href="#impl-TryFrom%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/convert/mod.rs.html#812">source</a><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/convert/mod.rs.html#790-792">source</a><a href="#impl-TryInto%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.80.1/src/core/convert/mod.rs.html#797">source</a><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.80.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.80.1/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details></div></section></div></main></body></html>