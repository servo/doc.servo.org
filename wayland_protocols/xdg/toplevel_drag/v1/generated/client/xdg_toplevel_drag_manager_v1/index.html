<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Move a window during a drag"><title>wayland_protocols::xdg::toplevel_drag::v1::generated::client::xdg_toplevel_drag_manager_v1 - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../../../../../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../../../../../../../" data-static-root-path="../../../../../../../static.files/" data-current-crate="wayland_protocols" data-themes="" data-resource-suffix="" data-rustdoc-version="1.80.1 (3f5fd8dd4 2024-08-06)" data-channel="1.80.1" data-search-js="search-d52510db62a78183.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../../../../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../../../../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../../../../../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../../../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../../../../wayland_protocols/index.html">wayland_protocols</a><span class="version">0.32.5</span></h2></div><h2 class="location"><a href="#">Module xdg_toplevel_drag_manager_v1</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li></ul></section><h2><a href="../index.html">In wayland_protocols::xdg::toplevel_drag::v1::generated::client</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../../../../../index.html">wayland_protocols</a>::<wbr><a href="../../../../../index.html">xdg</a>::<wbr><a href="../../../../index.html">toplevel_drag</a>::<wbr><a href="../../../index.html">v1</a>::<wbr><a href="../../index.html">generated</a>::<wbr><a href="../index.html">client</a>::<wbr><a class="mod" href="#">xdg_toplevel_drag_manager_v1</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../../../../../../src/wayland_protocols/xdg.rs.html#177-180">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Move a window during a drag</p>
<p>This protocol enhances normal drag and drop with the ability to move a
window at the same time. This allows having detachable parts of a window
that when dragged out of it become a new window and can be dragged over
an existing window to be reattached.</p>
<p>A typical workflow would be when the user starts dragging on top of a
detachable part of a window, the client would create a wl_data_source and
a xdg_toplevel_drag_v1 object and start the drag as normal via
wl_data_device.start_drag. Once the client determines that the detachable
window contents should be detached from the originating window, it creates
a new xdg_toplevel with these contents and issues a
xdg_toplevel_drag_v1.attach request before mapping it. From now on the new
window is moved by the compositor during the drag as if the client called
xdg_toplevel.move.</p>
<p>Dragging an existing window is similar. The client creates a
xdg_toplevel_drag_v1 object and attaches the existing toplevel before
starting the drag.</p>
<p>Clients use the existing drag and drop mechanism to detect when a window
can be docked or undocked. If the client wants to snap a window into a
parent window it should delete or unmap the dragged top-level. If the
contents should be detached again it attaches a new toplevel as described
above. If a drag operation is cancelled without being dropped, clients
should revert to the previous state, deleting any newly created windows
as appropriate. When a drag operation ends as indicated by
wl_data_source.dnd_drop_performed the dragged toplevel window’s final
position is determined as if a xdg_toplevel_move operation ended.</p>
<p>Warning! The protocol described in this file is currently in the testing
phase. Backward compatible changes may be added together with the
corresponding interface version bump. Backward incompatible changes can
only be done by creating a new major version of the extension.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.XdgToplevelDragManagerV1.html" title="struct wayland_protocols::xdg::toplevel_drag::v1::generated::client::xdg_toplevel_drag_manager_v1::XdgToplevelDragManagerV1">XdgToplevelDragManagerV1</a></div><div class="desc docblock-short">Move a window during a drag</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Error.html" title="enum wayland_protocols::xdg::toplevel_drag::v1::generated::client::xdg_toplevel_drag_manager_v1::Error">Error</a></div></li><li><div class="item-name"><a class="enum" href="enum.Event.html" title="enum wayland_protocols::xdg::toplevel_drag::v1::generated::client::xdg_toplevel_drag_manager_v1::Event">Event</a></div></li><li><div class="item-name"><a class="enum" href="enum.Request.html" title="enum wayland_protocols::xdg::toplevel_drag::v1::generated::client::xdg_toplevel_drag_manager_v1::Request">Request</a></div></li></ul><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.REQ_DESTROY_OPCODE.html" title="constant wayland_protocols::xdg::toplevel_drag::v1::generated::client::xdg_toplevel_drag_manager_v1::REQ_DESTROY_OPCODE">REQ_DESTROY_OPCODE</a></div><div class="desc docblock-short">The wire opcode for this request</div></li><li><div class="item-name"><a class="constant" href="constant.REQ_DESTROY_SINCE.html" title="constant wayland_protocols::xdg::toplevel_drag::v1::generated::client::xdg_toplevel_drag_manager_v1::REQ_DESTROY_SINCE">REQ_DESTROY_SINCE</a></div><div class="desc docblock-short">The minimal object version supporting this request</div></li><li><div class="item-name"><a class="constant" href="constant.REQ_GET_XDG_TOPLEVEL_DRAG_OPCODE.html" title="constant wayland_protocols::xdg::toplevel_drag::v1::generated::client::xdg_toplevel_drag_manager_v1::REQ_GET_XDG_TOPLEVEL_DRAG_OPCODE">REQ_GET_XDG_TOPLEVEL_DRAG_OPCODE</a></div><div class="desc docblock-short">The wire opcode for this request</div></li><li><div class="item-name"><a class="constant" href="constant.REQ_GET_XDG_TOPLEVEL_DRAG_SINCE.html" title="constant wayland_protocols::xdg::toplevel_drag::v1::generated::client::xdg_toplevel_drag_manager_v1::REQ_GET_XDG_TOPLEVEL_DRAG_SINCE">REQ_GET_XDG_TOPLEVEL_DRAG_SINCE</a></div><div class="desc docblock-short">The minimal object version supporting this request</div></li></ul></section></div></main></body></html>