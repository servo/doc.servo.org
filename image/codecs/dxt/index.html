<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Decoding of DXT (S3TC) compression"><title>image::codecs::dxt - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="image" data-themes="" data-resource-suffix="" data-rustdoc-version="1.80.1 (3f5fd8dd4 2024-08-06)" data-channel="1.80.1" data-search-js="search-d52510db62a78183.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../image/index.html">image</a><span class="version">0.24.9</span></h2></div><h2 class="location"><a href="#">Module dxt</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Aliases</a></li></ul></section><h2><a href="../index.html">In image::codecs</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../index.html">image</a>::<wbr><a href="../index.html">codecs</a>::<wbr><a class="mod" href="#">dxt</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../../src/image/codecs/dxt.rs.html#1-879">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: DXT support will be removed or reworked in a future version. Prefer the <code>squish</code> crate instead. See https://github.com/image-rs/image/issues/1623</span></div></span><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Decoding of DXT (S3TC) compression</p>
<p>DXT is an image format that supports lossy compression</p>
<h2 id="related-links"><a class="doc-anchor" href="#related-links">Â§</a>Related Links</h2>
<ul>
<li><a href="https://www.khronos.org/registry/OpenGL/extensions/EXT/EXT_texture_compression_s3tc.txt">https://www.khronos.org/registry/OpenGL/extensions/EXT/EXT_texture_compression_s3tc.txt</a> - Description of the DXT compression OpenGL extensions.</li>
</ul>
<p>Note: this module only implements bare DXT encoding/decoding, it does not parse formats that can contain DXT files like .dds</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.DxtDecoder.html" title="struct image::codecs::dxt::DxtDecoder">DxtDecoder</a><span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">DXT decoder</div></li><li><div class="item-name"><a class="struct" href="struct.DxtEncoder.html" title="struct image::codecs::dxt::DxtEncoder">DxtEncoder</a><span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">DXT encoder</div></li><li><div class="item-name"><a class="struct" href="struct.DxtReader.html" title="struct image::codecs::dxt::DxtReader">DxtReader</a><span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">DXT reader</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.DxtVariant.html" title="enum image::codecs::dxt::DxtVariant">DxtVariant</a><span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">What version of DXT compression are we using?
Note that DXT2 and DXT4 are left away as theyâ€™re
just DXT3 and DXT5 with premultiplied alpha</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.alpha_table_dxt5.html" title="fn image::codecs::dxt::alpha_table_dxt5">alpha_table_dxt5</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Constructs the DXT5 alpha lookup table from the two alpha entries
if alpha0 &gt; alpha1, constructs a table of [a0, a1, 6 linearly interpolated values from a0 to a1]
if alpha0 &lt;= alpha1, constructs a table of [a0, a1, 4 linearly interpolated values from a0 to a1, 0, 0xFF]</div></li><li><div class="item-name"><a class="fn" href="fn.decode_dxt1_block.html" title="fn image::codecs::dxt::decode_dxt1_block">decode_dxt1_block</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Decodes a 8-byte bock of dxt5 data to a 16xRGB block</div></li><li><div class="item-name"><a class="fn" href="fn.decode_dxt1_row.html" title="fn image::codecs::dxt::decode_dxt1_row">decode_dxt1_row</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Decode a row of DXT1 data to four rows of RGB data.
source.len() should be a multiple of 8, otherwise this panics.</div></li><li><div class="item-name"><a class="fn" href="fn.decode_dxt3_block.html" title="fn image::codecs::dxt::decode_dxt3_block">decode_dxt3_block</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Decodes a 16-byte bock of dxt3 data to a 16xRGBA block</div></li><li><div class="item-name"><a class="fn" href="fn.decode_dxt3_row.html" title="fn image::codecs::dxt::decode_dxt3_row">decode_dxt3_row</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Decode a row of DXT3 data to four rows of RGBA data.
source.len() should be a multiple of 16, otherwise this panics.</div></li><li><div class="item-name"><a class="fn" href="fn.decode_dxt5_block.html" title="fn image::codecs::dxt::decode_dxt5_block">decode_dxt5_block</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Decodes a 16-byte bock of dxt5 data to a 16xRGBA block</div></li><li><div class="item-name"><a class="fn" href="fn.decode_dxt5_row.html" title="fn image::codecs::dxt::decode_dxt5_row">decode_dxt5_row</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Decode a row of DXT5 data to four rows of RGBA data.
source.len() should be a multiple of 16, otherwise this panics.</div></li><li><div class="item-name"><a class="fn" href="fn.decode_dxt_colors.html" title="fn image::codecs::dxt::decode_dxt_colors">decode_dxt_colors</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">decodes an 8-byte dxt color block into the RGB channels of a 16xRGB or 16xRGBA block.
source should have a length of 8, dest a length of 48 (RGB) or 64 (RGBA)</div></li><li><div class="item-name"><a class="fn" href="fn.diff.html" title="fn image::codecs::dxt::diff">diff</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">returns the squared error between two RGB values</div></li><li><div class="item-name"><a class="fn" href="fn.enc565_decode.html" title="fn image::codecs::dxt::enc565_decode">enc565_decode</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">decodes a 5-bit R, 6-bit G, 5-bit B 16-bit packed color value into 8-bit RGB
mapping is done so min/max range values are preserved. So for 5-bit
values 0x00 -&gt; 0x00 and 0x1F -&gt; 0xFF</div></li><li><div class="item-name"><a class="fn" href="fn.enc565_encode.html" title="fn image::codecs::dxt::enc565_encode">enc565_encode</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">encodes an 8-bit RGB value into a 5-bit R, 6-bit G, 5-bit B 16-bit packed color value
mapping preserves min/max values. It is guaranteed that i == encode(decode(i)) for all i</div></li><li><div class="item-name"><a class="fn" href="fn.encode_dxt1_block.html" title="fn image::codecs::dxt::encode_dxt1_block">encode_dxt1_block</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Encodes a RGBx16 sequence of bytes into a 8 bytes DXT1 block</div></li><li><div class="item-name"><a class="fn" href="fn.encode_dxt1_row.html" title="fn image::codecs::dxt::encode_dxt1_row">encode_dxt1_row</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Decode a row of DXT1 data to four rows of RGBA data.
source.len() should be a multiple of 8, otherwise this panics.</div></li><li><div class="item-name"><a class="fn" href="fn.encode_dxt3_block.html" title="fn image::codecs::dxt::encode_dxt3_block">encode_dxt3_block</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Encodes a RGBAx16 sequence of bytes into a 16 bytes DXT3 block</div></li><li><div class="item-name"><a class="fn" href="fn.encode_dxt3_row.html" title="fn image::codecs::dxt::encode_dxt3_row">encode_dxt3_row</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Decode a row of DXT3 data to four rows of RGBA data.
source.len() should be a multiple of 16, otherwise this panics.</div></li><li><div class="item-name"><a class="fn" href="fn.encode_dxt5_alpha.html" title="fn image::codecs::dxt::encode_dxt5_alpha">encode_dxt5_alpha</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Encodes a buffer of 16 alpha bytes into a dxt5 alpha index table,
where the alpha table they are indexed against is created by
calling alpha_table_dxt5(alpha0, alpha1)
returns the resulting error and alpha table</div></li><li><div class="item-name"><a class="fn" href="fn.encode_dxt5_block.html" title="fn image::codecs::dxt::encode_dxt5_block">encode_dxt5_block</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Encodes a RGBAx16 sequence of bytes to a 16 bytes DXT5 block</div></li><li><div class="item-name"><a class="fn" href="fn.encode_dxt5_row.html" title="fn image::codecs::dxt::encode_dxt5_row">encode_dxt5_row</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Decode a row of DXT5 data to four rows of RGBA data.
source.len() should be a multiple of 16, otherwise this panics.</div></li><li><div class="item-name"><a class="fn" href="fn.encode_dxt_colors.html" title="fn image::codecs::dxt::encode_dxt_colors">encode_dxt_colors</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Tries to perform the color encoding part of dxt compression
the approach taken is simple, it picks unique combinations
of the colors present in the block, and attempts to encode the
block with each, picking the encoding that yields the least
squared error out of all of them.</div></li><li><div class="item-name"><a class="fn" href="fn.square.html" title="fn image::codecs::dxt::square">square</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">utility function: squares a value</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.Rgb.html" title="type image::codecs::dxt::Rgb">Rgb</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <span class="stab deprecated" title="">Deprecated</span></div></li></ul></section></div></main></body></html>