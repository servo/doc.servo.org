<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Chinese-like lunar calendars (Chinese, Dangi)"><title>calendrical_calculations::chinese_based - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="calendrical_calculations" data-themes="" data-resource-suffix="" data-rustdoc-version="1.80.1 (3f5fd8dd4 2024-08-06)" data-channel="1.80.1" data-search-js="search-d52510db62a78183.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../calendrical_calculations/index.html">calendrical_calculations</a><span class="version">0.1.1</span></h2></div><h2 class="location"><a href="#">Module chinese_based</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In crate calendrical_calculations</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">calendrical_calculations</a>::<wbr><a class="mod" href="#">chinese_based</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/calendrical_calculations/chinese_based.rs.html#1-818">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Chinese-like lunar calendars (Chinese, Dangi)</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Chinese.html" title="struct calendrical_calculations::chinese_based::Chinese">Chinese</a></div><div class="desc docblock-short">A type implementing <a href="trait.ChineseBased.html" title="trait calendrical_calculations::chinese_based::ChineseBased"><code>ChineseBased</code></a> for the Chinese calendar</div></li><li><div class="item-name"><a class="struct" href="struct.ChineseFromFixedResult.html" title="struct calendrical_calculations::chinese_based::ChineseFromFixedResult">ChineseFromFixedResult</a></div><div class="desc docblock-short">chinese_based_date_from_fixed returns extra things for use in caching</div></li><li><div class="item-name"><a class="struct" href="struct.Dangi.html" title="struct calendrical_calculations::chinese_based::Dangi">Dangi</a></div><div class="desc docblock-short">A type implementing <a href="trait.ChineseBased.html" title="trait calendrical_calculations::chinese_based::ChineseBased"><code>ChineseBased</code></a> for the Dangi (Korean) calendar</div></li><li><div class="item-name"><a class="struct" href="struct.YearBounds.html" title="struct calendrical_calculations::chinese_based::YearBounds">YearBounds</a></div><div class="desc docblock-short">Marks the bounds of a lunar year</div></li></ul><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.CHINESE_EPOCH.html" title="constant calendrical_calculations::chinese_based::CHINESE_EPOCH">CHINESE_EPOCH</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.CHINESE_EPOCH_ISO.html" title="constant calendrical_calculations::chinese_based::CHINESE_EPOCH_ISO">CHINESE_EPOCH_ISO</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.CHINESE_LOCATION_POST_1929.html" title="constant calendrical_calculations::chinese_based::CHINESE_LOCATION_POST_1929">CHINESE_LOCATION_POST_1929</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.CHINESE_LOCATION_PRE_1929.html" title="constant calendrical_calculations::chinese_based::CHINESE_LOCATION_PRE_1929">CHINESE_LOCATION_PRE_1929</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.FIXED_1908.html" title="constant calendrical_calculations::chinese_based::FIXED_1908">FIXED_1908</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.FIXED_1912.html" title="constant calendrical_calculations::chinese_based::FIXED_1912">FIXED_1912</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.FIXED_1954.html" title="constant calendrical_calculations::chinese_based::FIXED_1954">FIXED_1954</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.FIXED_1961.html" title="constant calendrical_calculations::chinese_based::FIXED_1961">FIXED_1961</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.KOREAN_ELEVATION.html" title="constant calendrical_calculations::chinese_based::KOREAN_ELEVATION">KOREAN_ELEVATION</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.KOREAN_EPOCH.html" title="constant calendrical_calculations::chinese_based::KOREAN_EPOCH">KOREAN_EPOCH</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.KOREAN_EPOCH_ISO.html" title="constant calendrical_calculations::chinese_based::KOREAN_EPOCH_ISO">KOREAN_EPOCH_ISO</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.KOREAN_LATITUDE.html" title="constant calendrical_calculations::chinese_based::KOREAN_LATITUDE">KOREAN_LATITUDE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.KOREAN_LOCATION_1908.html" title="constant calendrical_calculations::chinese_based::KOREAN_LOCATION_1908">KOREAN_LOCATION_1908</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.KOREAN_LOCATION_1912.html" title="constant calendrical_calculations::chinese_based::KOREAN_LOCATION_1912">KOREAN_LOCATION_1912</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.KOREAN_LOCATION_1954.html" title="constant calendrical_calculations::chinese_based::KOREAN_LOCATION_1954">KOREAN_LOCATION_1954</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.KOREAN_LOCATION_1961.html" title="constant calendrical_calculations::chinese_based::KOREAN_LOCATION_1961">KOREAN_LOCATION_1961</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.KOREAN_LOCATION_ORIGINAL.html" title="constant calendrical_calculations::chinese_based::KOREAN_LOCATION_ORIGINAL">KOREAN_LOCATION_ORIGINAL</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.KOREAN_LONGITUDE.html" title="constant calendrical_calculations::chinese_based::KOREAN_LONGITUDE">KOREAN_LONGITUDE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.MAX_ITERS_FOR_MONTHS_OF_YEAR.html" title="constant calendrical_calculations::chinese_based::MAX_ITERS_FOR_MONTHS_OF_YEAR">MAX_ITERS_FOR_MONTHS_OF_YEAR</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.UTC_OFFSET_1908.html" title="constant calendrical_calculations::chinese_based::UTC_OFFSET_1908">UTC_OFFSET_1908</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.UTC_OFFSET_1912.html" title="constant calendrical_calculations::chinese_based::UTC_OFFSET_1912">UTC_OFFSET_1912</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.UTC_OFFSET_1954.html" title="constant calendrical_calculations::chinese_based::UTC_OFFSET_1954">UTC_OFFSET_1954</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.UTC_OFFSET_1961.html" title="constant calendrical_calculations::chinese_based::UTC_OFFSET_1961">UTC_OFFSET_1961</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.UTC_OFFSET_ORIGINAL.html" title="constant calendrical_calculations::chinese_based::UTC_OFFSET_ORIGINAL">UTC_OFFSET_ORIGINAL</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">The Korean Dangi calendar relies on knowing the current day at the moment of a new moon;
however, this can vary depending on location. As such, new moon calculations are based on
the time in Seoul. Before 1908, local time was used, represented as UTC+(3809/450 h).
This changed multiple times as different standard timezones were adopted in Korea.
Currently, UTC+9h is used.</div></li><li><div class="item-name"><a class="constant" href="constant.UTC_OFFSET_POST_1929.html" title="constant calendrical_calculations::chinese_based::UTC_OFFSET_POST_1929">UTC_OFFSET_POST_1929</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.UTC_OFFSET_PRE_1929.html" title="constant calendrical_calculations::chinese_based::UTC_OFFSET_PRE_1929">UTC_OFFSET_PRE_1929</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">The Chinese calendar relies on knowing the current day at the moment of a new moon;
however, this can vary depending on location. As such, new moon calculations are based
on the time in Beijing. Before 1929, local time was used, represented as UTC+(1397/180 h).
In 1929, China adopted a standard time zone based on 120 degrees of longitude, meaning
from 1929 onward, all new moon calculations are based on UTC+8h.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.ChineseBased.html" title="trait calendrical_calculations::chinese_based::ChineseBased">ChineseBased</a></div><div class="desc docblock-short">The trait ChineseBased is used by Chinese-based calendars to perform computations shared by such calendar.
To do so, calendars should:</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.bind_winter_solstice.html" title="fn calendrical_calculations::chinese_based::bind_winter_solstice">bind_winter_solstice</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">This function forces the RataDie to be on December 20, 21, 22, or 23. It was
created for practical considerations and is not in the text.</div></li><li><div class="item-name"><a class="fn" href="fn.chinese_based_date_from_fixed.html" title="fn calendrical_calculations::chinese_based::chinese_based_date_from_fixed">chinese_based_date_from_fixed</a></div><div class="desc docblock-short">Get a chinese based date from a fixed date, with the related ISO year</div></li><li><div class="item-name"><a class="fn" href="fn.days_in_month.html" title="fn calendrical_calculations::chinese_based::days_in_month">days_in_month</a></div><div class="desc docblock-short">Returns the number of days in the given <code>month</code> after the given <code>new_year</code>.
Also returns the RataDie of the new moon beginning the next month.</div></li><li><div class="item-name"><a class="fn" href="fn.days_in_prev_year.html" title="fn calendrical_calculations::chinese_based::days_in_prev_year">days_in_prev_year</a></div><div class="desc docblock-short">Given a new year, calculate the number of days in the previous year</div></li><li><div class="item-name"><a class="fn" href="fn.days_in_provided_year.html" title="fn calendrical_calculations::chinese_based::days_in_provided_year">days_in_provided_year</a></div><div class="desc docblock-short">Calculated the numbers of days in the given year</div></li><li><div class="item-name"><a class="fn" href="fn.days_until_month.html" title="fn calendrical_calculations::chinese_based::days_until_month">days_until_month</a></div><div class="desc docblock-short">Given the new year and a month/day pair, calculate the number of days until the first day of the given month</div></li><li><div class="item-name"><a class="fn" href="fn.fixed_mid_year_from_year.html" title="fn calendrical_calculations::chinese_based::fixed_mid_year_from_year">fixed_mid_year_from_year</a></div><div class="desc docblock-short">Get a RataDie in the middle of a year; this is not necessarily meant for direct use in
calculations; rather, it is useful for getting a RataDie guaranteed to be in a given year
as input for other calculations like calculating the leap month in a year.</div></li><li><div class="item-name"><a class="fn" href="fn.get_leap_month_from_new_year.html" title="fn calendrical_calculations::chinese_based::get_leap_month_from_new_year">get_leap_month_from_new_year</a></div><div class="desc docblock-short">Given that <code>new_year</code> is the first day of a leap year, find which month in the year is a leap month.
Since the first month in which there are no major solar terms is a leap month, this function
cycles through months until it finds the leap month, then returns the number of that month. This
function assumes the date passed in is in a leap year and tests to ensure this is the case in debug
mode by asserting that no more than thirteen months are analyzed.</div></li><li><div class="item-name"><a class="fn" href="fn.is_leap_year.html" title="fn calendrical_calculations::chinese_based::is_leap_year">is_leap_year</a></div><div class="desc docblock-short">Whether this year is a leap year</div></li><li><div class="item-name"><a class="fn" href="fn.last_month_day_in_year.html" title="fn calendrical_calculations::chinese_based::last_month_day_in_year">last_month_day_in_year</a></div><div class="desc docblock-short">The last month and day in this year</div></li><li><div class="item-name"><a class="fn" href="fn.major_solar_term_from_fixed.html" title="fn calendrical_calculations::chinese_based::major_solar_term_from_fixed">major_solar_term_from_fixed</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Get the current major solar term of a fixed date, output as an integer from 1..=12.</div></li><li><div class="item-name"><a class="fn" href="fn.midnight.html" title="fn calendrical_calculations::chinese_based::midnight">midnight</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Universal time of midnight at start of a Momentâ€™s day at the observation location</div></li><li><div class="item-name"><a class="fn" href="fn.month_days.html" title="fn calendrical_calculations::chinese_based::month_days">month_days</a></div><div class="desc docblock-short">Returns the number of days in the given (year, month). In the Chinese calendar, months start at each
new moon, so this function finds the number of days between the new moon at the beginning of the given
month and the new moon at the beginning of the next month.</div></li><li><div class="item-name"><a class="fn" href="fn.month_structure_for_year.html" title="fn calendrical_calculations::chinese_based::month_structure_for_year">month_structure_for_year</a></div><div class="desc docblock-short">Returns the length of each month in the year, as well as a leap month index (1-indexed) if any.
Month lengths are stored as true for 30-day, false for 29-day.
In the case of no leap months, month 13 will have value false.</div></li><li><div class="item-name"><a class="fn" href="fn.new_moon_before.html" title="fn calendrical_calculations::chinese_based::new_moon_before">new_moon_before</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">The fixed date in standard time at the observation location of the previous new moon before a given Moment.</div></li><li><div class="item-name"><a class="fn" href="fn.new_moon_on_or_after.html" title="fn calendrical_calculations::chinese_based::new_moon_on_or_after">new_moon_on_or_after</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">The fixed date in standard time at the observation location of the next new moon on or after a given Moment.</div></li><li><div class="item-name"><a class="fn" href="fn.new_year_in_sui.html" title="fn calendrical_calculations::chinese_based::new_year_in_sui">new_year_in_sui</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Determines the fixed date of the lunar new year given the start of its corresponding solar year (æ­²), which is
also the winter solstice</div></li><li><div class="item-name"><a class="fn" href="fn.new_year_on_or_before_fixed_date.html" title="fn calendrical_calculations::chinese_based::new_year_on_or_before_fixed_date">new_year_on_or_before_fixed_date</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Get the fixed date of the nearest Lunar New Year on or before a given fixed date.
This function also returns the solstice following a given date for optimization (see #3743).</div></li><li><div class="item-name"><a class="fn" href="fn.winter_solstice_on_or_before.html" title="fn calendrical_calculations::chinese_based::winter_solstice_on_or_before">winter_solstice_on_or_before</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Get the fixed date of the nearest winter solstice, in the Chinese time zone,
on or before a given fixed date.</div></li></ul></section></div></main></body></html>